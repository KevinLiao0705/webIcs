{"version":3,"sources":["cheetahGrid.es5.min/cheetahGrid.es5.min.js","cheetahGrid.es5.min/webpack/universalModuleDefinition","cheetahGrid.es5.min/webpack/bootstrap","cheetahGrid.es5.min/./internal/utils.js","cheetahGrid.es5.min/./internal/symbolManager.js","cheetahGrid.es5.min/./internal/com.js","cheetahGrid.es5.min/./columns/style/Style.js","cheetahGrid.es5.min/./core/DrawGrid.js","cheetahGrid.es5.min/./internal/EventHandler.js","cheetahGrid.es5.min/node_modules/css-loader/lib/css-base.js","cheetahGrid.es5.min/node_modules/style-loader/lib/addStyles.js","cheetahGrid.es5.min/./internal/canvases.js","cheetahGrid.es5.min/./columns/type/BaseColumn.js","cheetahGrid.es5.min/./columns/type/Column.js","cheetahGrid.es5.min/./element/Inline.js","cheetahGrid.es5.min/./core/EventTarget.js","cheetahGrid.es5.min/./columns/action/Editor.js","cheetahGrid.es5.min/./internal/dom.js","cheetahGrid.es5.min/./columns/type/columnUtils.js","cheetahGrid.es5.min/./header/style.js","cheetahGrid.es5.min/./internal/Rect.js","cheetahGrid.es5.min/./internal/calc.js","cheetahGrid.es5.min/./columns/action/BaseAction.js","cheetahGrid.es5.min/./columns/style/StdBaseStyle.js","cheetahGrid.es5.min/./columns/style/BaseStyle.js","cheetahGrid.es5.min/./internal/icons.js","cheetahGrid.es5.min/./themes.js","cheetahGrid.es5.min/./data/DataSource.js","cheetahGrid.es5.min/./internal/path2DManager.js","cheetahGrid.es5.min/./columns/message/BaseMessage.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.js","cheetahGrid.es5.min/./columns/message/messageUtils.js","cheetahGrid.es5.min/./internal/style.js","cheetahGrid.es5.min/./tools/canvashelper.js","cheetahGrid.es5.min/./columns.js","cheetahGrid.es5.min/./columns/action/Action.js","cheetahGrid.es5.min/./columns/action/actionBind.js","cheetahGrid.es5.min/./internal/animate.js","cheetahGrid.es5.min/./columns/action/BaseInputEditor.js","cheetahGrid.es5.min/./internal/menu-items.js","cheetahGrid.es5.min/./columns/style.js","cheetahGrid.es5.min/./columns/style/NumberStyle.js","cheetahGrid.es5.min/./columns/style/CheckStyle.js","cheetahGrid.es5.min/./columns/style/ButtonStyle.js","cheetahGrid.es5.min/./columns/style/ImageStyle.js","cheetahGrid.es5.min/./columns/style/IconStyle.js","cheetahGrid.es5.min/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.es5.min/./internal/imgs.js","cheetahGrid.es5.min/./themes/MATERIAL_DESIGN.js","cheetahGrid.es5.min/./plugins/themes.js","cheetahGrid.es5.min/./data.js","cheetahGrid.es5.min/./internal/sort.js","cheetahGrid.es5.min/./GridCanvasHelper.js","cheetahGrid.es5.min/./internal/fonts.js","cheetahGrid.es5.min/./element/InlineImage.js","cheetahGrid.es5.min/./icons.js","cheetahGrid.es5.min/./plugins/icons.js","cheetahGrid.es5.min/./internal/color.js","cheetahGrid.es5.min/./header/style/BaseStyle.js","cheetahGrid.es5.min/./header/type/BaseHeader.js","cheetahGrid.es5.min/./list-grid/EVENT_TYPE.js","cheetahGrid.es5.min/./main.js","cheetahGrid.es5.min/./core.js","cheetahGrid.es5.min/./internal/Scrollable.js","cheetahGrid.es5.min/./internal/style.css*","cheetahGrid.es5.min/./internal/style.css","cheetahGrid.es5.min/node_modules/style-loader/lib/urls.js","cheetahGrid.es5.min/./internal/NumberMap.js","cheetahGrid.es5.min/./internal/hiDPI.js","cheetahGrid.es5.min/./tools.js","cheetahGrid.es5.min/./columns/action.js","cheetahGrid.es5.min/./columns/action/CheckEditor.js","cheetahGrid.es5.min/./columns/action/ButtonAction.js","cheetahGrid.es5.min/./columns/action/SmallDialogInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/SmallDialogInputElement.css","cheetahGrid.es5.min/./columns/action/InlineInputEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineInputElement.css","cheetahGrid.es5.min/./columns/action/InlineMenuEditor.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.js","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css*","cheetahGrid.es5.min/./columns/action/internal/InlineMenuElement.css","cheetahGrid.es5.min/./columns/type.js","cheetahGrid.es5.min/./columns/type/NumberColumn.js","cheetahGrid.es5.min/./columns/type/CheckColumn.js","cheetahGrid.es5.min/./columns/type/ButtonColumn.js","cheetahGrid.es5.min/./columns/type/ImageColumn.js","cheetahGrid.es5.min/./internal/LRUCache.js","cheetahGrid.es5.min/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.es5.min/./columns/type/IconColumn.js","cheetahGrid.es5.min/./columns/type/BranchGraphColumn.js","cheetahGrid.es5.min/./columns/style/BranchGraphStyle.js","cheetahGrid.es5.min/./columns/type/MenuColumn.js","cheetahGrid.es5.min/./columns/type/MultilineTextColumn.js","cheetahGrid.es5.min/./columns/style/MultilineTextStyle.js","cheetahGrid.es5.min/./themes/theme.js","cheetahGrid.es5.min/./themes/BASIC.js","cheetahGrid.es5.min/./data/CachedDataSource.js","cheetahGrid.es5.min/./data/FilterDataSource.js","cheetahGrid.es5.min/./ListGrid.js","cheetahGrid.es5.min/./element/inlines.js","cheetahGrid.es5.min/./element/InlineIcon.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.es5.min/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.es5.min/./element/InlineSvg.js","cheetahGrid.es5.min/./element/InlineDrawer.js","cheetahGrid.es5.min/./element/InlinePath2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/Path2D.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.es5.min/./internal/legacy/canvas/PathCommands.js","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid.es5.min/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid.es5.min/./header/type.js","cheetahGrid.es5.min/./header/type/Header.js","cheetahGrid.es5.min/./header/style/Style.js","cheetahGrid.es5.min/./header/type/SortHeader.js","cheetahGrid.es5.min/./columns/message/MessageHandler.js","cheetahGrid.es5.min/./columns/message/ErrorMessage.js","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/MessageElement.css","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/ErrorMessageElement.css","cheetahGrid.es5.min/./columns/message/WarningMessage.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.js","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css*","cheetahGrid.es5.min/./columns/message/internal/WarningMessageElement.css","cheetahGrid.es5.min/./columns/message/InfoMessage.js","cheetahGrid.es5.min/./register.js"],"names":["root","factory","window","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getDefault","getModuleExports","isDef","data","applyChainSafe","obj","fn","_len2","arguments","length","names","Array","_key2","arrayFind","arrayFindIndex","array","find","arr","predicate","index","findIndex","undefined","ua","navigator","userAgent","toLowerCase","IE","match","Chrome","indexOf","Firefox","isPromise","then","browser","heightLimit","extend","result","_len","args","_key","forEach","source","_loop","key","set","val","isDescendantElement","target","parentElement","getChainSafe","_len3","_key3","getOrApply","_len4","_key4","getIgnoreCase","u","k","callback","setReadonly","each","isObject","str","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","lastIndexOf","event","getMouseButtons","e","buttons","which","button","getKeyCode","keyCode","isTouchEvent","changedTouches","cancel","preventDefault","stopPropagation","style","toBoxArray","__webpack_provided_Array_dot_isArray","emptyFn","this","nextId","Symbol","id","mem","PROTECTED_SYMBOL","CHECK_COLUMN_STATE_ID","BUTTON_COLUMN_STATE_ID","COLUMN_FADEIN_STATE_ID","BRANCH_GRAPH_COLUMN_STATE_ID","SMALL_DIALOG_INPUT_EDITOR_STATE_ID","INLINE_INPUT_EDITOR_STATE_ID","INLINE_MENU_EDITOR_STATE_ID","Array_isArray","isArray","StdBaseStyle","defaultStyle","Style","_StdBaseStyle","constructor","_classCallCheck","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","_color","color","_font","font","_padding","padding","_inherits","_createClass","doChangeStyle","createRootElement","element","document","createElement","classList","add","_vibrate","vibrate","_getTargetRowAt","grid","absoluteY","internal","getTargetRowAtInternal","candRow","min","ceil","_","defaultRowHeight","rowCount","bottom","_getRowsHeight","startRow","startBottom","top","_getRowHeight","row","findAfter","findBefore","_getTargetColAt","absoluteX","left","colCount","col","right","_getColWidth","_getTargetFrozenRowAt","frozenRowCount","scroll","_getTargetFrozenColAt","frozenColCount","_getFrozenRowsRect","height","Rect","canvas","width","_getFrozenColsRect","_drawCell","ctx","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","rect","drawRect","bounds","max","save","cellDrawing","drawCells","_getCellDrawing","dcContext","DrawCellContext","selection","onDrawCell","context","_putCellDrawing","pCol","_delayMode","keys","_removeCellDrawing","terminate","restore","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","beginPath","fillStyle","underlayBackgroundColor","fill","count","_invalidateRect","_getVisibleRect","_getInitContext","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","draw","_toPxWidth","round","calc","toPx","calcWidthContext","_getDefaultColPxWidth","defaultColWidth","_adjustColWidth","orgWidth","limit","colWidthsLimit","colWidthsMap","_setColWidth","put","startCol","endCol","w","getRowHeightInternal","rowHeightsMap","endRow","getRowsHeightInternal","h","_moveFocusCell","shiftKey","offset","getOffsetInvalidateCells","extendRange","range","start","end","beforeRange","beforeRect","getCellsRect","_setFocusCell","makeVisibleCell","focusCell","afterRange","afterRect","intersection","invalidateRect","_getMouseAbstractPoint","clientX","pageX","scrollX","clientY","pageY","scrollY","getBoundingClientRect","x","y","_bindEvents","getCellEventArgsSet","abstractPos","cell","getCellAt","eventArgs","canResizeColumn","handler","on","eventArgsSet","results","fireListeners","EVENT_TYPE","MOUSEDOWN_CELL","v","resizeCol","_getResizeColAt","columnResizer","cellSelector","doubleTapBefore","longTouchId","clearTimeout","DBLTAP_CELL","defaultPrevented","setTimeout","select","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","MOUSEENTER_CELL","onMouseleaveCell","beforeMouseCell","MOUSELEAVE_CELL","onMouseoverCell","MOUSEOVER_CELL","onMouseoutCell","MOUSEOUT_CELL","scrollElement","scrollable","getElement","MOUSEMOVE_CELL","moving","cursor","lastMoving","hasListeners","CLICK_CELL","DBLCLICK_CELL","focusControl","listen","KEYDOWN","SELECTED_CELL","selected","onScroll","lastLeft","lastTop","moveX","scrollLeft","moveY","scrollTop","abs","drawImage","redrawRect","copy","frozenRect","_onScroll","SCROLL","onKeyDownMove","_focus","_sel","KEY_LEFT","getMoveLeftColByKeyDownInternal","cancelEvent","KEY_UP","getMoveUpRowByKeyDownInternal","KEY_RIGHT","getMoveRightColByKeyDownInternal","KEY_DOWN","getMoveDownRowByKeyDownInternal","KEY_HOME","ctrlKey","KEY_END","_onKeyDownMove","copyValue","copyCellValue","getCopyCellValue","Promise","strCellValue","onCopy","onInput","_grid$_$selection$sel","INPUT_CELL","bindEventsInternal","abstractX","abstractY","inPoint","cellRect","getCellRect","_toRelativeRect","absoluteRect","offsetLeft","offsetTop","setSafeInputValue","input","type","_webpack_require__","_webpack_require__$ev","EventTarget","Scrollable","EventHandler","NumberMap","getFontSize","hiDPI","KEY_ALPHA_C","MOUSEUP_CELL","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","RESIZE_COLUMN","BaseMouseDownMover","_grid","_handler","_events","_started","_moved","last","_mouseEndPoint","pt","_this2","touchmove","body","_mouseMove","passive","touchend","_mouseUp","touchcancel","mousemove","mouseup","_moveInternal","_this3","off","_upInternal","dispose","CellSelector","_BaseMouseDownMover","apply","_getTargetCell","_bindMoveAndUp","_cell","_this5","makeVisibleCol","makeVisibleRow","ColumnResizer","_BaseMouseDownMover2","_this6","_targetCol","_x","_preX","_invalidateAbsoluteLeft","pre","getColWidth","afterSize","updateScroll","FocusControl","_EventTarget","_this7","_scrollable","_input","readOnly","appendChild","_isComposition","_compositionEnd","focus","handleCompositionEnd","remove","metaKey","inputClear","clipboardData","setData","_this8","calcTop","getScrollBarSize","toFixed","el","composition","contains","atts","attributes","removeNames","att","_inputStatus","nodeName","push","removeName","removeAttribute","setAttribute","_get","editMode","Selection","_EventTarget2","_this9","_start","_end","_this10","_wrapFireSelectedEvent","keepSelect","_this11","_setSelectCell","_isWraped","before","after","points","needChange","inCell","_focus2","_this12","_cell$col","_cell$row","_layers","level","DrawLayer","addDraw","list","sort","a","b","_level","_list","drawing","_col","_row","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","sel","getCellRelativeRect","_isOutOfRange","_toRelativeDrawRect","_grid2","getContext","toCurrentContext","bind","isFrozenCell","fRect","onTerminate","_onTerminate","DrawGrid","_EventTarget3","_ref","_ref$rowCount","_ref$colCount","_ref$frozenColCount","_ref$frozenRowCount","_ref$defaultRowHeight","_ref$defaultColWidth","_this13","initDocument","transform","alpha","full","em","updateSize","_$selection$select","cfg","config","offsetWidth","offsetHeight","setFocusRect","setScrollSize","eachAll","getScrollHeightInternal","_getScrollHeight","_setRowHeight","maxwidth","minwidth","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","frozen","getRowAt","getColAt","frozenColsWidth","frozenRowsHeight","_getScrollableVisibleRect","resetInputStatus","_$selection$select2","selCol","selRow","storeInputStatus","setDefaultInputStatus","invalidateGridRect","cellsRect","invalidateTarget","disposable","Error","disposables","removeChild","_ref2","_ref3","_ref4","_ref5","strokeStyle","textAlign","textBaseline","lineWidth","_updateGridRange","_$selection$focus","_$selection$focus2","_listeners","listener","_len5","options","_key5","addEventListener","_obj$target","removeEventListener","_obj$target2","_obj$target3","_len6","_key6","_obj$listener","_obj$target4","clear","useSourceMap","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","JSON","stringify","sourceURLs","sources","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","memo","stylesInDom","isOldIE","all","atob","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","_typeof","removeStyleElement","parentNode","idx","splice","createStyleElement","attrs","addAttrs","update","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","href","styleSheet","cssText","createTextNode","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","cssNode","childNodes","calcStartPosition","_ref7","_ref7$offset","_ref7$padding","_ref7$padding$left","paddingLeft","_ref7$padding$right","paddingRight","_ref7$padding$top","paddingTop","_ref7$padding$bottom","paddingBottom","fontSizeCache","calcBasePosition","_ref6","_ref6$offset","_ref6$padding","_ref6$padding$left","_ref6$padding$right","_ref6$padding$top","_ref6$padding$bottom","bk","measureText","getFadinState","_generateFadinPointAction","drawInternal","drawCellBase","point","state","stateKey","opacity","cellState","globalAlpha","styleContents","_webpack_require__5","animate","BaseStyle","fadinMgr","activeFadeins","f","margeAnimate","BaseColumn","option","_fadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","cellValue","info","_this14","getRecord","helper","getGridCanvasHelper","record","Date","now","getDrawRect","time","currentContext","actStyle","of","StyleClass","convertInternal","drawMessageInternal","getMessage","column","configure","isFadeinWhenCallbackInPromise","message","messageHandler","drawCellMessage","util","utils","Column","_BaseColumn","_ref8","getIcon","bgColor","testFontLoad","loadIcons","icons","text","Inline","_content","_ref9","_ref10","canvashelper","offsetRight","offsetBottom","fillTextRect","_webpack_require__8","listeners","listenerData","_this16","_this17","unlisten","_this18","_len7","_key7","BaseAction","Editor","_BaseAction","_this19","_readOnly","onChangeReadOnlyInternal","tagName","_element$classList","_ref11","html","textContent","innerHTML","isNode","arg","nodeType","toNode","dom","slice","toNodeList","jQuery","node","isFocusable","tabIndex","empty","appendHtml","inner","disableFocus","dataset","disableBeforeTabIndex","children","enableFocus","findPrevSiblingFocusable","previousSibling","findNextSiblingFocusable","icon","_this20","loadIcon","iconList","toNormarizeArray","columnStyle","DEFAULT","_left","_top","_width","_height","_right","_bottom","x0","x1","y0","y1","another","rect1","rect2","parse","calcStr","replacer","num","unit","script","replace","eval","_eval","test","substr","trim","_disabled","disabled","onChangeDisabledInternal","_BaseStyle","_this21","_textAlign","_textBaseline","CHANGE_STYLE","_EventTarget4","_this22","_bgColor","ICON_PROP_KEYS","doms","props","getIconProps","className","tagProps","beforeStyle","defaultView","getComputedStyle","getPropertyValue","quoted","split","quote","clientWidth","isLiga","toSimpleArray","iconProps","workData","prop","toPropArray","_loop2","normarize","iconPropKeys","_webpack_require__12","theme","plugins","builtin","BASIC","create","MATERIAL_DESIGN","defTheme","themes","default","defaultTheme","t","choices","getValue","setPromiseBack","_getIndex","dataSource","_sortedIndexMap","mapIndex","_webpack_require__13","UPDATE_LENGTH","UPDATED_LENGTH","UPDATED_ORDER","DataSource","_EventTarget5","_this23","_length","getOriginal","field","getOriginalField","hasOriginalField","setOriginalField","order","_this24","sortedIndexMap","orderFn","v1","v2","sortPromise","_this25","recordPromiseCallBackInternal","_this26","getField","ss","fieldPromiseCallBackInternal","setField","EMPTY","getPath2D","Path2D","upsideDown","ud","_module$x","offsetX","_module$y","offsetY","xrate","yrate","translate","scale","path2d","BaseMessage","detachMessageElement","_messageElement","createMessageElementInternal","_getMessageElement","attach","move","_detach","drawCellMessageInternal","CLASSNAME","MESSAGE_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","MessageElement","rootElement","_rootElement","messageElement","createMessageDomElement","detach","_attachCell","_grid$getAttachCellAr","getAttachCellArea","drawExclamationMarkBox","getRect","boxRect","fillRect","fillColor","fillRectWithState","drawInfomationMarkBox","SCROLLBAR_SIZE","dummy","parseInt","getScrollBarWidth","roundRect","radius","arc","PI","closePath","fillRoundRect","strokeRoundRect","stroke","measureCheckbox","_webpack_require__15","drawCheckbox","check","_ref15","_ref15$uncheckBgColor","uncheckBgColor","_ref15$checkBgColor","checkBgColor","_ref15$borderColor","borderColor","_ref15$boxSize","boxSize","checkPoint","leftWidth","rightWidth","leftLeftPos","leftTopPos","moveTo","lineTo","_ref13","_ref13$offset","clip","pos","fillText","drawButton","_option$backgroundCol","backgroundColor","_option$bgColor","_option$radius","_option$shadow","shadow","_shadow$color","_shadow$blur","blur","_shadow$offsetX","_shadow$offsetY","_shadow$offset","_shadow$offset$x","ox","_shadow$offset$y","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawInlineImageRect","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","_ref14","_ref14$offset","strokeColorsRect","borderColors","strokeRect","positions","preColor","pos1","pos2","strokeRectLines","action","_webpack_require__16","bindCellClickAction","bindCellKeyAction","Action","_BaseAction2","_this27","_action","_this28","getState","getRowRecord","_toConsumableArray","mouseOver","mouseActiveCell","invalidateCell","mouseOut","_webpack_require__17","_webpack_require__18$","KEY_ENTER","_ref16","isTarget","_ref17","_ref17$acceptKeys","acceptKeys","cubicBezier","x2","y2","x3","y3","step","EASINGS","linear","easeIn","easeOut","easeInOut","raf","requestAnimationFrame","duration","easing","startedAt","canceledFlg","createAnim","resolve","reject","anim","_webpack_require__19$","BaseInputEditor","_Editor","inputValue","_this30","open","onOpenCellInternal","onInputCellInternal","onChangeSelectCellInternal","onGridScrollInternal","onSetInputAttrsInternal","normalize","caption","NumberStyle","CheckStyle","ButtonStyle","ImageStyle","IconStyle","PercentCompleteBarStyle","adj","_style$textAlign","_Style","_style$textAlign2","_StdBaseStyle2","_this32","_uncheckBgColor","_checkBgColor","_borderColor","_style$textAlign3","_Style2","_this33","buttonBgColor","_buttonBgColor","_style$textAlign4","_StdBaseStyle3","_this34","_imageSizing","imageSizing","_margin","margin","_style$textAlign5","_Style3","DEFAULT_BAR_COLOR","_Style4","_this36","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","LRUCache","allCache","loadImage","src","console","error","img","Image","onload","onerror","url","warn","search","isDataUrl","getCacheOrLoad","cacheName","cacheSize","cache","getCacheOrLoad0","defaultBgColor","frozenRowsBgColor","frozenRowsColor","hiliteBorderColor","selectionBgColor","frozenRowsBorderColor","checkbox","CachedDataSource","FilterDataSource","wait","setArrayField","plist","_loop4","compare","old","createArray","r1","r2","sortArray","_loop3","createArrayPromise","dummyPromise","catch","getColor","getThemeColor","_len8","_key8","drawInlines","inlines","drawInline","inline","canDraw","onReady","inlineWidths","reduce","inlineWidth","_inlineRect","_ref18","actInlines","buildInlines","_webpack_require__22","colorToRGB","_webpack_require__24","fonts","Theme","_len9","_key9","_checkbox","_button","GridCanvasHelper","_theme","calcWidth","calcHeight","calculator","createCalculator","box","clipLeft","clipWidth","clipTop","clipHeight","_this37","_ref21","_ref21$offset","_ref21$textAlign","_ref21$textBaseline","drawWithClip","toBoxPixelArray","multilines","_this38","_ref22","_ref22$offset","_ref22$textAlign","_ref22$textBaseline","_ref22$lineHeight","lineHeight","multiInlines","_ref19","pad","line","shift","_multiInlineRect","_ref23","_ref23$textAlign","_ref23$textBaseline","_this39","_ref24$fillColor","getFillColorState","fillCell","_ref25$fillColor","getSelectState","_this40","_ref26","_ref26$borderColor","_ref26$lineWidth","drawBorderWithClip","startOffset","_this41","border","_this42","_ref20","_ref20$animElapsedTim","animElapsedTime","_ref20$uncheckBgColor","_ref20$checkBgColor","_ref20$borderColor","_ref20$textAlign","_ref20$textBaseline","boxWidth","uncheckBgRGB","checkBgRGB","checkRGB","colorName","diff","uncheckRGB","_this43","_ref27","_ref27$bgColor","_ref27$offset","_ref27$color","_ref27$textAlign","_ref27$textBaseline","load","loads","legacy","testStr","ready","InlineImage","_Inline","_ref28","imageLeft","imageTop","imageWidth","imageHeight","_this44","_src","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","_loaded","_loadImage","_this45","_inlineImg","_ref29","_ref30","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","hexToNum","hex","createRGB","g","testRGB","_ref33","rateToByte","colorToRGB0","_ref31","_ref32","g1","g2","b1","b2","ret","rgb","rgbMap","styleColor","styleColorToRGB","_EventTarget6","_ref34","_ref34$textAlign","_ref34$textBaseline","_this46","BaseHeader","headerCell","_headerCell","CHANGED_VALUE","core","tools","columns","ListGrid","register","_internal","symbolManager","path2DManager","_update","domHeight","MAX_SCROLL","sbSize","vScrollRange","rScrollRange","_p","_endPointElement","relativeTop","hmr","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","_keys","_vals","_sorted","_this47","keyFrom","keyTo","ary","elm","low","high","indexFirst","ratio","setRatio","devicePixelRatio","getAttribute","_len10","_key10","wh","_len11","_key11","_len12","_key12","CheckEditor","ButtonAction","SmallDialogInputEditor","InlineInputEditor","InlineMenuEditor","ImmutableCheckEditor","_CheckEditor","ImmutableInputEditor","_SmallDialogInputEdit","ACTIONS","CHECK","INPUT","columnAction","toUpperCase","toggleValue","_webpack_require__30","_webpack_require__31","_Editor2","_this51","blockKey","doChangeValue","onChange","elapsed","selrange","_Action","SmallDialogInputElement","globalElement","bindGridCount","attachInput","editor","addDisposable","detachInput","gridFocus","_BaseInputEditor","_this53","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","_classList","_type","_inputDialogManager","_this54","doGetCellValue","setInputAttrs","_webpack_require__37","_webpack_require__37$","INPUT_CLASSNAME","tryWithOffEvents","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","_dialog","readonly","createDialogElement","_bindDialogEvents","dialog","_beforePropEditor","_this55","_dialog$classList2","unbindProps","errorMessage","_grid$getAttachCellAr4","activeData","_onInputValue","_dialog$classList","bindProps","_activeData","_attaching","_isActive","_beforeValue","_this56","_validate","res","_activeData2","_this57","stopPropagationOnly","onKeyupAndPress","_doChangeValue","_onInputValueChange","_activeData3","inputOnly","_activeData4","InlineInputElement","_BaseInputEditor2","_this58","_this59","_webpack_require__41$","_input$classList","_bindInputEvents","_this60","_input$classList2","_grid$getAttachCellAr5","_activeData5","_activeData6","_this61","_webpack_require__45$","InlineMenuElement","detachMenu","_Editor3","_this62","_options","_this63","attachMenu","_webpack_require__47","_webpack_require__47$","_webpack_require__48","ITEM_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","attachElement","menu","openMenu","emptyItemEl","valueItemEl","_ref35","_item$classList","valueindex","span","optionToLi","_menu$classList","focusEl","focusIndex","_grid$getAttachCellAr6","allHeight","menuClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","_menu","_bindMenuEvents","_menu$classList2","_activeData7","closeMenu","_activeData8","_this64","items","querySelectorAll","NumberColumn","CheckColumn","ButtonColumn","ImageColumn","PercentCompleteBarColumn","IconColumn","BranchGraphColumn","MenuColumn","MultilineTextColumn","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","columnType","defaultFotmat","_Column","_this65","_format","format","Intl","NumberFormat","fmt","clone","isNaN","_BaseColumn2","toBoolean","_ref36","opt","_Column2","_this67","_caption","_ref37","active","MAX_LRU_CACHE_SIZE","_BaseColumn3","_ref38","_calcKeepAspectRatioS","maxWidth","maxHeight","newWidth","newHeight","calcKeepAspectRatioSize","_map","_cacheSize","remKey","_webpack_require__53","_Column3","_this69","_min","_max","_formatter","formatter","svalue","rate","barMaxWidth","MARGIN","barTop","barLeft","barSize","_Column4","_this70","_tagName","_className","_name","_iconWidth","iconWidth","Infinity","repeatArray","_webpack_require__54","BranchGraphStyle","BranchLine","fromIndex","_ref39","toIndex","colorIndex","BranchPoint","_ref40","_ref40$commit","commit","_ref40$lines","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","calcCommand","command","timelineData","cmd","from","branch","to","_ref41","branches","fromTargetIndex","findBranchRootIndex","branchTargetFromIndex","branchPoint","targetLine","merge","_ref42","_cmd$branch","_ref44","fromTargetLine","pop","commitMerge","_ref43","commitTag","calcBranchesInfo","allData","promise","_loop5","dataIndex","getAllColumnData","_BaseColumn4","_this71","_cache","_ref47","_ref48","_ref49","upLineIndexKey","downLineIndexKey","branchColors","branchLineWidth","circleSize","mergeStyle","branchXPoints","tl","textWidth","calcBranchXPoints","upLineIndex","downLineIndex","pointIndex","_ref45","_ref46","lineCap","upX","upRect","upY","bezierCurveTo","downX","downRect","downY","renderMerge","DEFAULT_BRANCH_COLORS","_BaseStyle2","_this72","_style$textAlign6","_branchColors","_circleSize","_branchLineWidth","_mergeStyle","_BaseColumn5","_this73","_ref50","_convertInternal","basePadding","textPadding","iconPadding","path","MultilineTextStyle","_BaseColumn6","_ref51","multilineText","_style$textBaseline","_Style5","_this75","_lineHeight","getProp","superObj","defNames","createTheme","superTheme","extends","cacheLinearGradient","_grid$getCellRelative","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","getLinearGradient","0","1","_DataSource","_this76","_rCache","_fCache","fCache","_ref52","_setFieldCache","DataSourceIterator","_dataSource","_curIndex","_data","next","_getIndexData","nest","FilterData","dc","original","_owner","_dataSourceItr","_filter","_filterdList","_queues","filterdList","queues","_findIndex","timeout","_findIndexWithTimeout","testTimeout","_this77","dataSourceItr","hasNext","movePrev","_DataSource2","_this78","_filterData","_getHeaderCellRange","headerMap","getHeaderCellRange","_getCellValue","getCell","_getField","_getCellMessage","_getCellIcon","_getCellIcon0","retIcon","_hasField","_getRowRecordIndex","hasField","_headerBorderWithState","borderWithState","selId","_refreshHeader","headerEvents","HeaderMap","header","headerObjects","_grid$_$headerEvents","ids","headerType","bindGridEvent","HeaderBaseStyle","invalidate","_grid$_$headerEvents2","_grid$_$headerEvents3","_refreshRowCount","minWidth","setColWidth","setMinColWidth","setMaxColWidth","isArrayHeaderRowHeight","headerRowHeight","setRowHeight","_tryWithUpdateDataSource","dataSourceEventIds","_setRecords","records","ofArray","_setDataSource","adjustListGridOption","_webpack_require__61","_webpack_require__63","MessageHandler","headerId","_columns","_headerCells","_headerObjects","_addHeaders","_setupHeaderType","isCellInRange","roots","_this79","rowCells","_newRow","hd","headerStyle","define","_this80","getHeaderCellRangeById","newRow","prev","_DrawGrid","_this81","sortState","gridCanvasHelper","_getHeaderCellRange3","_getHeaderCellRange2","getRowHeight","setRect","_updateRect","_ref53","drawCellBg","fillOpt","fillCellWithState","drawCellBorder","_onDrawValue","valueCallback","changeValueCallback","_this82","_setCellValue","self","_this83","_getHeaderCellRange4","_ref56","_ref57","_ref58","_ref59","columnIndex","_selection$range","_selection$range$star","_selection$range$end","newCol","getColumnIndexByField","_set","InlineIcon","InlineSvg","InlineDrawer","InlinePath2D","iconOf","svg","regedIcons","regedIcon","_ref61","drawWidth","drawHeight","_ref60","_ref60$offset","drawRegisteredIcon","_this84","il","_Inline2","_this85","_icon","_ref62","_ref63","FontRuler","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","getWidth","started_","check_","activeCallback","inactiveCallback","_this86","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","lastResortFont","HAS_WEBKIT_FALLBACK_BUG","exec","hasWebKitFallbackBug","widthsMatchLastResortWidths_","callbacks","_this87","cb","display","white-space","font-variant","font-size","font-style","font-weight","line-height","computeStyle","el_","buildSvgDataUrl","XMLSerializer","serializeToString","getSvgElement","DOMParser","parseFromString","_ref64","svgElem","elmWidth","elmHeight","_Inline3","_ref65","_this89","_draw","_ref66","_ref67","commands","_ref68","_this90","_path","_ref69","_ref70","parser","_this91","_ops","_len13","_key13","op","CanvasRenderingContext2D","originalFill","_this92","_len14","_key14","PathCommands","builder","argsProvider","canvasOperations","PathCommandsParser","_this93","_commands","_len15","_key15","_len16","_key16","_this94","ops","tokens","pathTokens","subsequentCommand","fst","log","mag","sqrt","pow","angle","sign","acos","dot","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","cost","cos","sint","sin","rotClockwise","xPrime2","pointMul","rx2","ry2","lambda","factor","cPrime","sum","rotCounterClockwise","meanVec","x1UnitVector","x2UnitVector","theta","rotate","_this95","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","_makeReflected","Q","quadraticCurveTo","q","T","_makeReflected2","A","xAxisRotation","largeArcFlag","sweepFlag","Header","SortHeader","_BaseHeader","_ref71","_BaseStyle3","_this97","_webpack_require__71$","_BaseHeader2","_this98","_sort","_range","_ref72","_style$textBaseline2","arrowSize","newState","_this99","_executeSort","_webpack_require__73","ErrorMessage","WarningMessage","InfoMessage","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","warning","normalizeMessage","hasMessage","_messageInstances","_bindGridEvent","messageInstances","_getMessageInstanceOfMessage","_attachInfo","instance","attachMessageElement","moveMessageElement","_this100","onSelectMessage","_attach","_move","ErrorMessageElement","messageUtils","_BaseMessage","_MessageElement","_this102","WarningMessageElement","_BaseMessage2","_this104","_BaseMessage3","themePlugins","iconPlugins","values","registers","amd"],"mappings":"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","file":"cheetahGrid.es5.min.js","sourcesContent":["(function(){\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 58);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\n{\n\tlet arrayFind;\n\tlet arrayFindIndex;\n\tconst array = {\n\t\tget find() {\n\t\t\tif (arrayFind) {\n\t\t\t\treturn arrayFind;\n\t\t\t}\n\t\t\tif (Array.prototype.find) {\n\t\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFind = (arr, predicate) => {\n\t\t\t\t\tconst index = array.findIndex(arr, predicate);\n\t\t\t\t\treturn index >= 0 ? arr[index] : undefined;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFind;\n\t\t},\n\t\tget findIndex() {\n\t\t\tif (arrayFindIndex) {\n\t\t\t\treturn arrayFindIndex;\n\t\t\t}\n\t\t\tif (Array.prototype.findIndex) {\n\t\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFindIndex = (arr, predicate) => {\n\t\t\t\t\tconst { length } = arr;\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tconst value = arr[i];\n\t\t\t\t\t\tif (predicate(value, i, arr)) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFindIndex;\n\t\t}\n\t};\n\n\tfunction isDef(data) {\n\t\treturn data !== null && typeof data !== 'undefined';\n\t}\n\tconst ua = window.navigator.userAgent.toLowerCase();\n\tconst IE = ua.match(/(msie)/) || ua.match(/trident/);\n\tconst Chrome = ua.indexOf('chrome') > -1 && ua.indexOf('edge') === -1;\n\tconst Firefox = ua.indexOf('firefox') > -1;\n\n\tfunction setReadonly(obj, name, value) {\n\t\tObject.defineProperty(obj, name, {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue\n\t\t});\n\t}\n\n\tfunction each(obj, fn) {\n\t\tfor (const key in obj) {\n\t\t\tfn(obj[key], key, obj);\n\t\t}\n\t}\n\n\tfunction isObject(obj) {\n\t\treturn obj === Object(obj);\n\t}\n\n\tfunction extend(...args) {\n\t\tconst result = {};\n\t\targs.forEach(source => {\n\t\t\tfor (const key in source) {\n\t\t\t\tObject.defineProperty(result, key, {\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn source[key];\n\t\t\t\t\t},\n\t\t\t\t\tset(val) {\n\t\t\t\t\t\tsource[key] = val;\n\t\t\t\t\t},\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\tfunction isDescendantElement(root, target) {\n\t\twhile (target.parentElement) {\n\t\t\tconst p = target.parentElement;\n\t\t\tif (root === p) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\ttarget = p;\n\t\t}\n\t\treturn false;\n\t}\n\tfunction applyChainSafe(obj, fn, ...names) {\n\t\tlet value = obj;\n\t\tfor (let i = 0; i < names.length && isDef(value); i++) {\n\t\t\tvalue = fn(value, names[i]);\n\t\t}\n\t\treturn value;\n\t}\n\tfunction getChainSafe(obj, ...names) {\n\t\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\n\t}\n\tfunction getOrApply(value, ...args) {\n\t\tif (typeof value === 'function') {\n\t\t\treturn value(...args);\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t}\n\tfunction endsWith(str, searchString, position) {\n\t\tconst subjectString = str.toString();\n\t\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n\t\t\tposition = subjectString.length;\n\t\t}\n\t\tposition -= searchString.length;\n\t\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\n\t\treturn lastIndex !== -1 && lastIndex === position;\n\t}\n\tconst isPromise = data => data && typeof data.then === 'function';\n\tconst then = (result, callback) => isPromise(result) ? result.then(r => callback(r)) : callback(result);\n\tfunction getMouseButtons(e) {\n\t\tif (isDef(e.buttons)) {\n\t\t\treturn e.buttons;\n\t\t}\n\t\t/*for legacy*/\n\t\tif (isDef(e.which)) {\n\t\t\tif (e.which === 3) {\n\t\t\t\t//right?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\tif (e.which === 2) {\n\t\t\t\t//middle?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\treturn e.which; //left or no\n\t\t}\n\n\t\tif (e.button === 0 || e.button === 1) {\n\t\t\treturn 1; //candidate left\n\t\t}\n\t\tif (e.button === 2) {\n\t\t\treturn 2; // right\n\t\t}\n\t\treturn 0; //no or middle?\n\t}\n\tfunction getKeyCode(e) {\n\t\treturn e.keyCode || e.which;\n\t}\n\tfunction isTouchEvent(e) {\n\t\treturn !!e.changedTouches;\n\t}\n\tfunction getIgnoreCase(obj, name) {\n\t\tif (obj[name]) {\n\t\t\treturn obj[name];\n\t\t}\n\t\tconst l = name.toLowerCase();\n\t\tif (obj[l]) {\n\t\t\treturn obj[l];\n\t\t}\n\t\tconst u = name.toLowerCase();\n\t\tif (obj[u]) {\n\t\t\treturn obj[u];\n\t\t}\n\t\tfor (const k in obj) {\n\t\t\tif (k.toLowerCase() === l) {\n\t\t\t\treturn obj[k];\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tfunction cancel(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}\n\n\tfunction toBoxArray(obj) {\n\t\tif (!__webpack_provided_Array_dot_isArray(obj)) {\n\t\t\treturn [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\n\t\t}\n\t\tif (obj.length === 3) {\n\t\t\treturn [obj[0] /*top*/, obj[1] /*right*/, obj[2] /*bottom*/, obj[1] /*left*/];\n\t\t}\n\t\tif (obj.length === 2) {\n\t\t\treturn [obj[0] /*top*/, obj[1] /*right*/, obj[0] /*bottom*/, obj[1] /*left*/];\n\t\t}\n\t\tif (obj.length === 1) {\n\t\t\treturn [obj[0] /*top*/, obj[0] /*right*/, obj[0] /*bottom*/, obj[0] /*left*/];\n\t\t}\n\t\treturn obj;\n\t}\n\n\t// Chrome 33554431\n\t// FireFox 17895588\n\t// IE 10737433\n\tmodule.exports = {\n\t\tisDef,\n\t\tbrowser: {\n\t\t\tIE,\n\t\t\tChrome,\n\t\t\tFirefox,\n\t\t\theightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433 // default IE limit\n\t\t},\n\t\textend,\n\t\tisDescendantElement,\n\t\tgetChainSafe,\n\t\tapplyChainSafe,\n\t\tgetOrApply,\n\t\tgetIgnoreCase,\n\t\tisPromise,\n\t\tthen,\n\t\tarray,\n\t\tobj: {\n\t\t\tsetReadonly,\n\t\t\teach,\n\t\t\tisObject\n\t\t},\n\t\tstr: {\n\t\t\tendsWith\n\t\t},\n\t\tevent: {\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tisTouchEvent,\n\t\t\tcancel\n\t\t},\n\t\tstyle: {\n\t\t\ttoBoxArray\n\t\t},\n\t\temptyFn() {}\n\t};\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Symbol = window.Symbol ? window.Symbol : (() => {\n\t\tlet nextId = 1;\n\t\treturn name => {\n\t\t\tconst id = nextId++;\n\t\t\tif (name) {\n\t\t\t\treturn ` $$$ ${name} - ${id} $$$ `;\n\t\t\t} else {\n\t\t\t\treturn ` $$$ ${id} $$$ `;\n\t\t\t}\n\t\t};\n\t})();\n\tconst mem = {};\n\n\tmodule.exports = {\n\t\tget(name) {\n\t\t\tif (name) {\n\t\t\t\treturn mem[name] ? mem[name] : mem[name] = Symbol(name);\n\t\t\t} else {\n\t\t\t\treturn Symbol();\n\t\t\t}\n\t\t},\n\t\tget PROTECTED_SYMBOL() {\n\t\t\treturn this.get('protected');\n\t\t},\n\t\tget CHECK_COLUMN_STATE_ID() {\n\t\t\treturn this.get('chkcol.stateID');\n\t\t},\n\t\tget BUTTON_COLUMN_STATE_ID() {\n\t\t\treturn this.get('btncol.stateID');\n\t\t},\n\t\tget COLUMN_FADEIN_STATE_ID() {\n\t\t\treturn this.get('col.fadein_stateID');\n\t\t},\n\t\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\n\t\t\treturn this.get('branch_graph_col.stateID');\n\t\t},\n\t\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('small_dialog_input_editor.stateID');\n\t\t},\n\t\tget INLINE_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_input_editor.stateID');\n\t\t},\n\t\tget INLINE_MENU_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_menu_editor.stateID');\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n\t'Array_isArray': window.Array.isArray\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(20);\n\tlet defaultStyle;\n\tclass Style extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new Style();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t\tthis._font = style.font;\n\t\t\tthis._padding = style.padding;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget font() {\n\t\t\treturn this._font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis._font = font;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget padding() {\n\t\t\treturn this._padding;\n\t\t}\n\t\tset padding(padding) {\n\t\t\tthis._padding = padding;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst {\n\t\tisDef,\n\t\tbrowser,\n\t\tisDescendantElement,\n\t\tarray,\n\t\tisPromise,\n\t\tevent: {\n\t\t\tisTouchEvent,\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tcancel: cancelEvent\n\t\t}\n\t} = __webpack_require__(0);\n\n\tconst EventTarget = __webpack_require__(12);\n\tconst Rect = __webpack_require__(17);\n\tconst Scrollable = __webpack_require__(60);\n\tconst EventHandler = __webpack_require__(5);\n\tconst NumberMap = __webpack_require__(64);\n\tconst style = __webpack_require__(29);\n\tconst calc = __webpack_require__(18);\n\tconst { getFontSize } = __webpack_require__(8);\n\tconst hiDPI = __webpack_require__(65);\n\t//protected symbol\n\tconst { PROTECTED_SYMBOL: _ } = __webpack_require__(1);\n\n\tfunction createRootElement() {\n\t\tconst element = document.createElement('div');\n\t\telement.classList.add('cheetah-grid');\n\t\treturn element;\n\t}\n\n\tconst KEY_END = 35;\n\tconst KEY_HOME = 36;\n\tconst KEY_LEFT = 37;\n\tconst KEY_UP = 38;\n\tconst KEY_RIGHT = 39;\n\tconst KEY_DOWN = 40;\n\tconst KEY_ALPHA_C = 67;\n\n\tconst EVENT_TYPE = {\n\t\tCLICK_CELL: 'click_cell',\n\t\tDBLCLICK_CELL: 'dblclick_cell',\n\t\tDBLTAP_CELL: 'dbltap_cell',\n\t\tMOUSEDOWN_CELL: 'mousedown_cell',\n\t\tMOUSEUP_CELL: 'mouseup_cell',\n\t\tSELECTED_CELL: 'selected_cell',\n\t\tKEYDOWN: 'keydown',\n\t\tMOUSEMOVE_CELL: 'mousemove_cell',\n\t\tMOUSEENTER_CELL: 'mouseenter_cell',\n\t\tMOUSELEAVE_CELL: 'mouseleave_cell',\n\t\tMOUSEOVER_CELL: 'mouseover_cell',\n\t\tMOUSEOUT_CELL: 'mouseout_cell',\n\t\tINPUT_CELL: 'input_cell',\n\t\tEDITABLEINPUT_CELL: 'editableinput_cell',\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\n\t\tRESIZE_COLUMN: 'resize_column',\n\t\tSCROLL: 'scroll'\n\t};\n\n\t//private methods\n\tfunction _vibrate(e) {\n\t\tif (navigator.vibrate && isTouchEvent(e)) {\n\t\t\tnavigator.vibrate(50);\n\t\t}\n\t}\n\tfunction _getTargetRowAt(grid, absoluteY) {\n\t\tconst internal = grid.getTargetRowAtInternal(absoluteY);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst findBefore = (startRow, startBottom) => {\n\t\t\tlet bottom = startBottom;\n\t\t\tfor (let row = startRow; row >= 0; row--) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst top = bottom - height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tbottom = top;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst findAfter = (startRow, startBottom) => {\n\t\t\tlet top = startBottom - _getRowHeight(grid, startRow);\n\t\t\tconst { rowCount } = grid[_];\n\t\t\tfor (let row = startRow; row < rowCount; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst bottom = top + height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\ttop = bottom;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\t\tconst bottom = _getRowsHeight(grid, 0, candRow);\n\t\tif (absoluteY >= bottom) {\n\t\t\treturn findAfter(candRow, bottom);\n\t\t} else {\n\t\t\treturn findBefore(candRow, bottom);\n\t\t}\n\t}\n\tfunction _getTargetColAt(grid, absoluteX) {\n\t\tlet left = 0;\n\t\tconst { colCount } = grid[_];\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenRowAt(grid, absoluteY) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet { top } = grid[_].scroll;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst bottom = top + height;\n\t\t\tif (bottom > absoluteY) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow\n\t\t\t\t};\n\t\t\t}\n\t\t\ttop = bottom;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenColAt(grid, absoluteX) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet { left } = grid[_].scroll;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getFrozenRowsRect(grid) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { top } = grid[_].scroll;\n\t\tlet height = 0;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\theight += _getRowHeight(grid, row);\n\t\t}\n\t\treturn new Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n\t}\n\tfunction _getFrozenColsRect(grid) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst { left } = grid[_].scroll;\n\t\tlet width = 0;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\twidth += _getColWidth(grid, col);\n\t\t}\n\t\treturn new Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n\t}\n\tfunction _getCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn grid[_].drawCells[row][col];\n\t}\n\tfunction _putCellDrawing(grid, col, row, context) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\tgrid[_].drawCells[row] = {};\n\t\t}\n\t\tgrid[_].drawCells[row][col] = context;\n\t}\n\tfunction _removeCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn;\n\t\t}\n\t\tdelete grid[_].drawCells[row][col];\n\t\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\n\t\t\tdelete grid[_].drawCells[row];\n\t\t}\n\t}\n\tfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n\t\tconst rect = new Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n\n\t\tconst drawRect = Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n\n\t\tif (drawRect.height > 0 && drawRect.width > 0) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tconst cellDrawing = _getCellDrawing(grid, col, row);\n\t\t\t\tif (cellDrawing) {\n\t\t\t\t\tcellDrawing.cancel();\n\t\t\t\t}\n\t\t\t\tconst dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, grid[_].selection, drawLayers);\n\t\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\n\t\t\t\tif (isPromise(p)) {\n\t\t\t\t\t//\n\t\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\n\n\t\t\t\t\tconst pCol = col;\n\t\t\t\t\tdcContext._delayMode(grid, () => {\n\t\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\n\t\t\t\t\t});\n\t\t\t\t\tp.then(() => {\n\t\t\t\t\t\tdcContext.terminate();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n\t\tconst { colCount } = grid[_];\n\t\tconst drawOuter = (col, absoluteLeft) => {\n\t\t\t//\n\t\t\tif (col >= colCount - 1 && grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n\t\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteLeft = 0;\n\t\tif (initFrozenCol) {\n\t\t\tlet absoluteLeft = initFrozenCol.left;\n\t\t\tconst count = grid[_].frozenColCount;\n\t\t\tfor (let { col } = initFrozenCol; col < count; col++) {\n\t\t\t\tconst width = _getColWidth(grid, col);\n\n\t\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n\n\t\t\t\tabsoluteLeft += width;\n\t\t\t\tif (drawRight <= absoluteLeft) {\n\t\t\t\t\t//\n\t\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteLeft = absoluteLeft;\n\t\t}\n\n\t\tlet absoluteLeft = initCol.left;\n\t\tfor (let { col } = initCol; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n\n\t\t\tabsoluteLeft += width;\n\t\t\tif (drawRight <= absoluteLeft) {\n\t\t\t\t//\n\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(colCount - 1, absoluteLeft);\n\t}\n\tfunction _invalidateRect(grid, drawRect) {\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tconst { rowCount } = grid[_];\n\t\tconst ctx = grid._getInitContext();\n\n\t\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n\t\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\n\t\t\trow: rowCount\n\t\t};\n\t\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n\t\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\n\t\t\tcol: grid[_].colCount\n\t\t};\n\t\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n\t\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\n\n\t\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\t\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n\t\tconst drawLayers = new DrawLayers();\n\n\t\tconst drawOuter = (row, absoluteTop) => {\n\t\t\t//\n\t\t\tif (row >= rowCount - 1 && grid[_].canvas.height > absoluteTop - visibleRect.top) {\n\t\t\t\tconst outerTop = absoluteTop - visibleRect.top;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteTop = 0;\n\t\tif (initFrozenRow) {\n\t\t\tlet absoluteTop = initFrozenRow.top;\n\t\t\tconst count = grid[_].frozenRowCount;\n\t\t\tfor (let { row } = initFrozenRow; row < count; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\t_drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n\t\t\t\tabsoluteTop += height;\n\t\t\t\tif (drawBottom <= absoluteTop) {\n\t\t\t\t\t//\n\t\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteTop = absoluteTop;\n\t\t}\n\n\t\tlet absoluteTop = initRow.top;\n\t\tfor (let { row } = initRow; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\n\t\t\t//\n\t\t\t_drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n\n\t\t\tabsoluteTop += height;\n\t\t\tif (drawBottom <= absoluteTop) {\n\t\t\t\t//\n\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(rowCount - 1, absoluteTop);\n\n\t\tdrawLayers.draw(ctx);\n\t}\n\n\tfunction _toPxWidth(grid, width) {\n\t\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\n\t}\n\n\tfunction _getDefaultColPxWidth(grid) {\n\t\treturn _toPxWidth(grid, grid.defaultColWidth);\n\t}\n\n\tfunction _adjustColWidth(grid, col, orgWidth) {\n\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\tif (!limit) {\n\t\t\treturn orgWidth;\n\t\t}\n\n\t\tif (limit.min) {\n\t\t\tconst min = _toPxWidth(grid, limit.min);\n\t\t\tif (min > orgWidth) {\n\t\t\t\treturn min;\n\t\t\t}\n\t\t}\n\t\tif (limit.max) {\n\t\t\tconst max = _toPxWidth(grid, limit.max);\n\t\t\tif (max < orgWidth) {\n\t\t\t\treturn max;\n\t\t\t}\n\t\t}\n\t\treturn orgWidth;\n\t}\n\n\tfunction _getColWidth(grid, col) {\n\t\tconst width = grid[_].colWidthsMap.get(col);\n\t\tif (width) {\n\t\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\n\t\t}\n\t\treturn _getDefaultColPxWidth(grid);\n\t}\n\tfunction _setColWidth(grid, col, width) {\n\t\tgrid[_].colWidthsMap.put(col, width);\n\t}\n\tfunction _getColsWidth(grid, startCol, endCol) {\n\t\tconst colCount = endCol - startCol + 1;\n\t\tlet w = _getDefaultColPxWidth(grid) * colCount;\n\t\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\n\tfunction _getRowHeight(grid, row) {\n\t\tconst internal = grid.getRowHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst height = grid[_].rowHeightsMap.get(row);\n\t\tif (height) {\n\t\t\treturn height;\n\t\t}\n\t\treturn grid[_].defaultRowHeight;\n\t}\n\tfunction _setRowHeight(grid, row, height) {\n\t\tgrid[_].rowHeightsMap.put(row, height);\n\t}\n\tfunction _getRowsHeight(grid, startRow, endRow) {\n\t\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst rowCount = endRow - startRow + 1;\n\t\tlet h = grid[_].defaultRowHeight * rowCount;\n\t\tgrid[_].rowHeightsMap.each(startRow, endRow, height => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\n\tfunction _getScrollWidth(grid) {\n\t\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\t\tgrid[_].colWidthsMap.eachAll((width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\tfunction _getScrollHeight(grid, row) {\n\t\tconst internal = grid.getScrollHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\n\t\tgrid[_].rowHeightsMap.eachAll(height => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\tfunction _onScroll(grid, e) {\n\t\tconst lastLeft = grid[_].scroll.left;\n\t\tconst lastTop = grid[_].scroll.top;\n\t\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\n\t\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\n\n\t\t//\n\t\tgrid[_].scroll = {\n\t\t\tleft: grid[_].scrollable.scrollLeft,\n\t\t\ttop: grid[_].scrollable.scrollTop\n\t\t};\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tif (Math.abs(moveX) >= visibleRect.width || Math.abs(moveY) >= visibleRect.height) {\n\t\t\t//\n\t\t\t_invalidateRect(grid, visibleRect);\n\t\t} else {\n\t\t\t//\n\t\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n\t\t\tif (moveX !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveX < 0) {\n\t\t\t\t\tredrawRect.width = -moveX;\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\t\t\t\tredrawRect.width += frozenRect.width;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveX > 0) {\n\t\t\t\t\tredrawRect.left = redrawRect.right - moveX;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveX > 0) {\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (moveY !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveY < 0) {\n\t\t\t\t\tredrawRect.height = -moveY;\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\t\t\t\tredrawRect.height += frozenRect.height;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveY > 0) {\n\t\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveY > 0) {\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _onKeyDownMove(grid, e) {\n\t\tconst { shiftKey } = e;\n\t\tconst keyCode = getKeyCode(e);\n\t\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\t\tif (keyCode === KEY_LEFT) {\n\t\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\t\t\tif (col < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_UP) {\n\t\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\t\t\tif (row < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_RIGHT) {\n\t\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\t\t\tif (grid.colCount <= col) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\t\t\tif (grid.rowCount <= row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_HOME) {\n\t\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\n\t\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_END) {\n\t\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\t\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t}\n\t}\n\tfunction _moveFocusCell(grid, col, row, shiftKey) {\n\t\tconst offset = grid.getOffsetInvalidateCells();\n\n\t\tfunction extendRange(range) {\n\t\t\tif (offset > 0) {\n\t\t\t\trange.start.col -= offset;\n\t\t\t\trange.start.row -= offset;\n\t\t\t\trange.end.col += offset;\n\t\t\t\trange.end.row += offset;\n\t\t\t}\n\t\t\treturn range;\n\t\t}\n\n\t\tconst beforeRange = extendRange(grid.selection.range);\n\t\tconst beforeRect = grid.getCellsRect(beforeRange.start.col, beforeRange.start.row, beforeRange.end.col, beforeRange.end.row);\n\n\t\tgrid.selection._setFocusCell(col, row, shiftKey);\n\t\tgrid.makeVisibleCell(col, row);\n\t\tgrid.focusCell(col, row);\n\n\t\tconst afterRange = extendRange(grid.selection.range);\n\t\tconst afterRect = grid.getCellsRect(afterRange.start.col, afterRange.start.row, afterRange.end.col, afterRange.end.row);\n\n\t\tif (afterRect.intersection(beforeRect)) {\n\t\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\n\t\t\t_invalidateRect(grid, invalidateRect);\n\t\t} else {\n\t\t\t_invalidateRect(grid, beforeRect);\n\t\t\t_invalidateRect(grid, afterRect);\n\t\t}\n\t}\n\tfunction _getMouseAbstractPoint(grid, e) {\n\t\tif (isTouchEvent(e)) {\n\t\t\te = e.changedTouches[0];\n\t\t}\n\t\tconst clientX = e.clientX || e.pageX + window.scrollX;\n\t\tconst clientY = e.clientY || e.pageY + window.scrollY;\n\t\tconst rect = grid[_].canvas.getBoundingClientRect();\n\t\tif (rect.right <= clientX) {\n\t\t\treturn null;\n\t\t}\n\t\tif (rect.bottom <= clientY) {\n\t\t\treturn null;\n\t\t}\n\t\tconst x = clientX - rect.left + grid[_].scroll.left;\n\t\tconst y = clientY - rect.top + grid[_].scroll.top;\n\t\treturn { x, y };\n\t}\n\n\tfunction _bindEvents(grid) {\n\t\tconst getCellEventArgsSet = e => {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tabstractPos,\n\t\t\t\t\tcell\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst eventArgs = {\n\t\t\t\tcol: cell.col,\n\t\t\t\trow: cell.row,\n\t\t\t\tevent: e\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tabstractPos,\n\t\t\t\tcell,\n\t\t\t\teventArgs\n\t\t\t};\n\t\t};\n\t\tconst canResizeColumn = col => {\n\t\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\t\tif (!limit || !limit.min || !limit.max) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn limit.max !== limit.min;\n\t\t};\n\t\tgrid[_].handler.on(grid[_].element, 'mousedown', e => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst { abstractPos, eventArgs } = eventArgsSet;\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (eventArgs) {\n\t\t\t\tconst results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n\t\t\t\tif (array.findIndex(results, v => !v) >= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t//\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t} else {\n\t\t\t\t//\n\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t}\n\t\t});\n\t\tlet doubleTapBefore = null;\n\t\tlet longTouchId = null;\n\t\tgrid[_].handler.on(grid[_].element, 'touchstart', e => {\n\n\t\t\tif (!doubleTapBefore) {\n\t\t\t\tdoubleTapBefore = getCellEventArgsSet(e).eventArgs;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdoubleTapBefore = null;\n\t\t\t\t}, 350);\n\t\t\t} else {\n\t\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\t\tif (eventArgs && eventArgs.col === doubleTapBefore.col && eventArgs.row === doubleTapBefore.row) {\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.DBLTAP_CELL, eventArgs);\n\t\t\t\t}\n\n\t\t\t\tdoubleTapBefore = null;\n\n\t\t\t\tif (e.defaultPrevented) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlongTouchId = setTimeout(() => {\n\t\t\t\t//\n\t\t\t\tlongTouchId = null;\n\t\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\t\tif (!abstractPos) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\t\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t\t} else {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t});\n\n\t\tfunction cancel(e) {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t}\n\t\tgrid[_].handler.on(grid[_].element, 'touchcancel', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchmove', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchend', e => {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tgrid[_].cellSelector.select(e);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t});\n\n\t\tlet isMouseover = false;\n\t\tlet mouseEnterCell = null;\n\t\tlet mouseOverCell = null;\n\t\tfunction onMouseenterCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\n\t\t\tmouseEnterCell = cell;\n\t\t}\n\t\tfunction onMouseleaveCell() {\n\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\tmouseEnterCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tfunction onMouseoverCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\n\t\t\tmouseOverCell = cell;\n\t\t}\n\t\tfunction onMouseoutCell() {\n\t\t\tconst beforeMouseCell = mouseOverCell;\n\t\t\tmouseOverCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst scrollElement = grid[_].scrollable.getElement();\n\t\tgrid[_].handler.on(scrollElement, 'mouseover', e => {\n\t\t\tisMouseover = true;\n\t\t});\n\t\tgrid[_].handler.on(scrollElement, 'mouseout', e => {\n\t\t\tisMouseover = false;\n\t\t\tonMouseoutCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mouseleave', e => {\n\t\t\tonMouseleaveCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mousemove', e => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst { abstractPos, eventArgs } = eventArgsSet;\n\t\t\tif (eventArgs) {\n\t\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\t\tif (beforeMouseCell) {\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n\t\t\t\t\t\tonMouseoutCell();\n\t\t\t\t\t\tonMouseleaveCell();\n\t\t\t\t\t\tconst cell = {\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t\t};\n\t\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (isMouseover && !mouseOverCell) {\n\t\t\t\t\t\tonMouseoverCell({\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst cell = {\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row\n\t\t\t\t\t};\n\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t}\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonMouseoutCell();\n\t\t\t\tonMouseleaveCell();\n\t\t\t}\n\t\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { style } = grid[_].element;\n\t\t\tif (!abstractPos) {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\tstyle.cursor = 'col-resize';\n\t\t\t} else {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'click', e => {\n\t\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'dblclick', e => {\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { eventArgs } = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\n\t\t});\n\t\tgrid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, data => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.SELECTED_CELL, data, data.selected);\n\t\t});\n\n\t\tgrid[_].scrollable.onScroll(e => {\n\t\t\t_onScroll(grid, e);\n\t\t\tgrid.fireListeners(EVENT_TYPE.SCROLL, { event: e });\n\t\t});\n\t\tgrid[_].focusControl.onKeyDownMove(e => {\n\t\t\t_onKeyDownMove(grid, e);\n\t\t});\n\t\tgrid.listen('copydata', range => {\n\t\t\tlet copyValue = '';\n\t\t\tfor (let { row } = range.start; row <= range.end.row; row++) {\n\t\t\t\tfor (let { col } = range.start; col <= range.end.col; col++) {\n\t\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\n\t\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\n\t\t\t\t\t\t//\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst strCellValue = `${copyCellValue}`;\n\t\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\n\t\t\t\t\t\t\t//object \n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcopyValue += strCellValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (col < range.end.col) {\n\t\t\t\t\t\tcopyValue += '\\t';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcopyValue += '\\n';\n\t\t\t}\n\t\t\treturn copyValue;\n\t\t});\n\t\tgrid[_].focusControl.onCopy(e => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\t\tgrid[_].focusControl.onInput(value => {\n\t\t\tconst { col, row } = grid[_].selection.select;\n\t\t\tgrid.fireListeners(EVENT_TYPE.INPUT_CELL, { col, row, value });\n\t\t});\n\t\tgrid.bindEventsInternal();\n\t}\n\n\tfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n\t\tif (grid[_].frozenRowCount <= 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\tif (!frozenRect.inPoint(abstractX, abstractY)) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst cell = grid.getCellAt(abstractX, abstractY);\n\t\tconst cellRect = grid.getCellRect(cell.col, cell.row);\n\t\tif (abstractX < cellRect.left + offset) {\n\t\t\treturn cell.col - 1;\n\t\t}\n\t\tif (cellRect.right - offset < abstractX) {\n\t\t\treturn cell.col;\n\t\t}\n\t\treturn -1;\n\t}\n\tfunction _getVisibleRect(grid) {\n\t\treturn new Rect(grid[_].scroll.left, grid[_].scroll.top, grid[_].canvas.width, grid[_].canvas.height);\n\t}\n\tfunction _getScrollableVisibleRect(grid) {\n\t\tlet frozenColsWidth = 0;\n\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\tfrozenColsWidth = frozenRect.width;\n\t\t}\n\t\tlet frozenRowsHeight = 0;\n\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\tfrozenRowsHeight = frozenRect.height;\n\t\t}\n\t\treturn new Rect(grid[_].scroll.left + frozenColsWidth, grid[_].scroll.top + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n\t}\n\n\tfunction _toRelativeRect(grid, absoluteRect) {\n\t\tconst rect = absoluteRect.copy();\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\trect.offsetLeft(-visibleRect.left);\n\t\trect.offsetTop(-visibleRect.top);\n\n\t\treturn rect;\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\t//\n\n\t/**\n  * managing mouse down moving\n  * @private\n  */\n\tclass BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._events = {};\n\t\t\tthis._started = false;\n\t\t\tthis._moved = false;\n\t\t}\n\t\tmoving(e) {\n\t\t\treturn !!this._started;\n\t\t}\n\t\tlastMoving(e) {\n\t\t\t// mouseupclick\n\t\t\tif (this.moving(e)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst last = this._mouseEndPoint;\n\t\t\tif (!last) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\n\t\t\treturn pt.x === last.x && pt.y === last.y;\n\t\t}\n\t\t_bindMoveAndUp(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tthis._events.mousemove = this._handler.on(document.body, 'mousemove', e => this._mouseMove(e));\n\t\t\t\tthis._events.mouseup = this._handler.on(document.body, 'mouseup', e => this._mouseUp(e));\n\t\t\t} else {\n\t\t\t\tthis._events.touchmove = this._handler.on(document.body, 'touchmove', e => this._mouseMove(e), { passive: false });\n\t\t\t\tthis._events.touchend = this._handler.on(document.body, 'touchend', e => this._mouseUp(e));\n\t\t\t\tthis._events.touchcancel = this._handler.on(document.body, 'touchcancel', e => this._mouseUp(e));\n\t\t\t}\n\t\t\tthis._started = true;\n\t\t\tthis._moved = false;\n\t\t}\n\t\t_mouseMove(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\t\tthis._mouseUp(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\n\n\t\t\tcancelEvent(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\t_mouseUp(e) {\n\t\t\tthis._handler.off(this._events.mousemove);\n\t\t\tthis._handler.off(this._events.touchmove);\n\t\t\tthis._handler.off(this._events.mouseup);\n\t\t\tthis._handler.off(this._events.touchend);\n\t\t\t// this._handler.off(this._events.mouseleave);\n\t\t\tthis._handler.off(this._events.touchcancel);\n\n\t\t\tthis._started = false;\n\n\t\t\tthis._upInternal(e);\n\n\t\t\t// mouseupclick\n\t\t\tif (this._moved) {\n\t\t\t\t//\n\t\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._mouseEndPoint = null;\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t\t_upInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\n  * managing cell selection operation with mouse\n  * @private\n  */\n\tclass CellSelector extends BaseMouseDownMover {\n\t\tstart(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._cell = cell;\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\tselect(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\t\t\tthis._cell = cell;\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell || this._cell.col === cell.col && this._cell.row === cell.row) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, true);\n\n\t\t\t//make visible\n\t\t\tconst makeVisibleCol = (() => {\n\t\t\t\tif (cell.col < this._cell.col && 0 < cell.col) {\n\t\t\t\t\t// move left\n\t\t\t\t\treturn cell.col - 1;\n\t\t\t\t} else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\n\t\t\t\t\t// move right\n\t\t\t\t\treturn cell.col + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.col;\n\t\t\t})();\n\t\t\tconst makeVisibleRow = (() => {\n\t\t\t\tif (cell.row < this._cell.row && 0 < cell.row) {\n\t\t\t\t\t// move up\n\t\t\t\t\treturn cell.row - 1;\n\t\t\t\t} else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\n\t\t\t\t\t// move down\n\t\t\t\t\treturn cell.row + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.row;\n\t\t\t})();\n\t\t\tif (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\n\t\t\t\tthis._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n\t\t\t}\n\t\t\tthis._cell = cell;\n\t\t\treturn true;\n\t\t}\n\t\t_getTargetCell(e) {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(this._grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn cell;\n\t\t}\n\t}\n\t/**\n  * managing row width changing operation with mouse\n  * @private\n  */\n\tclass ColumnResizer extends BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tsuper(grid);\n\t\t\tthis._targetCol = -1;\n\t\t}\n\t\tstart(col, e) {\n\t\t\tlet pageX;\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\t({ pageX } = e);\n\t\t\t} else {\n\t\t\t\t({ pageX } = e.changedTouches[0]);\n\t\t\t}\n\n\t\t\tthis._x = pageX;\n\t\t\tthis._preX = 0;\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._targetCol = col;\n\t\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n\n\t\t\tconst x = pageX - this._x;\n\t\t\tconst moveX = x - this._preX;\n\t\t\tthis._preX = x;\n\t\t\tconst pre = this._grid.getColWidth(this._targetCol);\n\t\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\t\t\tif (afterSize < 10 && moveX < 0) {\n\t\t\t\tafterSize = 10;\n\t\t\t}\n\t\t\t_setColWidth(this._grid, this._targetCol, afterSize);\n\n\t\t\tconst rect = _getVisibleRect(this._grid);\n\t\t\trect.left = this._invalidateAbsoluteLeft;\n\t\t\t_invalidateRect(this._grid, rect);\n\n\t\t\tthis._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, { col: this._targetCol });\n\n\t\t\treturn true;\n\t\t}\n\t\t_upInternal(e) {\n\t\t\tthis._grid.updateScroll();\n\t\t}\n\t}\n\n\tfunction setSafeInputValue(input, value) {\n\t\tconst { type } = input;\n\t\tinput.type = '';\n\t\tinput.value = value;\n\t\tif (type) {\n\t\t\tinput.type = type;\n\t\t}\n\t}\n\n\t/**\n  * Manage focus\n  * @private\n  */\n\tclass FocusControl extends EventTarget {\n\t\tconstructor(grid, parentElement, scrollable) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\t\t\tthis._scrollable = scrollable;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._input = document.createElement('input');\n\t\t\tthis._input.classList.add('grid-focus-control');\n\t\t\tthis._input.readOnly = true;\n\t\t\tparentElement.appendChild(this._input);\n\n\t\t\tthis._handler.on(this._input, 'compositionstart', e => {\n\t\t\t\tthis._input.classList.add('composition');\n\t\t\t\tthis._input.style.font = this._grid.font || '16px sans-serif';\n\t\t\t\tthis._isComposition = true;\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\t\tdelete this._compositionEnd;\n\t\t\t\t}\n\t\t\t\tgrid.focus();\n\t\t\t});\n\n\t\t\tconst handleCompositionEnd = () => {\n\t\t\t\tthis._isComposition = false;\n\t\t\t\tthis._input.classList.remove('composition');\n\t\t\t\tthis._input.style.font = '';\n\t\t\t\tconst { value } = this._input;\n\n\t\t\t\tsetSafeInputValue(this._input, '');\n\n\t\t\t\tif (!this._input.readOnly) {\n\t\t\t\t\tthis.fireListeners('input', value);\n\t\t\t\t}\n\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\t\tdelete this._compositionEnd;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._handler.on(this._input, 'compositionend', e => {\n\t\t\t\tthis._compositionEnd = setTimeout(handleCompositionEnd);\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keypress', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this._input.readOnly && e.key && e.key.length === 1) {\n\t\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\t\t\t//copy! for Firefox\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.fireListeners('input', e.key);\n\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keydown', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tthis.fireListeners('keydown', keyCode, e);\n\n\t\t\t\tif (!this._input.readOnly && this._input.value) {\n\t\t\t\t\t// for Safari\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\n\t\t\t\t}\n\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tconst inputClear = e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t};\n\t\t\tthis._handler.on(this._input, 'keyup', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tinputClear(e);\n\t\t\t});\n\n\t\t\tthis._handler.on(this._input, 'input', inputClear);\n\t\t\tthis._handler.on(document, 'keydown', e => {\n\t\t\t\tif (!browser.IE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (e.target !== this._input) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n\t\t\t\t\tsetSafeInputValue(this._input, 'dummy');\n\t\t\t\t\tthis._input.select();\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._handler.on(document, 'copy', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\n\t\t\t\tif (isDef(data)) {\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\tif (browser.IE) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonKeyDownMove(fn) {\n\t\t\tthis._handler.on(this._input, 'keydown', e => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_LEFT || keyCode === KEY_UP || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_HOME || keyCode === KEY_END) {\n\t\t\t\t\tfn(e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonInput(fn) {\n\t\t\treturn this.listen('input', fn);\n\t\t}\n\t\tonCopy(fn) {\n\t\t\treturn this.listen('copy', fn);\n\t\t}\n\t\tfocus() {\n\t\t\t// this._input.value = '';\n\t\t\tthis._input.focus();\n\t\t}\n\t\tsetFocusRect(rect) {\n\t\t\tconst top = this._scrollable.calcTop(rect.top);\n\t\t\tthis._input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n\t\t\tthis._input.style.left = `${rect.left.toFixed()}px`;\n\t\t\tthis._input.style.width = `${rect.width.toFixed()}px`;\n\t\t\tthis._input.style.height = `${rect.height.toFixed()}px`;\n\t\t}\n\t\tset editMode(editMode) {\n\t\t\tthis._input.readOnly = !editMode;\n\t\t}\n\t\tresetInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tconst composition = el.classList.contains('composition');\n\n\t\t\tconst atts = el.attributes;\n\t\t\tconst removeNames = [];\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n\t\t\t\t\tremoveNames.push(att.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremoveNames.forEach(removeName => {\n\t\t\t\tel.removeAttribute(removeName);\n\t\t\t});\n\t\t\tfor (const name in this._inputStatus) {\n\t\t\t\tel.setAttribute(name, this._inputStatus[name]);\n\t\t\t}\n\t\t\tif (composition) {\n\t\t\t\tel.classList.add('composition');\n\t\t\t\tel.style.font = this._grid.font || '16px sans-serif';\n\t\t\t} else {\n\t\t\t\tel.classList.remove('composition');\n\t\t\t}\n\t\t}\n\t\tstoreInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tthis._inputStatus = {};\n\t\t\tconst atts = el.attributes;\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tthis._inputStatus[att.name] = att.value;\n\t\t\t}\n\t\t}\n\t\tsetDefaultInputStatus() {\n\t\t\t// \n\t\t\t// this._input.style.font = this._grid.font || '16px sans-serif';\n\t\t}\n\t\tget editMode() {\n\t\t\treturn !this._input.readOnly;\n\t\t}\n\t\tget input() {\n\t\t\treturn this._input;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\n  * Selected area management\n  */\n\tclass Selection extends EventTarget {\n\t\tconstructor(grid) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\n\t\t\tthis._sel = { col: 0, row: 0 };\n\t\t\tthis._focus = { col: 0, row: 0 };\n\n\t\t\tthis._start = { col: 0, row: 0 };\n\t\t\tthis._end = { col: 0, row: 0 };\n\t\t}\n\t\tget range() {\n\t\t\tconst startCol = Math.min(this._start.col, this._end.col);\n\t\t\tconst startRow = Math.min(this._start.row, this._end.row);\n\t\t\tconst endCol = Math.max(this._start.col, this._end.col);\n\t\t\tconst endRow = Math.max(this._start.row, this._end.row);\n\t\t\treturn {\n\t\t\t\tstart: {\n\t\t\t\t\tcol: startCol,\n\t\t\t\t\trow: startRow\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\tcol: endCol,\n\t\t\t\t\trow: endRow\n\t\t\t\t},\n\t\t\t\tinCell(col, row) {\n\t\t\t\t\treturn startCol <= col && col <= endCol && startRow <= row && row <= endRow;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tget focus() {\n\t\t\tconst { col, row } = this._focus;\n\t\t\treturn { col, row };\n\t\t}\n\t\tget select() {\n\t\t\tconst { col, row } = this._sel;\n\t\t\treturn { col, row };\n\t\t}\n\t\tset select(cell = {}) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tconst {\n\t\t\t\t\tcol = 0,\n\t\t\t\t\trow = 0\n\t\t\t\t} = cell;\n\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\tthis._setFocusCell(col, row, true);\n\t\t\t});\n\t\t}\n\t\t_setSelectCell(col, row) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tthis._sel = { col, row };\n\t\t\t\tthis._start = { col, row };\n\t\t\t});\n\t\t}\n\t\t_setFocusCell(col, row, keepSelect) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tif (!keepSelect) {\n\t\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\t}\n\t\t\t\tthis._focus = { col, row };\n\t\t\t\tthis._end = { col, row };\n\t\t\t});\n\t\t}\n\t\t_wrapFireSelectedEvent(callback) {\n\t\t\tif (this._isWraped) {\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tthis._isWraped = true;\n\t\t\t\ttry {\n\t\t\t\t\tconst before = {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: false\n\t\t\t\t\t};\n\t\t\t\t\tcallback();\n\t\t\t\t\tconst after = {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\tbefore: {\n\t\t\t\t\t\t\tcol: before.col,\n\t\t\t\t\t\t\trow: before.row\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tbefore.after = {\n\t\t\t\t\t\tcol: after.col,\n\t\t\t\t\t\trow: after.row\n\t\t\t\t\t};\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, after);\n\t\t\t\t} finally {\n\t\t\t\t\tthis._isWraped = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_updateGridRange() {\n\t\t\tconst { rowCount, colCount } = this._grid;\n\t\t\tconst points = [this._sel, this._focus, this._start, this._end];\n\t\t\tlet needChange = false;\n\t\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\t\tif (colCount <= points[i].col || rowCount <= points[i].row) {\n\t\t\t\t\tneedChange = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!needChange) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tpoints.forEach(p => {\n\t\t\t\t\tp.col = Math.min(colCount - 1, p.col);\n\t\t\t\t\tp.row = Math.min(rowCount - 1, p.row);\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/**\n  * This class manages the drawing process for each layer\n  */\n\tclass DrawLayers {\n\t\tconstructor() {\n\t\t\tthis._layers = {};\n\t\t}\n\t\taddDraw(level, fn) {\n\t\t\tconst l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n\t\t\tl.addDraw(fn);\n\t\t}\n\t\tdraw(ctx) {\n\t\t\tconst list = [];\n\t\t\tfor (const k in this._layers) {\n\t\t\t\tlist.push(this._layers[k]);\n\t\t\t}\n\t\t\tlist.sort((a, b) => a.level - b.level);\n\t\t\tlist.forEach(l => l.draw(ctx));\n\t\t}\n\t}\n\tclass DrawLayer {\n\t\tconstructor(level) {\n\t\t\tthis._level = level;\n\t\t\tthis._list = [];\n\t\t}\n\t\tget level() {\n\t\t\treturn this._level;\n\t\t}\n\t\taddDraw(fn) {\n\t\t\tthis._list.push(fn);\n\t\t}\n\t\tdraw(ctx) {\n\t\t\tthis._list.forEach(fn => {\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tfn(ctx);\n\t\t\t\t} finally {\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t/**\n  * Context of cell drawing\n  */\n\tclass DrawCellContext {\n\t\t/**\n   * @private\n   */\n\t\tconstructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n\t\t\tthis._col = col;\n\t\t\tthis._row = row;\n\t\t\tthis._mode = 0;\n\t\t\tthis._ctx = ctx;\n\t\t\tthis._rect = rect;\n\t\t\tthis._drawRect = drawRect;\n\t\t\tthis._drawing = drawing;\n\t\t\tthis._selection = selection;\n\t\t\tthis._drawLayers = drawLayers;\n\t\t\tthis._childContexts = [];\n\t\t}\n\t\tget drawing() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawing;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tget row() {\n\t\t\treturn this._row;\n\t\t}\n\t\tget col() {\n\t\t\treturn this._col;\n\t\t}\n\t\tcancel() {\n\t\t\tthis._cancel = true;\n\t\t\tthis._childContexts.forEach(ctx => {\n\t\t\t\tctx.cancel();\n\t\t\t});\n\t\t}\n\t\t/**\n   * select status.\n   * @return {object} select status\n   */\n\t\tgetSelectState() {\n\t\t\tconst sel = this._selection.select;\n\t\t\treturn {\n\t\t\t\tselected: sel.col === this._col && sel.row === this._row,\n\t\t\t\tselection: this._selection.range.inCell(this._col, this._row)\n\t\t\t};\n\t\t}\n\t\t/**\n   * Canvas context.\n   * @return {CanvasRenderingContext2D} Canvas context.\n   */\n\t\tgetContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._ctx;\n\t\t\t} else {\n\t\t\t\treturn this._grid._getInitContext();\n\t\t\t}\n\t\t}\n\t\t/**\n   * Rectangle of cell.\n   * @return {Rect} rect Rectangle of cell.\n   */\n\t\tgetRect() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._rect;\n\t\t\t} else {\n\t\t\t\tif (this._rect) {\n\t\t\t\t\treturn this._rect;\n\t\t\t\t}\n\t\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\n\t\t\t}\n\t\t}\n\t\tsetRect(rect) {\n\t\t\tthis._rect = rect;\n\t\t}\n\t\t/**\n   * Rectangle of Drawing range.\n   * @return {Rect} Rectangle of Drawing range.\n   */\n\t\tgetDrawRect() {\n\t\t\tif (this._cancel) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawRect;\n\t\t\t} else {\n\t\t\t\tif (this._isOutOfRange()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\treturn this._toRelativeDrawRect(absoluteRect);\n\t\t\t}\n\t\t}\n\t\t_isOutOfRange() {\n\t\t\tconst { colCount, rowCount } = this._grid;\n\t\t\treturn colCount <= this._col || rowCount <= this._row;\n\t\t}\n\t\t/**\n   * get Context of current state\n   * @return {DrawCellContext} current DrawCellContext.\n   */\n\t\ttoCurrentContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this;\n\t\t\t} else {\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\n\t\t\t\tconst drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n\t\t\t\tconst context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\n\t\t\t\t// toCurrentContext  toCurrentContext\n\t\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\n\t\t\t\tthis._childContexts.push(context);\n\t\t\t\tif (this._cancel) {\n\t\t\t\t\tcontext.cancel();\n\t\t\t\t}\n\t\t\t\treturn context;\n\t\t\t}\n\t\t}\n\t\taddLayerDraw(level, fn) {\n\t\t\tthis._drawLayers.addDraw(level, fn);\n\t\t}\n\t\t_toRelativeDrawRect(absoluteRect) {\n\t\t\tconst visibleRect = _getVisibleRect(this._grid);\n\t\t\tlet rect = absoluteRect.copy();\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\t\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\t\t\t\trect = Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n\t\t\t}\n\t\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\t\t\t\trect = Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n\t\t\t}\n\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\trect.offsetLeft(-visibleRect.left);\n\t\t\trect.offsetTop(-visibleRect.top);\n\n\t\t\treturn rect;\n\t\t}\n\t\t_delayMode(grid, onTerminate) {\n\t\t\tthis._mode = 1;\n\t\t\tthis._ctx = null;\n\t\t\tthis._rect = null;\n\t\t\tthis._drawRect = null;\n\t\t\tthis._grid = grid;\n\t\t\tthis._onTerminate = onTerminate;\n\t\t}\n\t\t/**\n   * terminate\n   * @return {void}\n   */\n\t\tterminate() {\n\t\t\tif (this._mode !== 0) {\n\t\t\t\tthis._onTerminate();\n\t\t\t}\n\t\t}\n\t}\n\t/**\n  * DrawGrid\n  * @classdesc cheetahGrid.core.DrawGrid\n  * @extends EventTarget\n  * @memberof cheetahGrid.core\n  */\n\tclass DrawGrid extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\n   * constructor\n   *\n   * <pre>\n   * Constructor options\n   * -----\n   * rowCount: grid row count.default 10\n   * colCount: grid col count.default 10\n   * frozenColCount: default 0\n   * frozenRowCount: default 0\n   * defaultRowHeight: default grid row height. default 40\n   * defaultColWidth: default grid col width. default 80\n   * parentElement: canvas parentElement\n   * font: default font\n   * underlayBackgroundColor: underlay background color\n   * -----\n   * </pre>\n   *\n   * @constructor\n   * @param  {Object} options Constructor options\n   */\n\t\tconstructor({\n\t\t\trowCount = 10,\n\t\t\tcolCount = 10,\n\t\t\tfrozenColCount = 0,\n\t\t\tfrozenRowCount = 0,\n\t\t\tdefaultRowHeight = 40,\n\t\t\tdefaultColWidth = 80,\n\t\t\tfont,\n\t\t\tunderlayBackgroundColor,\n\t\t\tparentElement\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis[_] = {};\n\t\t\tstyle.initDocument();\n\t\t\tthis[_].element = createRootElement();\n\t\t\tthis[_].scrollable = new Scrollable();\n\t\t\tthis[_].handler = new EventHandler();\n\t\t\tthis[_].selection = new Selection(this);\n\t\t\tthis[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\n\n\t\t\tthis[_].canvas = hiDPI.transform(document.createElement('canvas'));\n\t\t\tthis[_].context = this[_].canvas.getContext('2d', { alpha: false });\n\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\n\t\t\tthis[_].font = font;\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\n\t\t\t/////\n\t\t\tthis[_].rowHeightsMap = new NumberMap();\n\t\t\tthis[_].colWidthsMap = new NumberMap();\n\t\t\tthis[_].colWidthsLimit = {};\n\t\t\tthis[_].calcWidthContext = {\n\t\t\t\t_: this[_],\n\t\t\t\tget full() {\n\t\t\t\t\treturn this._.canvas.width;\n\t\t\t\t},\n\t\t\t\tget em() {\n\t\t\t\t\treturn getFontSize(this._.context, this._.font).width;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis[_].columnResizer = new ColumnResizer(this);\n\t\t\tthis[_].cellSelector = new CellSelector(this);\n\n\t\t\tthis[_].drawCells = {};\n\n\t\t\tthis[_].element.appendChild(this[_].canvas);\n\t\t\tthis[_].element.appendChild(this[_].scrollable.getElement());\n\t\t\tthis.updateScroll();\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.appendChild(this[_].element);\n\t\t\t\tthis.updateSize();\n\t\t\t} else {\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t\t_bindEvents(this);\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this[_].element;\n\t\t}\n\t\tget canvas() {\n\t\t\treturn this[_].canvas;\n\t\t}\n\t\tfocus() {\n\t\t\tconst { col, row } = this[_].selection.select;\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t\tget selection() {\n\t\t\treturn this[_].selection;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset rowCount(rowCount) {\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis.updateScroll();\n\t\t\tif (this[_].selection._updateGridRange()) {\n\t\t\t\tconst { col, row } = this[_].selection.focus;\n\t\t\t\tthis.makeVisibleCell(col, row);\n\t\t\t\tthis.focusCell(col, row);\n\t\t\t}\n\t\t}\n\t\tget colCount() {\n\t\t\treturn this[_].colCount;\n\t\t}\n\t\tset colCount(colCount) {\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis.updateScroll();\n\t\t\tif (this[_].selection._updateGridRange()) {\n\t\t\t\tconst { col, row } = this[_].selection.focus;\n\t\t\t\tthis.makeVisibleCell(col, row);\n\t\t\t\tthis.focusCell(col, row);\n\t\t\t}\n\t\t}\n\t\tget frozenColCount() {\n\t\t\treturn this[_].frozenColCount;\n\t\t}\n\t\tset frozenColCount(frozenColCount) {\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t}\n\t\tget frozenRowCount() {\n\t\t\treturn this[_].frozenRowCount;\n\t\t}\n\t\tset frozenRowCount(frozenRowCount) {\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\t\t}\n\t\tget defaultRowHeight() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset defaultRowHeight(defaultRowHeight) {\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget defaultColWidth() {\n\t\t\treturn this[_].defaultColWidth;\n\t\t}\n\t\tset defaultColWidth(defaultColWidth) {\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget font() {\n\t\t\treturn this[_].font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis[_].font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn this[_].underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tconfigure(name, value) {\n\t\t\tconst cfg = this[_].config || (this[_].config = {});\n\t\t\tif (isDef(value)) {\n\t\t\t\tcfg[name] = value;\n\t\t\t}\n\t\t\treturn cfg[name];\n\t\t}\n\t\tupdateSize() {\n\t\t\t//\n\t\t\tthis[_].canvas.style.width = '';\n\t\t\tthis[_].canvas.style.height = '';\n\t\t\tconst width = Math.floor(this[_].canvas.offsetWidth || this[_].canvas.parentElement.offsetWidth - style.getScrollBarSize() /*for legacy*/\n\t\t\t);\n\t\t\tconst height = Math.floor(this[_].canvas.offsetHeight || this[_].canvas.parentElement.offsetHeight - style.getScrollBarSize() /*for legacy*/\n\t\t\t);\n\n\t\t\tthis[_].canvas.width = width;\n\t\t\tthis[_].canvas.height = height;\n\n\t\t\t//style\n\t\t\tthis[_].canvas.style.width = `${width}px`;\n\t\t\tthis[_].canvas.style.height = `${height}px`;\n\n\t\t\tconst sel = this[_].selection.select;\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n\t\t}\n\t\tupdateScroll() {\n\t\t\tthis[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n\t\t\tthis[_].scroll = {\n\t\t\t\tleft: this[_].scrollable.scrollLeft,\n\t\t\t\ttop: this[_].scrollable.scrollTop\n\t\t\t};\n\t\t}\n\t\tgetRowHeight(row) {\n\t\t\treturn _getRowHeight(this, row);\n\t\t}\n\t\tsetRowHeight(row, height) {\n\t\t\t_setRowHeight(this, row, height);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetColWidth(col) {\n\t\t\treturn _getColWidth(this, col);\n\t\t}\n\t\tsetColWidth(col, width) {\n\t\t\t_setColWidth(this, col, width);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetMaxColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.max || undefined;\n\t\t}\n\t\tsetMaxColWidth(col, maxwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.max = maxwidth;\n\t\t}\n\t\tgetMinColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.min || undefined;\n\t\t}\n\t\tsetMinColWidth(col, minwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.min = minwidth;\n\t\t}\n\t\tgetCellRect(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\n\t\t\tconst width = _getColWidth(this, col);\n\t\t\tif (isFrozenCell && isFrozenCell.col) {\n\t\t\t\tabsoluteLeft += this[_].scroll.left;\n\t\t\t}\n\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\n\t\t\tconst height = _getRowHeight(this, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tabsoluteTop += this[_].scroll.top;\n\t\t\t}\n\t\t\treturn new Rect(absoluteLeft, absoluteTop, width, height);\n\t\t}\n\t\tgetCellRelativeRect(col, row) {\n\t\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\n\t\t}\n\t\tgetCellsRect(startCol, startRow, endCol, endRow) {\n\t\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n\t\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\t\t\tlet width = _getColsWidth(this, startCol, endCol);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\n\t\t\t\tconst scrollLeft = this[_].scroll.left;\n\t\t\t\tabsoluteLeft += scrollLeft;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\n\t\t\t\t\twidth -= scrollLeft;\n\t\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\t\t\tlet height = _getRowsHeight(this, startRow, endRow);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\n\t\t\t\tconst scrollTop = this[_].scroll.top;\n\t\t\t\tabsoluteTop += scrollTop;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\n\t\t\t\t\theight -= scrollTop;\n\t\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Rect(absoluteLeft, absoluteTop, width, height);\n\t\t}\n\t\tisFrozenCell(col, row) {\n\t\t\tconst isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\n\t\t\tconst isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\n\t\t\tif (isFrozenRow || isFrozenCol) {\n\t\t\t\treturn {\n\t\t\t\t\trow: isFrozenRow,\n\t\t\t\t\tcol: isFrozenCol\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tgetRowAt(absoluteY) {\n\t\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.row;\n\t\t\t}\n\t\t\tconst row = _getTargetRowAt(this, absoluteY);\n\t\t\treturn row ? row.row : -1;\n\t\t}\n\t\tgetColAt(absoluteX) {\n\t\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.col;\n\t\t\t}\n\t\t\tconst col = _getTargetColAt(this, absoluteX);\n\t\t\treturn col ? col.col : -1;\n\t\t}\n\t\tgetCellAt(absoluteX, absoluteY) {\n\t\t\treturn {\n\t\t\t\trow: this.getRowAt(absoluteY),\n\t\t\t\tcol: this.getColAt(absoluteX)\n\t\t\t};\n\t\t}\n\t\tmakeVisibleCell(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = this.getCellRect(col, row);\n\t\t\tconst visibleRect = _getScrollableVisibleRect(this);\n\t\t\tif (visibleRect.contains(rect)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.col) {\n\t\t\t\tif (rect.left < visibleRect.left) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\n\t\t\t\t} else if (visibleRect.right < rect.right) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.row) {\n\t\t\t\tif (rect.top < visibleRect.top) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.top - rect.top;\n\t\t\t\t} else if (visibleRect.bottom < rect.bottom) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfocusCell(col, row) {\n\t\t\tconst oldEditMode = this[_].focusControl.editMode;\n\t\t\tif (oldEditMode) {\n\t\t\t\tthis[_].focusControl.resetInputStatus();\n\t\t\t}\n\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(col, row));\n\n\t\t\tconst { col: selCol, row: selRow } = this[_].selection.select;\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.EDITABLEINPUT_CELL, { col: selCol, row: selRow });\n\n\t\t\tconst editMode = array.findIndex(results, v => !!v) >= 0;\n\t\t\tthis[_].focusControl.editMode = editMode;\n\n\t\t\tif (editMode) {\n\t\t\t\tthis[_].focusControl.storeInputStatus();\n\t\t\t\tthis[_].focusControl.setDefaultInputStatus();\n\t\t\t\tthis.fireListeners(EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, { col: selCol, row: selRow, input: this[_].focusControl.input });\n\t\t\t}\n\n\t\t\t// Failure occurs in IE if focus is not last\n\t\t\tthis[_].focusControl.focus();\n\t\t}\n\t\tinvalidateCell(col, row) {\n\t\t\tthis.invalidateGridRect(col, row);\n\t\t}\n\t\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n\t\t\tconst offset = this.getOffsetInvalidateCells();\n\t\t\tif (offset > 0) {\n\t\t\t\tstartCol -= offset;\n\t\t\t\tstartRow -= offset;\n\t\t\t\tendCol += offset;\n\t\t\t\tendRow += offset;\n\t\t\t}\n\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n\t\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\n\t\t\tif (invalidateTarget) {\n\n\t\t\t\tif (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_invalidateRect(this, invalidateTarget);\n\t\t\t}\n\t\t}\n\t\tinvalidate() {\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\t_invalidateRect(this, visibleRect);\n\t\t}\n\t\t/**\n   * get cell value at copy action\n   * <p>\n   * Please implement\n   * </p>\n   *\n   * @protected\n   * @param  {number} col Column index of cell.\n   * @param  {number} row Row index of cell.\n   * @return {string}\n   */\n\t\tgetCopyCellValue(col, row) {}\n\t\t//Please implement get cell value!!\n\n\t\t/**\n   * Draw a cell\n   * <p>\n   * Please implement cell drawing.\n   * </p>\n   *\n   * @protected\n   * @param  {number} col Column index of cell.\n   * @param  {number} row Row index of cell.\n   * @param  {DrawCellContext} context context of cell drawing.\n   * @return {void}\n   */\n\t\tonDrawCell(col, row, context) {\n\t\t\t//Please implement cell drawing!!\n\t\t}\n\t\taddDisposable(disposable) {\n\t\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n\t\t\t\tthrow new Error('not disposable!');\n\t\t\t}\n\t\t\tconst disposables = this[_].disposables = this[_].disposables || [];\n\t\t\tdisposables.push(disposable);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis[_].handler.dispose();\n\t\t\tthis[_].scrollable.dispose();\n\t\t\tthis[_].focusControl.dispose();\n\t\t\tthis[_].columnResizer.dispose();\n\t\t\tthis[_].cellSelector.dispose();\n\t\t\tif (this[_].disposables) {\n\t\t\t\tthis[_].disposables.forEach(disposable => disposable.dispose());\n\t\t\t\tthis[_].disposables = null;\n\t\t\t}\n\n\t\t\tconst { parentElement } = this[_].element;\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.removeChild(this[_].element);\n\t\t\t}\n\t\t}\n\t\tgetAttachCellArea(col, row) {\n\t\t\treturn {\n\t\t\t\telement: this.getElement(),\n\t\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row))\n\t\t\t};\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\t//nop\n\t\t}\n\t\tgetTargetRowAtInternal(absoluteY) {\n\t\t\t// \n\t\t}\n\t\tgetRowsHeightInternal(startRow, endRow) {\n\t\t\t// \n\t\t}\n\t\tgetRowHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetScrollHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({ col, row }) {\n\t\t\treturn col - 1;\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({ col, row }) {\n\t\t\treturn col + 1;\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({ col, row }) {\n\t\t\treturn row - 1;\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({ col, row }) {\n\t\t\treturn row + 1;\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 0;\n\t\t}\n\t\t_getInitContext() {\n\t\t\tconst ctx = this[_].context;\n\t\t\t//\n\t\t\tctx.fillStyle = 'white';\n\t\t\tctx.strokeStyle = 'black';\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'top';\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.font = this.font || '16px sans-serif';\n\t\t\treturn ctx;\n\t\t}\n\t}\n\n\tmodule.exports = DrawGrid;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { each } } = __webpack_require__(0);\n\tlet nextId = 1;\n\n\tclass EventHandler {\n\t\tconstructor() {\n\t\t\tthis._listeners = {};\n\t\t}\n\t\ton(target, type, listener, ...options) {\n\t\t\tif (target.addEventListener) {\n\t\t\t\ttarget.addEventListener(type, listener, ...options);\n\t\t\t}\n\t\t\tconst obj = {\n\t\t\t\ttarget, type, listener, options\n\t\t\t};\n\t\t\tconst id = nextId++;\n\t\t\tthis._listeners[id] = obj;\n\t\t\treturn id;\n\t\t}\n\t\ttryWithOffEvents(target, type, call) {\n\t\t\tconst list = [];\n\t\t\ttry {\n\t\t\t\teach(this._listeners, obj => {\n\t\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlist.push(obj);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcall();\n\t\t\t} finally {\n\t\t\t\tlist.forEach(obj => {\n\t\t\t\t\tif (obj.target.addEventListener) {\n\t\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\toff(id) {\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst obj = this._listeners[id];\n\t\t\tif (!obj) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdelete this._listeners[id];\n\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t}\n\t\t}\n\t\tfire(target, type, ...args) {\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tobj.listener.call(obj.target, ...args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListener(target, type) {\n\t\t\tlet result = false;\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\tclear() {\n\t\t\teach(this._listeners, obj => {\n\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._listeners = {};\n\t\t}\n\t\tdispose() {\n\t\t\tthis.clear();\n\t\t\tthis._listeners = null;\n\t\t}\n\t}\n\n\tmodule.exports = EventHandler;\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(63);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst fontSizeCache = {};\n\tfunction getFontSize(ctx, font) {\n\t\tif (fontSizeCache[font]) {\n\t\t\treturn fontSizeCache[font];\n\t\t}\n\t\tconst bk = ctx.font;\n\t\ttry {\n\t\t\tctx.font = font || ctx.font;\n\t\t\tconst em = ctx.measureText('').width;\n\t\t\treturn fontSizeCache[font] = {\n\t\t\t\twidth: em,\n\t\t\t\theight: em\n\t\t\t};\n\t\t} finally {\n\t\t\tctx.font = bk;\n\t\t}\n\t}\n\n\tfunction calcBasePosition(ctx, rect, {\n\t\toffset = 0,\n\t\tpadding: {\n\t\t\tleft: paddingLeft = 0,\n\t\t\tright: paddingRight = 0,\n\t\t\ttop: paddingTop = 0,\n\t\t\tbottom: paddingBottom = 0\n\t\t} = {}\n\t} = {}) {\n\t\treturn calcStartPosition(ctx, rect, 0, 0, {\n\t\t\toffset,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft,\n\t\t\t\tright: paddingRight,\n\t\t\t\ttop: paddingTop,\n\t\t\t\tbottom: paddingBottom\n\t\t\t}\n\t\t});\n\t}\n\tfunction calcStartPosition(ctx, rect, width, height, {\n\t\toffset = 0,\n\t\tpadding: {\n\t\t\tleft: paddingLeft = 0,\n\t\t\tright: paddingRight = 0,\n\t\t\ttop: paddingTop = 0,\n\t\t\tbottom: paddingBottom = 0\n\t\t} = {}\n\t} = {}) {\n\t\tconst textAlign = ctx.textAlign || 'left';\n\t\tconst textBaseline = ctx.textBaseline || 'middle';\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\n\t\tlet x = rect.left + offset + paddingLeft;\n\t\tif (textAlign === 'right' || textAlign === 'end') {\n\t\t\tx = rect.right - width - offset - paddingRight;\n\t\t} else if (textAlign === 'center') {\n\t\t\tx = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n\t\t}\n\t\tlet y = rect.top + offset + paddingTop;\n\t\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\t\ty = rect.bottom - height - offset - paddingBottom;\n\t\t} else if (textBaseline === 'middle') {\n\t\t\ty = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n\t\t}\n\t\treturn { x, y };\n\t}\n\n\tmodule.exports = {\n\t\tcalcBasePosition,\n\t\tcalcStartPosition,\n\t\tgetFontSize\n\t};\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(37);\n\tconst { isPromise, isDef, obj: { setReadonly } } = __webpack_require__(0);\n\tconst animate = __webpack_require__(34);\n\tconst BaseStyle = __webpack_require__(3);\n\tconst { COLUMN_FADEIN_STATE_ID } = __webpack_require__(1);\n\n\tfunction isFadeinWhenCallbackInPromise(column, grid) {\n\t\tif (isDef(column._fadeinWhenCallbackInPromise)) {\n\t\t\treturn column._fadeinWhenCallbackInPromise;\n\t\t}\n\t\treturn !!grid.configure('fadeinWhenCallbackInPromise');\n\t}\n\n\tfunction getFadinState(grid) {\n\t\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\n\t\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n\t\t}\n\t\treturn grid[COLUMN_FADEIN_STATE_ID];\n\t}\n\tfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n\t\treturn point => {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tconst stateKey = `${col}:${row}`;\n\t\t\tif (point === 1) {\n\t\t\t\tdelete state[stateKey];\n\t\t\t} else {\n\t\t\t\tstate[stateKey] = {\n\t\t\t\t\topacity: point\n\t\t\t\t};\n\t\t\t}\n\t\t\tdrawCellBase();\n\n\t\t\tdrawInternal();\n\n\t\t\tconst cellState = state[stateKey];\n\t\t\tif (cellState) {\n\t\t\t\t//\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\ttry {\n\t\t\t\t\tdrawCellBase();\n\t\t\t\t} finally {\n\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\tconst fadinMgr = {\n\t\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\t// fadein animation\n\t\t\tconst state = getFadinState(grid);\n\n\t\t\tconst activeFadeins = [_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)];\n\t\t\tstate.activeFadeins = activeFadeins;\n\n\t\t\tanimate(500, point => {\n\t\t\t\tactiveFadeins.forEach(f => f(point));\n\t\t\t\tif (point === 1) {\n\t\t\t\t\tdelete state.activeFadeins;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tif (state.activeFadeins) {\n\t\t\t\tstate.activeFadeins.push(_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n\t\t\t} else {\n\t\t\t\tdrawInternal();\n\t\t\t}\n\t\t}\n\n\t};\n\n\tclass BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this); //\n\n\t\t\t//Promisecallback\n\t\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn BaseStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst { style, getRecord, drawCellBase } = info;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\n\t\t\tconst record = getRecord();\n\t\t\tif (isPromise(record)) {\n\t\t\t\treturn record.then(() => this.onDrawCell(cellValue, info, context, grid));\n\t\t\t}\n\t\t\t//\n\t\t\tif (isPromise(cellValue)) {\n\t\t\t\tconst start = Date.now();\n\t\t\t\treturn cellValue.then(val => {\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst time = Date.now() - start;\n\n\t\t\t\t\tconst drawInternal = () => {\n\t\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst record = getRecord();\n\t\t\t\t\t\tif (isPromise(record)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\t\t\t\tthis.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n\t\t\t\t\t\tthis.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\n\t\t\t\t\t\tdrawInternal(); //\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst { col, row } = context;\n\t\t\t\t\t\tif (time < 80) {\n\t\t\t\t\t\t\t//80msPromiseCallback\n\t\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\t\tthis.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n\t\t\t\tthis.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n\t\t\t\t//\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tconst stateKey = `${col}:${row}`;\n\t\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\t\t\t\tif (cellState) {\n\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdrawCellBase();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn isDef(value) ? value : '';\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {}\n\t\tdrawMessageInternal(message, context, style, helper, grid, info) {\n\t\t\tinfo.messageHandler.drawCellMessage(message, context, style, helper, info);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseColumn;\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\tconst BaseColumn = __webpack_require__(9);\n\tconst utils = __webpack_require__(15);\n\n\tclass Column extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Column(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.text(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = Column;\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { isDef } = __webpack_require__(0);\nclass Inline {\n\tconstructor(content) {\n\t\tthis._content = isDef(content) ? content : '';\n\t}\n\twidth({ ctx }) {\n\t\treturn ctx.measureText(this._content).width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(fn) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tcanvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n\t\t\toffset: offset + 1,\n\t\t\tpadding: {\n\t\t\t\tleft: offsetLeft,\n\t\t\t\tright: offsetRight,\n\t\t\t\ttop: offsetTop,\n\t\t\t\tbottom: offsetBottom\n\t\t\t}\n\t\t});\n\t}\n}\nmodule.exports = Inline;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isDef, obj: { each } } = __webpack_require__(0);\n\t//private symbol\n\tconst { _ } = __webpack_require__(1).get();\n\n\tlet nextId = 1;\n\t/**\n  * event target.\n  */\n\tclass EventTarget {\n\t\tconstructor() {\n\t\t\tthis[_] = {};\n\t\t\tthis[_].listeners = {};\n\t\t\tthis[_].listenerData = {};\n\t\t}\n\t\t/**\n   * Adds an event listener.\n   * @param  {string} type The event type id.\n   * @param  {function} listener Callback method.\n   * @return {number} unique id for the listener.\n   */\n\t\tlisten(type, listener) {\n\t\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\n\t\t\tlist.push(listener);\n\n\t\t\tconst id = nextId++;\n\t\t\tthis[_].listenerData[id] = {\n\t\t\t\ttype,\n\t\t\t\tlistener,\n\t\t\t\tremove: () => {\n\t\t\t\t\tdelete this[_].listenerData[id];\n\t\t\t\t\tconst index = list.indexOf(listener);\n\t\t\t\t\tlist.splice(index, 1);\n\t\t\t\t\tif (!this[_].listeners[type].length) {\n\t\t\t\t\t\tdelete this[_].listeners[type];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn id;\n\t\t}\n\t\t/**\n   * Removes an event listener which was added with listen() by the id returned by listen().\n   * @param  {number} id the id returned by listen().\n   * @return {void}\n   */\n\t\tunlisten(id) {\n\t\t\tthis[_].listenerData[id].remove();\n\t\t}\n\t\taddEventListener(type, listener) {\n\t\t\tthis.listen(type, listener);\n\t\t}\n\t\tremoveEventListener(type, listener) {\n\t\t\teach(this[_].listenerData, (obj, id) => {\n\t\t\t\tif (obj.type === type && obj.listener === listener) {\n\t\t\t\t\tthis.unlisten(id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListeners(type) {\n\t\t\treturn !!this[_].listeners[type];\n\t\t}\n\t\t/**\n   * Fires all registered listeners\n   * @param  {string}    type The type of the listeners to fire.\n   * @param  {...*} args fire arguments\n   * @return {*} the result of the last listener\n   */\n\t\tfireListeners(type, ...args) {\n\t\t\tconst list = this[_].listeners[type];\n\t\t\tif (!list) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn list.map(listener => listener.call(this, ...args)).filter(isDef);\n\t\t}\n\t\tdispose() {\n\t\t\tdelete this[_];\n\t\t}\n\t}\n\n\tmodule.exports = EventTarget;\n}\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst BaseAction = __webpack_require__(19);\n\tclass Editor extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._readOnly = option.readOnly;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t\tset readOnly(readOnly) {\n\t\t\tthis._readOnly = !!readOnly;\n\t\t\tthis.onChangeReadOnlyInternal();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Editor(this);\n\t\t}\n\t\tonChangeReadOnlyInternal() {}\n\t}\n\tmodule.exports = Editor;\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef } = __webpack_require__(0);\n\nfunction createElement(tagName, { classList, text, html } = {}) {\n\tconst element = document.createElement(tagName);\n\tif (classList) {\n\t\tif (__webpack_provided_Array_dot_isArray(classList)) {\n\t\t\telement.classList.add(...classList);\n\t\t} else {\n\t\t\telement.classList.add(classList);\n\t\t}\n\t}\n\tif (text) {\n\t\telement.textContent = text;\n\t} else if (html) {\n\t\telement.innerHTML = html;\n\t}\n\treturn element;\n}\n\nfunction empty(dom) {\n\tlet c;\n\twhile (c = dom.firstChild) {\n\t\tdom.removeChild(c);\n\t}\n}\nfunction isNode(arg) {\n\treturn !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n\tif (isNode(arg)) {\n\t\treturn arg;\n\t}\n\tconst dom = createElement('div', { html: arg });\n\treturn Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n\tif (window.jQuery && arg instanceof window.jQuery) {\n\t\treturn Array.prototype.map.call(arg, a => a);\n\t}\n\tif (__webpack_provided_Array_dot_isArray(arg)) {\n\t\treturn arg.map(toNode);\n\t}\n\tconst node = toNode(arg);\n\treturn __webpack_provided_Array_dot_isArray(node) ? node : [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n\ttoNodeList(inner).forEach(node => {\n\t\tdom.appendChild(node);\n\t});\n}\n\nfunction disableFocus(el) {\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\n\tel.tabIndex = -1;\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nfunction enableFocus(el) {\n\tif ('disableBeforeTabIndex' in el.dataset) {\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\n\t}\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\n}\nfunction findPrevSiblingFocusable(el) {\n\tlet n = el.previousSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.previousSibling;\n\t}\n\treturn n;\n}\nfunction findNextSiblingFocusable(el) {\n\tlet n = el.nextSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.nextSibling;\n\t}\n\treturn n;\n}\n\nmodule.exports = {\n\tcreateElement,\n\tempty,\n\tisNode,\n\ttoNode,\n\ttoNodeList,\n\tappendHtml,\n\tdisableFocus,\n\tenableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isPromise } = __webpack_require__(0);\n\tconst icons = __webpack_require__(22);\n\tmodule.exports = {\n\t\tloadIcons(icon, context, helper, callback) {\n\t\t\tif (icon) {\n\t\t\t\tif (isPromise(icon)) {\n\t\t\t\t\ticon.then(i => {\n\t\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\n\t\t\t\t\t});\n\t\t\t\t\ticon = null;\n\t\t\t\t} else {\n\t\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\n\t\t\t\t\ticonList.forEach(i => {\n\t\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\n\t\t\t\t\t});\n\t\t\t\t\ticon = iconList;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallback(icon, context);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(55);\n\tconst Style = __webpack_require__(119);\n\n\tconst style = {\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tof(columnStyle, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(), StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tclass Rect {\n\t\tconstructor(left, top, width, height) {\n\t\t\tthis._left = left;\n\t\t\tthis._top = top;\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t}\n\t\tstatic bounds(left, top, right, bottom) {\n\t\t\treturn new Rect(left, top, right - left, bottom - top);\n\t\t}\n\t\tstatic max(rect1, rect2) {\n\t\t\treturn Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n\t\t}\n\t\tget left() {\n\t\t\treturn this._left;\n\t\t}\n\t\tset left(left) {\n\t\t\tconst { right } = this;\n\t\t\tthis._left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t\tget top() {\n\t\t\treturn this._top;\n\t\t}\n\t\tset top(top) {\n\t\t\tconst { bottom } = this;\n\t\t\tthis._top = top;\n\t\t\tthis.bottom = bottom;\n\t\t}\n\t\tget width() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset width(width) {\n\t\t\tthis._width = width;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\tget height() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset height(height) {\n\t\t\tthis._height = height;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tget right() {\n\t\t\treturn this._right !== undefined ? this._right : this._right = this.left + this.width;\n\t\t}\n\t\tset right(right) {\n\t\t\tthis._right = right;\n\t\t\tthis.width = right - this.left;\n\t\t}\n\t\tget bottom() {\n\t\t\treturn this._bottom !== undefined ? this._bottom : this._bottom = this.top + this.height;\n\t\t}\n\t\tset bottom(bottom) {\n\t\t\tthis._bottom = bottom;\n\t\t\tthis.height = bottom - this.top;\n\t\t}\n\t\toffsetLeft(offset) {\n\t\t\tthis._left += offset;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\toffsetTop(offset) {\n\t\t\tthis._top += offset;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tcopy() {\n\t\t\treturn new Rect(this.left, this.top, this.width, this.height);\n\t\t}\n\t\tintersection(rect) {\n\t\t\tconst x0 = Math.max(this.left, rect.left);\n\t\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\t\t\tif (x0 <= x1) {\n\t\t\t\tconst y0 = Math.max(this.top, rect.top);\n\t\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\t\t\t\tif (y0 <= y1) {\n\t\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tcontains(another) {\n\t\t\treturn this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n\t\t}\n\t\tinPoint(x, y) {\n\t\t\treturn this.left <= x && this.left + this.width >= x && this.top <= y && this.top + this.height >= y;\n\t\t}\n\t}\n\tmodule.exports = Rect;\n}\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction parse(calcStr) {\n\tfunction replacer(match, num, unit) {\n\t\tswitch (unit) {\n\t\t\tcase '%':\n\t\t\t\treturn `(${num} * this.full / 100)`;\n\t\t\tcase 'em':\n\t\t\t\treturn `(${num} * this.em)`;\n\t\t\tcase 'px':\n\t\t\t\treturn `(${num})`;\n\t\t\tdefault:\n\t\t\t\tthrow new Error('calc error');\n\t\t}\n\t}\n\tconst script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').replace(/(\\d+)([A-Za-z%]+)/g, replacer).replace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\n\treturn {\n\t\teval(context) {\n\t\t\tfunction fn() {\n\t\t\t\tfunction calc(v) {\n\t\t\t\t\t// eslint-disable-line no-unused-vars\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\treturn eval(script); // eslint-disable-line no-eval\n\t\t\t}\n\t\t\treturn fn.call(context);\n\t\t}\n\t};\n}\nfunction toPx(value, context) {\n\tif (/^calc\\(.*\\)$/.test(value)) {\n\t\treturn parse(value).eval(context);\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\n\t\treturn context.full * value.substr(0, value.length - 1) / 100;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\n\t\treturn value.substr(0, value.length - 2) - 0;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\n\t\treturn context.em * (value.substr(0, value.length - 2) - 0);\n\t}\n\treturn value - 0;\n}\n\nmodule.exports = {\n\tparse,\n\ttoPx(value, context) {\n\t\tif (typeof value === 'string') {\n\t\t\treturn toPx(value.trim(), context);\n\t\t}\n\t\treturn value - 0;\n\t}\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tclass BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tthis._disabled = option.disabled;\n\t\t}\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tset disabled(disabled) {\n\t\t\tthis._disabled = !!disabled;\n\t\t\tthis.onChangeDisabledInternal();\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseAction(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t\tonChangeDisabledInternal() {}\n\t}\n\tmodule.exports = BaseAction;\n}\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(21);\n\n\tlet defaultStyle;\n\tclass StdBaseStyle extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._textAlign = style.textAlign || 'left';\n\t\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new StdBaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = StdBaseStyle;\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventTarget = __webpack_require__(12);\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style'\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n\t\t}\n\t\tconstructor({\n\t\t\tbgColor\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef } = __webpack_require__(0);\n\nconst ICON_PROP_KEYS = ['content', 'font', 'color', 'className', 'isLiga', 'width', 'src', 'svg', 'name', 'path'];\n\nfunction quote(name) {\n\tconst quoted = [];\n\tconst split = name.split(/,\\s*/);\n\tfor (let i = 0; i < split.length; i++) {\n\t\tconst part = split[i].replace(/['\"]/g, '');\n\t\tif (part.indexOf(' ') === -1 && !/^\\d/.test(part)) {\n\t\t\tquoted.push(part);\n\t\t} else {\n\t\t\tquoted.push(`'${part}'`);\n\t\t}\n\t}\n\treturn quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n\tconst tagProps = props[tagName] || (props[tagName] = {});\n\tif (tagProps[className]) {\n\t\treturn tagProps[className];\n\t}\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n\tdom.className = className;\n\tdocument.body.appendChild(dom);\n\ttry {\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n\t\tlet content = beforeStyle.getPropertyValue('content');\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n\t\t\tif (content[0] === content[content.length - 1]) {\n\t\t\t\tcontent = content.substr(1, content.length - 2);\n\t\t\t}\n\t\t}\n\t\tlet font = beforeStyle.getPropertyValue('font');\n\t\tif (!font) {\n\t\t\tfont = `${beforeStyle.getPropertyValue('font-style')} ${beforeStyle.getPropertyValue('font-variant')} ${beforeStyle.getPropertyValue('font-weight')} ${beforeStyle.getPropertyValue('font-size')}/${beforeStyle.getPropertyValue('line-height')} ${quote(beforeStyle.getPropertyValue('font-family'))}`;\n\t\t}\n\t\tconst color = beforeStyle.getPropertyValue('color');\n\t\tconst width = dom.clientWidth;\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n\n\t\treturn tagProps[className] = {\n\t\t\tcontent,\n\t\t\tfont,\n\t\t\tcolor,\n\t\t\twidth,\n\t\t\tisLiga\n\t\t};\n\t} finally {\n\t\tdocument.body.removeChild(dom);\n\t}\n}\n\nfunction toPropArray(prop, count) {\n\tconst result = [];\n\tif (__webpack_provided_Array_dot_isArray(prop)) {\n\t\tresult.push(...prop);\n\t\tfor (let i = prop.length; i < count; i++) {\n\t\t\tresult.push(null);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tresult.push(prop);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction toSimpleArray(iconProps) {\n\tif (!iconProps) {\n\t\treturn iconProps;\n\t} else if (__webpack_provided_Array_dot_isArray(iconProps)) {\n\t\treturn iconProps;\n\t}\n\n\tconst workData = {};\n\n\tlet count = 0;\n\tICON_PROP_KEYS.forEach(k => {\n\t\tif (iconProps[k]) {\n\t\t\tif (__webpack_provided_Array_dot_isArray(iconProps[k])) {\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\n\t\t\t} else {\n\t\t\t\tcount = Math.max(count, 1);\n\t\t\t}\n\t\t}\n\t});\n\n\tICON_PROP_KEYS.forEach(k => {\n\t\tworkData[k] = toPropArray(iconProps[k], count);\n\t});\n\n\tconst result = [];\n\tfor (let i = 0; i < count; i++) {\n\t\tconst data = {};\n\t\tICON_PROP_KEYS.forEach(k => {\n\t\t\tdata[k] = workData[k][i];\n\t\t});\n\t\tresult.push(data);\n\t}\n\treturn result;\n}\n\nfunction normarize(iconProps) {\n\tconst data = {};\n\tfor (const k in iconProps) {\n\t\tif (k === 'className') {\n\t\t\tcontinue;\n\t\t}\n\t\tdata[k] = iconProps[k];\n\t}\n\tif (iconProps.className) {\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\t\tfor (const k in prop) {\n\t\t\tif (!isDef(iconProps[k])) {\n\t\t\t\tdata[k] = prop[k];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nmodule.exports = {\n\ttoNormarizeArray(iconProps) {\n\t\tconst icons = toSimpleArray(iconProps);\n\t\tif (!icons) {\n\t\t\treturn icons;\n\t\t}\n\t\treturn icons.map(icon => normarize(icon));\n\t},\n\tget iconPropKeys() {\n\t\treturn ICON_PROP_KEYS;\n\t},\n\tgetIconProps\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { extend, getIgnoreCase } = __webpack_require__(0);\n\tconst theme = __webpack_require__(95);\n\tconst plugins = __webpack_require__(46);\n\tconst BASIC = theme.create(__webpack_require__(96));\n\tconst MATERIAL_DESIGN = theme.create(__webpack_require__(45));\n\n\tconst builtin = {\n\t\tBASIC,\n\t\tMATERIAL_DESIGN\n\t};\n\tlet defTheme = theme.create({});\n\t/**\n  * themes\n  * @type {Object}\n  * @namespace cheetahGrid.themes\n  * @memberof cheetahGrid\n  */\n\tconst themes = {\n\t\tget default() {\n\t\t\treturn defTheme;\n\t\t},\n\t\tset default(defaultTheme) {\n\t\t\tdefTheme = defaultTheme;\n\t\t},\n\t\ttheme,\n\t\tof(value) {\n\t\t\tif (!value) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tconst t = getIgnoreCase(themes.choices, value);\n\t\t\t\tif (t) {\n\t\t\t\t\treturn t;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\t/**\n   * @namespace cheetahGrid.themes.choices\n   */\n\t\tget choices() {\n\t\t\treturn extend(builtin, plugins);\n\t\t}\n\t};\n\tmodule.exports = themes;\n}\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn } = __webpack_require__(0);\n\tconst sort = __webpack_require__(48);\n\tconst EventTarget = __webpack_require__(12);\n\n\tconst EVENT_TYPE = {\n\t\tUPDATE_LENGTH: 'update_length',\n\t\tUPDATED_LENGTH: 'updated_length',\n\t\tUPDATED_ORDER: 'updated_order'\n\t};\n\n\tfunction getValue(value, setPromiseBack) {\n\t\tvalue = getOrApply(value);\n\t\tif (isPromise(value)) {\n\t\t\tvalue = value.then(r => {\n\t\t\t\tif (!isPromise(r)) {\n\t\t\t\t\tsetPromiseBack(r);\n\t\t\t\t}\n\t\t\t\treturn getValue(r, setPromiseBack);\n\t\t\t});\n\t\t\t//\n\t\t\tsetPromiseBack(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction getField(record, field, setPromiseBack) {\n\t\tif (!isDef(record)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (isPromise(record)) {\n\t\t\treturn record.then(r => getField(r, field, setPromiseBack));\n\t\t}\n\t\tif (field in record) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\tif (typeof field === 'function') {\n\t\t\treturn getValue(field(record), setPromiseBack);\n\t\t}\n\n\t\tconst ss = `${field}`.split('.');\n\t\tif (ss.length <= 1) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n\t}\n\tfunction setField(record, field, value) {\n\t\tif (field in record) {\n\t\t\trecord[field] = value;\n\t\t} else if (typeof field === 'function') {\n\t\t\treturn field(record, value);\n\t\t} else if (typeof field === 'string') {\n\t\t\tconst ss = `${field}`.split('.');\n\t\t\tlet obj = record;\n\t\t\tconst { length } = ss;\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst f = ss[i];\n\t\t\t\tif (i === length - 1) {\n\t\t\t\t\tobj[f] = value;\n\t\t\t\t} else {\n\t\t\t\t\tobj = obj[f] || (obj[f] = {});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\trecord[field] = value;\n\t\t}\n\t\treturn true;\n\t}\n\tfunction _getIndex(dataSource, index) {\n\t\tif (!dataSource._sortedIndexMap) {\n\t\t\treturn index;\n\t\t}\n\t\tconst mapIndex = dataSource._sortedIndexMap[index];\n\t\treturn isDef(mapIndex) ? mapIndex : index;\n\t}\n\n\t/**\n  * grid data source\n  *\n  * @classdesc cheetahGrid.data.DataSource\n  * @extends EventTarget\n  * @memberof cheetahGrid.data\n  */\n\tclass DataSource extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new DataSource({\n\t\t\t\tget: index => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor(obj = {}) {\n\t\t\tsuper();\n\t\t\tthis._get = obj.get && obj.get.bind(obj) || undefined;\n\t\t\tthis._length = obj.length || 0;\n\t\t\tthis._sortedIndexMap = false;\n\t\t}\n\t\tget(index) {\n\t\t\treturn this.getOriginal(_getIndex(this, index));\n\t\t}\n\t\tgetField(index, field) {\n\t\t\treturn this.getOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\thasField(index, field) {\n\t\t\treturn this.hasOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\tsetField(index, field, value) {\n\t\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\n\t\t}\n\t\tsort(field, order) {\n\t\t\tconst sortedIndexMap = new Array(this._length);\n\n\t\t\tconst orderFn = order !== 'desc' ? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1 : (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n\n\t\t\treturn sort.sortPromise(index => isDef(sortedIndexMap[index]) ? sortedIndexMap[index] : sortedIndexMap[index] = index, (index, rel) => {\n\t\t\t\tsortedIndexMap[index] = rel;\n\t\t\t}, this._length, orderFn, index => this.getOriginalField(index, field)).then(() => {\n\t\t\t\tthis._sortedIndexMap = sortedIndexMap;\n\t\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n\t\t\t});\n\t\t}\n\t\tget length() {\n\t\t\treturn this._length;\n\t\t}\n\t\tset length(length) {\n\t\t\tif (this._length === length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\t\t\tif (array.findIndex(results, v => !v) >= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._length = length;\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\treturn getValue(this._get(index), val => {\n\t\t\t\tthis.recordPromiseCallBackInternal(index, val);\n\t\t\t});\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn getField(record, field, val => {\n\t\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\n\t\t\t});\n\t\t}\n\t\thasOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (typeof field === 'function') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn field in record;\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn setField(record, field, value);\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t//\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\t//\n\t\t}\n\t}\n\tDataSource.EMPTY = new DataSource({\n\t\tlength: 0\n\t});\n\n\tmodule.exports = DataSource;\n}\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction getPath2D() {\n\t//return require('./legacy/canvas/Path2D');\n\treturn window.Path2D || __webpack_require__(107);\n}\n\nmodule.exports = {\n\tfill(module, ctx, x, y, w, h) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst { width, height } = module;\n\t\t\tconst { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = module;\n\t\t\tw = w || width;\n\t\t\th = h || height;\n\t\t\tconst xrate = w / width;\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\n\t\t\tx = x || 0;\n\t\t\ty = upsideDown ? (y || 0) + -height * yrate : y || 0;\n\n\t\t\tctx.translate(x, y);\n\t\t\tctx.scale(xrate, yrate);\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\n\t\t\t\tctx.translate(offsetX, offsetY);\n\t\t\t}\n\t\t\tconst Path2D = getPath2D();\n\t\t\tmodule.path2d = module.path2d || new Path2D(module.d);\n\t\t\tctx.fill(module.path2d);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t},\n\tget Path2D() {\n\t\treturn getPath2D();\n\t}\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass BaseMessage {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tdispose() {\n\t\tthis.detachMessageElement();\n\t\tif (this._messageElement) {\n\t\t\tthis._messageElement.dispose();\n\t\t}\n\t\tthis._messageElement = null;\n\t}\n\t_getMessageElement() {\n\t\treturn this._messageElement || (this._messageElement = this.createMessageElementInternal());\n\t}\n\tcreateMessageElementInternal() {}\n\tdrawCellMessageInternal(message, context, style, helper, info) {}\n\tattachMessageElement(col, row, message) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.attach(this._grid, col, row, message);\n\t}\n\tmoveMessageElement(col, row) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.move(this._grid, col, row);\n\t}\n\tdetachMessageElement() {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement._detach();\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\t\tthis.drawCellMessageInternal(message, context, style, helper, info);\n\t}\n}\n\nmodule.exports = BaseMessage;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(14);\n\nconst CLASSNAME = 'cheetah-grid__message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createMessageDomElement() {\n\t__webpack_require__(124);\n\tconst rootElement = createElement('div', { classList: [CLASSNAME, HIDDEN_CLASSNAME] });\n\tconst messageElement = createElement('span', { classList: [MESSAGE_CLASSNAME] });\n\trootElement.appendChild(messageElement);\n\treturn rootElement;\n}\n\nclass MessageElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tconst rootElement = this._rootElement = createMessageDomElement();\n\t\tthis._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._rootElement = null;\n\t\tthis._messageElement = null;\n\t}\n\tattach(grid, col, row, message) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst messageElement = this._messageElement;\n\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\n\t\tif (this._attachCell(grid, col, row)) {\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\n\t\t\tmessageElement.textContent = message.message;\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tmove(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tif (this._attachCell(grid, col, row)) {\n\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tdetach() {\n\t\tthis._detach();\n\t}\n\t_detach() {\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\trootElement.parentElement.removeChild(rootElement);\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\t\t}\n\t}\n\t_attachCell(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\n\t\tconst { bottom: top, left, width } = rect;\n\t\tconst { frozenRowCount, frozenColCount } = grid;\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\n\t\t\tconst { rect: frozenRect } = grid.getAttachCellArea(col, frozenRowCount - 1);\n\t\t\tif (top < frozenRect.bottom) {\n\t\t\t\treturn false; //\n\t\t\t}\n\t\t} else {\n\t\t\tif (top < 0) {\n\t\t\t\treturn false; //\n\t\t\t}\n\t\t}\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\n\t\t\tconst { rect: frozenRect } = grid.getAttachCellArea(frozenColCount - 1, row);\n\t\t\tif (left < frozenRect.right) {\n\t\t\t\treturn false; //\n\t\t\t}\n\t\t} else {\n\t\t\tif (left < 0) {\n\t\t\t\treturn false; //\n\t\t\t}\n\t\t}\n\t\tconst { offsetHeight, offsetWidth } = element;\n\t\tif (offsetHeight < top) {\n\t\t\treturn false; //\n\t\t}\n\t\tif (offsetWidth < left) {\n\t\t\treturn false; //\n\t\t}\n\n\t\trootElement.style.top = `${top.toFixed()}px`;\n\t\trootElement.style.left = `${left.toFixed()}px`;\n\t\trootElement.style.width = `${width.toFixed()}px`;\n\t\tif (rootElement.parentElement !== element) {\n\t\t\telement.appendChild(rootElement);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = MessageElement;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Rect = __webpack_require__(17);\nmodule.exports = {\n\t\tdrawExclamationMarkBox(context, style, helper) {\n\n\t\t\t\tconst { bgColor, color } = style;\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\t// draw box\n\t\t\t\tctx.fillStyle = bgColor;\n\t\t\t\tconst boxRect = rect.copy();\n\t\t\t\tboxRect.left = boxRect.right - 24;\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t\t\t// draw exclamation mark\n\t\t\t\tconst fillColor = color;\n\t\t\t\tconst height = 20;\n\t\t\t\tconst width = height / 5;\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3), context, { fillColor });\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5), context, { fillColor });\n\t\t},\n\t\tdrawInfomationMarkBox(context, style, helper) {\n\n\t\t\t\tconst { bgColor, color } = style;\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\t// draw box\n\t\t\t\tctx.fillStyle = bgColor;\n\t\t\t\tconst boxRect = rect.copy();\n\t\t\t\tboxRect.left = boxRect.right - 24;\n\t\t\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t\t\t// draw i mark\n\t\t\t\tconst fillColor = color;\n\t\t\t\tconst height = 20;\n\t\t\t\tconst width = height / 5;\n\t\t\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\t\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\t\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5), context, { fillColor });\n\t\t\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3), context, { fillColor });\n\t\t}\n};\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tfunction getScrollBarWidth() {\n\t\tconst dummy = document.createElement('div');\n\t\tconst { style } = dummy;\n\t\tstyle.position = 'absolute';\n\t\tstyle.height = '9999px';\n\t\tstyle.width = 'calc(100vw - 100%)';\n\t\tstyle.opacity = 0;\n\t\tdummy.textContent = 'x';\n\t\tdocument.body.appendChild(dummy);\n\t\tconst { width } = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn parseInt(width, 10);\n\t}\n\n\tlet SCROLLBAR_SIZE;\n\tconst initDocument = () => {\n\t\t__webpack_require__(61);\n\t\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\n\t\tconst style = document.createElement('style');\n\t\tstyle.setAttribute('type', 'text/css');\n\t\tstyle.setAttribute('data-name', 'cheetah-grid');\n\t\tstyle.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n\n\t\tdocument.head.appendChild(style);\n\t};\n\n\tconst style = {\n\t\tinitDocument() {\n\t\t\tstyle.initDocument = () => {};\n\t\t\tinitDocument();\n\t\t},\n\t\tgetScrollBarSize() {\n\t\t\treturn SCROLLBAR_SIZE;\n\t\t}\n\t};\n\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { calcBasePosition, calcStartPosition, getFontSize } = __webpack_require__(8);\n\tconst { ceil, PI } = Math;\n\n\tfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n\t\tfunction strokeRectLines(positions) {\n\t\t\tfor (let i = 0; i < borderColors.length; i++) {\n\t\t\t\tconst color = borderColors[i];\n\t\t\t\tconst preColor = borderColors[i - 1];\n\t\t\t\tif (color) {\n\t\t\t\t\tif (preColor !== color) {\n\t\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst pos1 = positions[i];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\n\t\t\t\t\t}\n\t\t\t\t\tconst pos2 = positions[i + 1];\n\t\t\t\t\tctx.lineTo(pos2.x, pos2.y);\n\t\t\t\t} else {\n\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst preColor = borderColors[borderColors.length - 1];\n\t\t\tif (preColor) {\n\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t\tif (borderColors[0] === borderColors[1] && borderColors[0] === borderColors[2] && borderColors[0] === borderColors[3]) {\n\t\t\tif (borderColors[0]) {\n\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tstrokeRectLines([{ x: left, y: top }, { x: left + width, y: top }, { x: left + width, y: top + height }, { x: left, y: top + height }, { x: left, y: top }]);\n\t\t}\n\t}\n\tfunction roundRect(ctx, left, top, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n\t\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n\t\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n\t\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n\t\tctx.closePath();\n\t}\n\tfunction fillRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.fill();\n\t}\n\tfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.stroke();\n\t}\n\tfunction fillTextRect(ctx, text, left, top, width, height, {\n\t\toffset = 2,\n\t\tpadding\n\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcBasePosition(ctx, rect, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.fillText(text, pos.x, pos.y);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, {\n\t\toffset = 2,\n\t\tpadding\n\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\n  * Returns an object containing the width of the checkbox.\n  * @param  {CanvasRenderingContext2D} ctx canvas context\n  * @return {Object} Object containing the width of the checkbox\n  * @memberof cheetahGrid.tools.canvashelper\n  */\n\tfunction measureCheckbox(ctx) {\n\t\treturn {\n\t\t\twidth: getFontSize(ctx, null).width\n\t\t};\n\t}\n\n\t/**\n  * draw Checkbox\n  * @param  {CanvasRenderingContext2D} ctx canvas context\n  * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n  * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n  * @param  {boolean|number} check checkbox check status\n  * @param  {object} option option\n  * @return {void}\n  * @memberof cheetahGrid.tools.canvashelper\n  */\n\tfunction drawCheckbox(ctx, x, y, check, {\n\t\tuncheckBgColor = '#FFF',\n\t\tcheckBgColor = 'rgb(76, 73, 72)',\n\t\tborderColor = '#000',\n\t\tboxSize = measureCheckbox(ctx).width\n\t} = {}) {\n\t\tconst checkPoint = typeof check === 'number' ? check > 1 ? 1 : check : 1;\n\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n\n\t\t\tfillRoundRect(ctx, ceil(x) - 1, ceil(y) - 1, ceil(boxSize + 1), ceil(boxSize + 1), boxSize / 5);\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.strokeStyle = borderColor;\n\t\t\tstrokeRoundRect(ctx, ceil(x) - 0.5, ceil(y) - 0.5, ceil(boxSize), ceil(boxSize), boxSize / 5);\n\t\t\tif (check) {\n\t\t\t\tctx.lineWidth = ceil(boxSize / 10);\n\t\t\t\tctx.strokeStyle = uncheckBgColor;\n\t\t\t\tlet leftWidth = boxSize / 4;\n\t\t\t\tlet rightWidth = boxSize / 2 * 0.9;\n\t\t\t\tconst leftLeftPos = x + boxSize * 0.2;\n\t\t\t\tconst leftTopPos = y + boxSize / 2;\n\n\t\t\t\tif (checkPoint < 0.5) {\n\t\t\t\t\tleftWidth *= checkPoint * 2;\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\t\t\t\tif (checkPoint > 0.5) {\n\t\t\t\t\tif (checkPoint < 1) {\n\t\t\t\t\t\trightWidth *= (checkPoint - 0.5) * 2;\n\t\t\t\t\t}\n\t\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n\t\t\t\t}\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawButton(ctx, left, top, width, height, option = {}) {\n\t\tconst {\n\t\t\tbackgroundColor = '#FFF',\n\t\t\tbgColor = backgroundColor,\n\t\t\tradius = 4,\n\t\t\tshadow = {}\n\t\t} = option;\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = bgColor;\n\n\t\t\tif (shadow) {\n\t\t\t\tconst {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\n\t\t\t\t\tblur = 1,\n\t\t\t\t\toffsetX = 0,\n\t\t\t\t\toffsetY = 2,\n\t\t\t\t\toffset: {\n\t\t\t\t\t\tx: ox = offsetX,\n\t\t\t\t\t\ty: oy = offsetY\n\t\t\t\t\t} = {}\n\t\t\t\t} = shadow;\n\t\t\t\tctx.shadowColor = color;\n\t\t\t\tctx.shadowBlur = blur; //\n\t\t\t\tctx.shadowOffsetX = ox;\n\t\t\t\tctx.shadowOffsetY = oy;\n\t\t\t}\n\n\t\t\tfillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\n  * canvashelper\n  * @type {Object}\n  * @namespace cheetahGrid.tools.canvashelper\n  * @memberof cheetahGrid.tools\n  */\n\tconst canvashelper = {\n\t\troundRect,\n\t\tfillRoundRect,\n\t\tstrokeRoundRect,\n\t\tdrawCheckbox,\n\t\tmeasureCheckbox,\n\t\tfillTextRect,\n\t\tdrawButton,\n\t\tdrawInlineImageRect,\n\t\tstrokeColorsRect\n\t};\n\n\tmodule.exports = canvashelper;\n}\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst action = __webpack_require__(67);\n\tconst type = __webpack_require__(82);\n\tconst style = __webpack_require__(37);\n\n\t/**\n  * columns\n  * @type {Object}\n  * @namespace cheetahGrid.columns\n  * @memberof cheetahGrid\n  */\n\tmodule.exports = {\n\t\taction,\n\t\ttype,\n\t\tstyle\n\t};\n}\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst { bindCellClickAction, bindCellKeyAction } = __webpack_require__(33);\n\n\tconst BaseAction = __webpack_require__(19);\n\n\tclass Action extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._action = option.action;\n\t\t}\n\t\tget action() {\n\t\t\treturn this._action;\n\t\t}\n\t\tset action(action) {\n\t\t\tthis._action = action;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Action(this);\n\t\t}\n\t\tgetState(grid) {\n\t\t\treturn {};\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst state = this.getState(grid);\n\t\t\tconst action = cell => {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst record = grid.getRowRecord(cell.row);\n\t\t\t\tthis._action(record);\n\t\t\t};\n\n\t\t\treturn [...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: e => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: e => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t}\n\t\t\t}), ...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = Action;\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst { isPromise, event: { cancel } } = __webpack_require__(0);\n\tconst { EVENT_TYPE: {\n\t\t\tCLICK_CELL,\n\t\t\tMOUSEOVER_CELL,\n\t\t\tMOUSEOUT_CELL,\n\t\t\tKEYDOWN\n\t\t} } = __webpack_require__(4);\n\tconst KEY_ENTER = 13;\n\tfunction bindCellClickAction(grid, col, util, {\n\t\taction,\n\t\tmouseOver,\n\t\tmouseOut\n\t}) {\n\t\treturn [\n\t\t// click\n\t\tgrid.listen(CLICK_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: e.col,\n\t\t\t\trow: e.row\n\t\t\t});\n\t\t}),\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOver) {\n\t\t\t\tif (!mouseOver({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t})) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (mouseOut) {\n\t\t\t\tmouseOut({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t})];\n\t}\n\tfunction bindCellKeyAction(grid, col, util, { action, acceptKeys = [] }) {\n\t\tacceptKeys = [...acceptKeys, KEY_ENTER];\n\t\treturn [\n\t\t// enter key down\n\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\taction({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t\tcancel(e);\n\t\t})];\n\t}\n\n\tmodule.exports = {\n\t\tbindCellClickAction,\n\t\tbindCellKeyAction\n\t};\n}\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tfunction cubicBezier(x2, y2, x3, y3) {\n\t\tlet step;\n\t\tconst err = 0.0001;\n\n\t\tx2 *= 3;\n\t\ty2 *= 3;\n\t\tx3 *= 3;\n\t\ty3 *= 3;\n\n\t\treturn function (t) {\n\t\t\tlet p, a, b, c, d, x, s;\n\t\t\tif (t < 0 || 1 < t) {\n\t\t\t\tthrow new Error(t);\n\t\t\t}\n\n\t\t\tp = step || t;\n\n\t\t\tdo {\n\t\t\t\ta = 1 - p;\n\t\t\t\tb = a * a;\n\t\t\t\tc = p * p;\n\t\t\t\td = c * p;\n\n\t\t\t\tx = x2 * b * p + x3 * a * c + d;\n\t\t\t\ts = t - x;\n\t\t\t\tp += s * 0.5;\n\t\t\t} while (err < Math.abs(s));\n\n\t\t\tstep = p;\n\t\t\treturn y2 * b * p + y3 * a * c + d;\n\t\t};\n\t}\n\tconst EASINGS = {\n\t\tlinear(p) {\n\t\t\treturn p;\n\t\t},\n\t\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n\t\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n\t\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000)\n\t};\n\n\tconst raf = window.requestAnimationFrame || setTimeout;\n\n\tfunction now() {\n\t\treturn Date.now();\n\t}\n\t/**\n  * <pre>\n  * Animates.\n  * </pre>\n  * @function\n  * @param {number} duration animation time.\n  * @param {function} step\n  * @param {function|string} easing\n  * @returns {object} Deferred object.\n  */\n\tmodule.exports = (duration, step, easing) => {\n\t\tconst startedAt = now();\n\n\t\tif (!easing) {\n\t\t\teasing = EASINGS.easeInOut;\n\t\t} else if (typeof easing === 'string') {\n\t\t\teasing = EASINGS[easing];\n\t\t}\n\n\t\tlet canceledFlg = false;\n\t\tconst createAnim = (resolve, reject) => {\n\t\t\tconst anim = () => {\n\t\t\t\tconst point = now() - startedAt;\n\t\t\t\tif (canceledFlg) {\n\t\t\t\t\t//cancel\n\t\t\t\t\tif (reject) {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t} else if (point >= duration) {\n\t\t\t\t\t//end\n\t\t\t\t\tstep(1);\n\t\t\t\t\tif (resolve) {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tstep(easing(point / duration));\n\n\t\t\t\t\traf(anim, 1);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn anim;\n\t\t};\n\t\tconst cancel = () => {\n\t\t\tcanceledFlg = true;\n\t\t};\n\t\tif (window.Promise) {\n\t\t\tconst result = new window.Promise((resolve, reject) => {\n\t\t\t\tconst anim = createAnim(resolve, reject);\n\t\t\t\tstep(0);\n\t\t\t\tanim();\n\t\t\t});\n\t\t\tresult.cancel = cancel;\n\t\t\treturn result;\n\t\t} else {\n\t\t\tconst anim = createAnim(() => {}, () => {});\n\t\t\tstep(0);\n\t\t\tanim();\n\t\t\treturn {\n\t\t\t\tcancel\n\t\t\t};\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\n\tconst Editor = __webpack_require__(13);\n\tconst { EVENT_TYPE: {\n\t\t\tINPUT_CELL,\n\t\t\tEDITABLEINPUT_CELL,\n\t\t\tSELECTED_CELL,\n\t\t\tDBLCLICK_CELL,\n\t\t\tDBLTAP_CELL,\n\t\t\tKEYDOWN,\n\t\t\tMODIFY_STATUS_EDITABLEINPUT_CELL,\n\t\t\tSCROLL\n\t\t} } = __webpack_require__(4);\n\tconst KEY_ENTER = 13;\n\tconst KEY_F2 = 113;\n\n\tclass BaseInputEditor extends Editor {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseInputEditor(this);\n\t\t}\n\t\tonInputCellInternal(grid, cell, inputValue) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonOpenCellInternal(grid, cell) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonSetInputAttrsInternal(grid, cell, input) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonGridScrollInternal(grid) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst open = cell => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onOpenCellInternal(grid, cell);\n\t\t\t};\n\n\t\t\tconst input = (cell, value) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onInputCellInternal(grid, cell, value);\n\t\t\t};\n\t\t\treturn [grid.listen(INPUT_CELL, e => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinput({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t}, e.value);\n\t\t\t}), grid.listen(DBLCLICK_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}), grid.listen(DBLTAP_CELL, e => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\n\t\t\t\te.event.preventDefault();\n\t\t\t\te.event.stopPropagation();\n\t\t\t}), grid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}), grid.listen(SELECTED_CELL, e => {\n\t\t\t\tthis.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\n\t\t\t}), grid.listen(SCROLL, () => {\n\t\t\t\tthis.onGridScrollInternal(grid);\n\t\t\t}), grid.listen(EDITABLEINPUT_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}), grid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, cell => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onSetInputAttrsInternal(grid, {\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t}, cell.input);\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = BaseInputEditor;\n}\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nfunction normalize(options) {\n\tif (!options) {\n\t\treturn [];\n\t}\n\tif (__webpack_provided_Array_dot_isArray(options)) {\n\t\treturn options;\n\t}\n\tif (typeof options === 'string') {\n\t\treturn normalize(JSON.parse(options));\n\t}\n\tconst result = [];\n\tfor (const k in options) {\n\t\tresult.push({\n\t\t\tvalue: k,\n\t\t\tcaption: options[k]\n\t\t});\n\t}\n\treturn result;\n}\n\nmodule.exports = {\n\tnormalize\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(21);\n\tconst Style = __webpack_require__(3);\n\tconst NumberStyle = __webpack_require__(38);\n\tconst CheckStyle = __webpack_require__(39);\n\tconst ButtonStyle = __webpack_require__(40);\n\tconst ImageStyle = __webpack_require__(41);\n\tconst IconStyle = __webpack_require__(42);\n\tconst PercentCompleteBarStyle = __webpack_require__(43);\n\n\t/**\n  * column styles\n  * @type {Object}\n  * @namespace cheetahGrid.columns.style\n  * @memberof cheetahGrid.columns\n  */\n\tconst style = {\n\t\tget EVENT_TYPE() {\n\t\t\treturn BaseStyle.EVENT_TYPE;\n\t\t},\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tget NumberStyle() {\n\t\t\treturn NumberStyle;\n\t\t},\n\t\tget CheckStyle() {\n\t\t\treturn CheckStyle;\n\t\t},\n\t\tget ButtonStyle() {\n\t\t\treturn ButtonStyle;\n\t\t},\n\t\tget ImageStyle() {\n\t\t\treturn ImageStyle;\n\t\t},\n\t\tget IconStyle() {\n\t\t\treturn IconStyle;\n\t\t},\n\t\tget PercentCompleteBarStyle() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t},\n\t\tof(columnStyle, record, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\n\t\t\t\t} else if (record && columnStyle in record) {\n\t\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'right' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass NumberStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new NumberStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = NumberStyle;\n}\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(20);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass CheckStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new CheckStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tuncheckBgColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tborderColor\n\t\t\t} = style;\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis._borderColor = borderColor;\n\t\t}\n\t\tget uncheckBgColor() {\n\t\t\treturn this._uncheckBgColor;\n\t\t}\n\t\tset uncheckBgColor(uncheckBgColor) {\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget checkBgColor() {\n\t\t\treturn this._checkBgColor;\n\t\t}\n\t\tset checkBgColor(checkBgColor) {\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget borderColor() {\n\t\t\treturn this._borderColor;\n\t\t}\n\t\tset borderColor(borderColor) {\n\t\t\tthis._borderColor = borderColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = CheckStyle;\n}\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass ButtonStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new ButtonStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tbuttonBgColor\n\t\t\t} = style;\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t}\n\t\tget buttonBgColor() {\n\t\t\treturn this._buttonBgColor;\n\t\t}\n\t\tset buttonBgColor(buttonBgColor) {\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = ButtonStyle;\n}\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst StdBaseStyle = __webpack_require__(20);\n\tlet defaultStyle;\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tclass ImageStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new ImageStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tthis._imageSizing = style.imageSizing;\n\t\t\tthis._margin = style.margin || 4;\n\t\t}\n\t\tget imageSizing() {\n\t\t\treturn this._imageSizing;\n\t\t}\n\t\tset imageSizing(imageSizing) {\n\t\t\tthis._imageSizing = imageSizing;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget margin() {\n\t\t\treturn this._margin;\n\t\t}\n\t\tset margin(margin) {\n\t\t\tthis._margin = margin;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageStyle(this);\n\t\t}\n\t}\n\tmodule.exports = ImageStyle;\n}\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textAlign = 'center' } = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass IconStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new IconStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconStyle(this);\n\t\t}\n\t}\n\n\tmodule.exports = IconStyle;\n}\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\tlet defaultStyle;\n\tconst DEFAULT_BAR_COLOR = num => {\n\t\tif (num > 80) {\n\t\t\treturn '#20a8d8';\n\t\t}\n\t\tif (num > 50) {\n\t\t\treturn '#4dbd74';\n\t\t}\n\t\tif (num > 20) {\n\t\t\treturn '#ffc107';\n\t\t}\n\t\treturn '#f86c6b';\n\t};\n\tclass PercentCompleteBarStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new PercentCompleteBarStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\n\t\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\n\t\t\tthis._barHeight = style.barHeight || 3;\n\t\t}\n\t\tget barColor() {\n\t\t\treturn this._barColor;\n\t\t}\n\t\tset barColor(barColor) {\n\t\t\tthis._barColor = barColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barBgColor() {\n\t\t\treturn this._barBgColor;\n\t\t}\n\t\tset barBgColor(barBgColor) {\n\t\t\tthis._barBgColor = barBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barHeight() {\n\t\t\treturn this._barHeight;\n\t\t}\n\t\tset barHeight(barHeight) {\n\t\t\tthis._barHeight = barHeight;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarStyle(this);\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarStyle;\n}\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { then } = __webpack_require__(0);\nconst LRUCache = __webpack_require__(87);\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n\treturn url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n\tif (!window.Promise) {\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\n\t\treturn {\n\t\t\tthen() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t}\n\tconst img = new Image();\n\tconst result = new window.Promise(resolve => {\n\t\timg.onload = () => {\n\t\t\tresolve(img);\n\t\t};\n\t});\n\timg.onerror = e => {\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n\t\tconsole.warn(`cannot load: ${url}`);\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\n\t};\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n\treturn result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n\treturn then(src, src => {\n\t\tconst c = cache.get(src);\n\t\tif (c) {\n\t\t\treturn c;\n\t\t}\n\t\tconst result = loadImage(src).then(img => {\n\t\t\tcache.put(src, img);\n\t\t\treturn img;\n\t\t});\n\t\tcache.put(src, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n\treturn getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n\tloadImage,\n\tgetCacheOrLoad\n};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: { frozenRowCount }\n\t} = args;\n\tif (frozenRowCount - 1 === row) {\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n\t} else {\n\t\treturn ['#f2f2f2'];\n\t}\n}\nfunction BORDER_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid: { colCount }\n\t} = args;\n\tif (colCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t} else {\n\t\treturn ['#ccc7c7', null];\n\t}\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: 'rgba(0, 0, 0, 0.87)',\n\tdefaultBgColor: '#FFF',\n\tfrozenRowsBgColor: '#FFF',\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: BORDER_COLOR,\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)'\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3'\n\t},\n\tunderlayBackgroundColor: '#FFF'\n};\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst DataSource = __webpack_require__(24);\n\tconst CachedDataSource = __webpack_require__(97);\n\tconst FilterDataSource = __webpack_require__(98);\n\n\t/**\n  * data modules\n  * @type {Object}\n  * @namespace cheetahGrid.data\n  * @memberof cheetahGrid\n  */\n\tmodule.exports = {\n\t\tDataSource,\n\t\tCachedDataSource,\n\t\tFilterDataSource\n\t};\n}\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { isPromise } = __webpack_require__(0);\n\n\tfunction wait(val) {\n\t\treturn val.then(v => {\n\t\t\tif (isPromise(v)) {\n\t\t\t\treturn wait(v);\n\t\t\t} else {\n\t\t\t\treturn v;\n\t\t\t}\n\t\t});\n\t}\n\tfunction createArray(get, length) {\n\t\tconst array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tarray[i] = get(i);\n\t\t}\n\t\treturn array;\n\t}\n\tfunction createArrayPromise(get, getField, length) {\n\t\treturn new Promise(resolve => {\n\t\t\tconst plist = [];\n\t\t\tconst array = new Array(length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst data = get(i);\n\t\t\t\tconst record = {\n\t\t\t\t\tv: data,\n\t\t\t\t\tf: data\n\t\t\t\t};\n\t\t\t\tarray[i] = record;\n\t\t\t\tif (isPromise(data)) {\n\t\t\t\t\tplist.push(wait(data).then(v => {\n\t\t\t\t\t\trecord.v = v;\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(() => setArrayField(array, getField)).then(resolve);\n\t\t});\n\t}\n\tfunction setArrayField(array, getField) {\n\t\tif (!getField) {\n\t\t\treturn Promise.resolve(array);\n\t\t}\n\t\treturn new Promise(resolve => {\n\t\t\tconst { length } = array;\n\t\t\tconst plist = [];\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst record = array[i];\n\t\t\t\trecord.f = getField(record.v);\n\t\t\t\tif (isPromise(record.f)) {\n\t\t\t\t\tplist.push(wait(record.f).then(v => {\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(() => resolve(array));\n\t\t});\n\t}\n\tconst sort = {\n\t\tsort(get, set, length, compare, getField) {\n\t\t\tconst old = createArray(get, length);\n\t\t\tif (getField) {\n\t\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\n\t\t\t} else {\n\t\t\t\told.sort(compare);\n\t\t\t}\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tset(i, old[i]);\n\t\t\t}\n\t\t},\n\t\tsortArray(array, compare) {\n\t\t\tArray.prototype.sort.call(array, compare);\n\t\t},\n\t\tsortPromise(get, set, length, compare, getField) {\n\t\t\tif (window.Promise) {\n\t\t\t\treturn createArrayPromise(get, getField, length).then(array => {\n\t\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tset(i, array[i].v);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsort.sort(get, set, length, compare, getField);\n\t\t\t\tconst dummyPromise = {\n\t\t\t\t\tthen(fn) {\n\t\t\t\t\t\tfn();\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t},\n\t\t\t\t\tcatch() {\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn dummyPromise;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = sort;\n}\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {/*eslint no-bitwise:0*/\n\n\n{\n\tconst { calcStartPosition, getFontSize } = __webpack_require__(8);\n\tconst inlines = __webpack_require__(100);\n\tconst canvashelper = __webpack_require__(30);\n\tconst themes = __webpack_require__(23);\n\tconst { colorToRGB } = __webpack_require__(54);\n\tconst Rect = __webpack_require__(17);\n\tconst { getChainSafe, getOrApply, style: { toBoxArray } } = __webpack_require__(0);\n\tconst fonts = __webpack_require__(50);\n\tconst calc = __webpack_require__(18);\n\n\tfunction invalidateCell(context, grid) {\n\t\tconst { col, row } = context;\n\t\tgrid.invalidateCell(col, row);\n\t}\n\tfunction getColor(color, col, row, grid, context) {\n\t\treturn getOrApply(color, {\n\t\t\tcol,\n\t\t\trow,\n\t\t\tgrid,\n\t\t\tcontext\n\t\t});\n\t}\n\tfunction getThemeColor(grid, ...names) {\n\t\treturn getChainSafe(grid.theme, ...names) || getChainSafe(themes.default, ...names);\n\t}\n\tfunction testFontLoad(font, value, context, grid) {\n\t\tif (font) {\n\t\t\tif (!fonts.check(font, value)) {\n\t\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n\t\tfunction drawInline(inline, offsetLeft, offsetRight) {\n\t\t\tif (inline.canDraw()) {\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n\t\t\t\t\tctx.font = inline.font() || ctx.font;\n\t\t\t\t\tinline.draw({\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\tcanvashelper,\n\t\t\t\t\t\trect,\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\toffsetLeft,\n\t\t\t\t\t\toffsetRight,\n\t\t\t\t\t\toffsetTop,\n\t\t\t\t\t\toffsetBottom\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\n\t\t\t\t//noop\n\t\t\t}\n\t\t}\n\t\tif (inlines.length === 1) {\n\t\t\t//1\n\t\t\tconst inline = inlines[0];\n\t\t\tdrawInline(inline, 0, 0);\n\t\t} else {\n\t\t\tconst inlineWidths = inlines.map(inline => (inline.width({ ctx }) || 0) - 0);\n\t\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\n\n\t\t\tlet offsetLeft = 0;\n\t\t\tinlines.forEach((inline, index) => {\n\t\t\t\tconst inlineWidth = inlineWidths[index];\n\t\t\t\toffsetRight -= inlineWidth;\n\t\t\t\tdrawInline(inline, offsetLeft, offsetRight);\n\t\t\t\toffsetLeft += inlineWidth;\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction _inlineRect(grid, ctx, inline, rect, col, row, {\n\t\toffset,\n\t\tcolor,\n\t\ttextAlign,\n\t\ttextBaseline,\n\t\tfont,\n\t\ticons\n\t} = {}) {\n\n\t\t//style\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tctx.font = font || ctx.font;\n\n\t\tconst actInlines = inlines.buildInlines(icons, inline);\n\t\tdrawInlines(ctx, actInlines, rect, offset, 0, 0, col, row, grid);\n\t}\n\n\tfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, {\n\t\toffset,\n\t\tcolor,\n\t\ttextAlign,\n\t\ttextBaseline,\n\t\tfont,\n\t\tlineHeight,\n\t\ticons\n\t} = {}) {\n\t\t//style\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tctx.font = font || ctx.font;\n\n\t\tmultiInlines = [...multiInlines];\n\n\t\tlet paddingTop = 0;\n\t\tlet paddingBottom = lineHeight * (multiInlines.length - 1);\n\n\t\tif (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\n\t\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\t\tconst pad = (lineHeight - em) / 2;\n\t\t\tpaddingTop += pad;\n\t\t\tpaddingBottom -= pad;\n\t\t} else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\n\t\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\t\tconst pad = (lineHeight - em) / 2;\n\t\t\tpaddingTop -= pad;\n\t\t\tpaddingBottom += pad;\n\t\t}\n\t\tconst line = multiInlines.shift() || '';\n\t\tconst actInlines = inlines.buildInlines(icons, line);\n\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\tpaddingTop += lineHeight;\n\t\tpaddingBottom -= lineHeight;\n\t\twhile (multiInlines.length) {\n\t\t\tconst line = multiInlines.shift();\n\t\t\tconst actInlines = inlines.buildInlines(undefined, line);\n\t\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\t\tpaddingTop += lineHeight;\n\t\t\tpaddingBottom -= lineHeight;\n\t\t}\n\t}\n\n\tfunction drawCheckbox(ctx, rect, check, helper, {\n\t\tanimElapsedTime = 1,\n\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\n\t\tborderColor = helper.theme.checkbox.borderColor,\n\t\ttextAlign = 'center',\n\t\ttextBaseline = 'middle'\n\t} = {}) {\n\t\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/);\n\t\tif (0 < animElapsedTime && animElapsedTime < 1) {\n\t\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\n\t\t\tconst checkBgRGB = colorToRGB(checkBgColor);\n\t\t\tconst checkRGB = colorName => {\n\t\t\t\tconst start = uncheckBgRGB[colorName];\n\t\t\t\tconst end = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = start - end;\n\t\t\t\treturn Math.ceil(start - diff * animElapsedTime);\n\t\t\t};\n\t\t\tconst uncheckRGB = colorName => {\n\t\t\t\tconst end = uncheckBgRGB[colorName];\n\t\t\t\tconst start = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = end - start;\n\t\t\t\treturn Math.ceil(start + diff * animElapsedTime);\n\t\t\t};\n\t\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n\t\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n\t\t}\n\n\t\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n\t\t\tuncheckBgColor,\n\t\t\tcheckBgColor,\n\t\t\tborderColor\n\t\t});\n\t}\n\n\tclass Theme {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t}\n\t\tgetThemeColor(...name) {\n\t\t\treturn getThemeColor(this._grid, ...name);\n\t\t}\n\t\tget font() {\n\t\t\treturn getThemeColor(this._grid, 'font');\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\n\t\t}\n\t\t// color\n\t\tget color() {\n\t\t\treturn getThemeColor(this._grid, 'color');\n\t\t}\n\t\tget frozenRowsColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\n\t\t}\n\t\t// background\n\t\tget defaultBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'defaultBgColor');\n\t\t}\n\t\tget frozenRowsBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\n\t\t}\n\t\tget selectionBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'selectionBgColor');\n\t\t}\n\t\t// border\n\t\tget borderColor() {\n\t\t\treturn getThemeColor(this._grid, 'borderColor');\n\t\t}\n\t\tget frozenRowsBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\n\t\t}\n\t\tget hiliteBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'hiliteBorderColor');\n\t\t}\n\t\tget checkbox() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n\t\t\t\t},\n\t\t\t\tget checkBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\n\t\t\t\t},\n\t\t\t\tget borderColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tget button() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._button || (this._button = {\n\t\t\t\tget color() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'color');\n\t\t\t\t},\n\t\t\t\tget bgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tfunction strokeRect(ctx, color, left, top, width, height) {\n\t\tif (!__webpack_provided_Array_dot_isArray(color)) {\n\t\t\tif (color) {\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tconst borderColors = toBoxArray(color);\n\t\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n\t\t}\n\t}\n\n\tclass GridCanvasHelper {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._theme = new Theme(grid);\n\t\t}\n\t\tcreateCalculator(context, font) {\n\t\t\treturn {\n\t\t\t\tcalcWidth(width) {\n\t\t\t\t\treturn calc.toPx(width, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.width;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\treturn getFontSize(context.getContext(), font).width;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcalcHeight(height) {\n\t\t\t\t\treturn calc.toPx(height, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.height;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\treturn getFontSize(context.getContext(), font).height;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tgetColor(color, col, row, ctx) {\n\t\t\treturn getColor(color, col, row, this._grid, ctx);\n\t\t}\n\t\ttoBoxArray(obj) {\n\t\t\treturn toBoxArray(obj);\n\t\t}\n\t\ttoBoxPixelArray(value, context, font) {\n\t\t\tif (typeof value === 'string' || __webpack_provided_Array_dot_isArray(value)) {\n\t\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\t\tconst box = toBoxArray(value);\n\t\t\t\treturn [calculator.calcHeight(box[0]), calculator.calcWidth(box[1]), calculator.calcHeight(box[2]), calculator.calcWidth(box[3])];\n\t\t\t}\n\t\t\treturn toBoxArray(value);\n\t\t}\n\t\tget theme() {\n\t\t\treturn this._theme;\n\t\t}\n\t\tdrawWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ctx = context.getContext();\n\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n\t\t\t\t//clip\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tdrawBorderWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = context.getRect();\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\t//clip\n\t\t\t\tctx.beginPath();\n\t\t\t\tlet clipLeft = drawRect.left;\n\t\t\t\tlet clipWidth = drawRect.width;\n\t\t\t\tif (drawRect.left === rect.left) {\n\t\t\t\t\tclipLeft += -1;\n\t\t\t\t\tclipWidth += 1;\n\t\t\t\t}\n\t\t\t\tlet clipTop = drawRect.top;\n\t\t\t\tlet clipHeight = drawRect.height;\n\t\t\t\tif (drawRect.top === rect.top) {\n\t\t\t\t\tclipTop += -1;\n\t\t\t\t\tclipHeight += 1;\n\t\t\t\t}\n\t\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\ttext(text, context, {\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor,\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tfont,\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tlet rect = context.getRect();\n\n\t\t\tconst { col, row } = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({ color } = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tif (padding) {\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t\t}\n\t\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tmultilineText(multilines, context, {\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor,\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tfont,\n\t\t\tlineHeight = '1em',\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tlet rect = context.getRect();\n\n\t\t\tconst { col, row } = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({ color } = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tif (padding) {\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t\t}\n\t\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\t\tlineHeight = calculator.calcHeight(lineHeight);\n\t\t\t\t_multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\tlineHeight,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tfillText(text, x, y, context, {\n\t\t\tcolor,\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'top',\n\t\t\tfont\n\t\t} = {}) {\n\n\t\t\tconst { col, row } = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({ color } = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\tctx.font = font || ctx.font;\n\t\t\t\tctx.fillText(text, x, y);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tfillCell(context, {\n\t\t\tfillColor = this.theme.defaultBgColor\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t\tfillCellWithState(context, option = {}) {\n\t\t\toption.fillColor = this.getFillColorState(context, option);\n\t\t\tthis.fillCell(context, option);\n\t\t}\n\t\tfillRect(rect, context, {\n\t\t\tfillColor = this.theme.defaultBgColor\n\t\t} = {}) {\n\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t\tctx.fill();\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tfillRectWithState(rect, context, option = {}) {\n\t\t\toption.fillColor = this.getFillColorState(context, option);\n\n\t\t\tthis.fillRect(rect, context, option);\n\t\t}\n\t\tgetFillColorState(context, option = {}) {\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst { col, row } = context;\n\t\t\tif (!state.selected && state.selection) {\n\t\t\t\treturn this.theme.selectionBgColor;\n\t\t\t} else {\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\treturn this.theme.frozenRowsBgColor;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn option.fillColor || this.theme.defaultBgColor;\n\t\t}\n\t\tborder(context, {\n\t\t\tborderColor = this.theme.borderColor,\n\t\t\tlineWidth = 1\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n\t\t\t\tif (lineWidth === 1) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n\t\t\t\t} else if (lineWidth === 2) {\n\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n\t\t\t\t} else {\n\t\t\t\t\tctx.lineWidth = lineWidth;\n\t\t\t\t\tconst startOffset = lineWidth / 2 - 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tborderWithState(context, option = {}) {\n\t\t\tconst rect = context.getRect();\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst { col, row } = context;\n\n\t\t\t//\n\t\t\tif (state.selected) {\n\t\t\t\toption.borderColor = this.theme.hiliteBorderColor;\n\t\t\t\toption.lineWidth = 2;\n\t\t\t\tthis.border(context, option);\n\t\t\t} else {\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\n\t\t\t\t}\n\n\t\t\t\toption.lineWidth = 1;\n\t\t\t\tthis.border(context, option);\n\n\t\t\t\t//\n\t\t\t\tconst sel = this._grid.selection.select;\n\t\t\t\tif (sel.col + 1 === col && sel.row === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(getColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx));\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, ctx => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(getColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx));\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcheckbox(check, context, option = {}) {\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tdrawCheckbox(ctx, context.getRect(), check, this, option);\n\t\t\t});\n\t\t}\n\t\tbutton(caption, context, {\n\t\t\tbgColor = this.theme.button.bgColor,\n\t\t\tpadding,\n\t\t\toffset = 2,\n\t\t\tcolor = this.theme.button.color,\n\t\t\ttextAlign = 'center',\n\t\t\ttextBaseline = 'middle',\n\t\t\tshadow,\n\t\t\tfont,\n\t\t\ticons\n\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, ctx => {\n\t\t\t\tconst { col, row } = context;\n\t\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\n\t\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\n\t\t\t\t\tbgColor,\n\t\t\t\t\tradius: rect.height / 8,\n\t\t\t\t\toffset,\n\t\t\t\t\tshadow\n\t\t\t\t});\n\t\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height), col, row, {\n\t\t\t\t\toffset,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\ttestFontLoad(font, value, context) {\n\t\t\treturn testFontLoad(font, value, context, this._grid);\n\t\t}\n\t}\n\n\tmodule.exports = GridCanvasHelper;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst loads = {};\n\tconst legacy = !document.fonts;\n\tconst load = legacy ? function (font, testStr, callback) {\n\t\t//for legacy(IE)\n\t\tif (loads[`${font} @ ${testStr}`]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\t__webpack_require__(102).load(font, testStr, () => {\n\t\t\tloads[`${font} @ ${testStr}`] = true;\n\t\t\tcallback();\n\t\t}, () => {\n\t\t\tloads[`${font} @ ${testStr}`] = true;\n\t\t\tcallback();\n\t\t});\n\t} : function (font, testStr, callback) {\n\t\tif (loads.all || loads[font]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tdocument.fonts.ready.then(() => {\n\t\t\tloads.all = true;\n\t\t});\n\t\tdocument.fonts.load(font).then(() => {\n\t\t\tloads[font] = true;\n\t\t\tcallback();\n\t\t});\n\t};\n\tconst check = legacy ? function (font, testStr) {\n\t\t//for legacy(IE)\n\t\tif (loads[`${font} @ ${testStr}`]) {\n\t\t\treturn true;\n\t\t}\n\t\tload(font, testStr, () => {});\n\t\treturn false;\n\t} : function (font, testStr) {\n\t\tif (loads.all || loads[font]) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!document.fonts.check(font)) {\n\t\t\tload(font, testStr, () => {});\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tmodule.exports = {\n\t\tcheck,\n\t\tload\n\t};\n}\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(11);\nconst { getCacheOrLoad } = __webpack_require__(44);\nconst { isPromise } = __webpack_require__(0);\n\nclass InlineImage extends Inline {\n\tconstructor({\n\t\tsrc,\n\t\twidth,\n\t\theight,\n\t\timageLeft,\n\t\timageTop,\n\t\timageWidth,\n\t\timageHeight\n\t}) {\n\t\tsuper();\n\t\tthis._src = src;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._imageLeft = imageLeft;\n\t\tthis._imageTop = imageTop;\n\t\tthis._imageWidth = imageWidth;\n\t\tthis._imageHeight = imageHeight;\n\n\t\tthis._onloaded = [];\n\n\t\tthis._loaded = false;\n\t\tif (isPromise(src)) {\n\t\t\tsrc.then(s => {\n\t\t\t\tthis._src = s;\n\t\t\t\tthis._loadImage(s);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loadImage(src);\n\t\t}\n\t}\n\t_loadImage(src) {\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\t\tif (isPromise(img)) {\n\t\t\timg.then(i => {\n\t\t\t\tthis._loaded = true;\n\t\t\t\tthis._inlineImg = i;\n\n\t\t\t\tthis._onloaded.forEach(fn => fn());\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loaded = true;\n\t\t}\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn this._loaded;\n\t}\n\tonReady(callback) {\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\n\t\t\tthis._onloaded.push(() => callback());\n\t\t}\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tconst img = this._inlineImg;\n\t\tcanvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n\t\t\toffset: offset + 1,\n\t\t\tpadding: {\n\t\t\t\tleft: offsetLeft,\n\t\t\t\tright: offsetRight,\n\t\t\t\ttop: offsetTop,\n\t\t\t\tbottom: offsetBottom\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineImage;\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint-disable camelcase*/\n\n\nconst { extend } = __webpack_require__(0);\nconst plugins = __webpack_require__(53);\nconst builtins = {\n\tget arrow_upward() {\n\t\treturn __webpack_require__(110);\n\t},\n\tget arrow_downward() {\n\t\treturn __webpack_require__(111);\n\t},\n\tget edit() {\n\t\treturn __webpack_require__(112);\n\t},\n\tget add() {\n\t\treturn __webpack_require__(113);\n\t},\n\tget star() {\n\t\treturn __webpack_require__(114);\n\t},\n\tget star_border() {\n\t\treturn __webpack_require__(115);\n\t},\n\tget star_half() {\n\t\treturn __webpack_require__(116);\n\t}\n};\n\nmodule.exports = {\n\tget() {\n\t\treturn extend(builtins, plugins);\n\t}\n};\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {};\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst rgbMap = {};\n\tfunction styleColorToRGB(color) {\n\t\tconst dummy = document.createElement('div');\n\t\tconst { style } = dummy;\n\t\tstyle.color = color;\n\t\tstyle.position = 'fixed';\n\t\tstyle.height = '1px';\n\t\tstyle.width = '1px';\n\t\tstyle.opacity = 0;\n\t\tdocument.body.appendChild(dummy);\n\t\tconst { color: styleColor } = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn colorToRGB0(styleColor);\n\t}\n\n\tfunction hexToNum(hex) {\n\t\treturn parseInt(hex, 16);\n\t}\n\tfunction createRGB(r, g, b, a = 1) {\n\t\treturn { r, g, b, a };\n\t}\n\tfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\n\t\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n\t}\n\tfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2 }) {\n\t\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n\t}\n\n\tfunction testRGB({ r, g, b, a }) {\n\t\treturn 0 <= r && r <= 255 && 0 <= g && g <= 255 && 0 <= b && b <= 255 && 0 <= a && a <= 1;\n\t}\n\tfunction rateToByte(r) {\n\t\treturn Math.ceil(r * 255 / 100);\n\t}\n\tfunction colorToRGB0(color) {\n\t\tif (color.match(/^#[0-9a-f]{3}$/i)) {\n\t\t\treturn tripleHexToRGB(color);\n\t\t}\n\t\tif (color.match(/^#[0-9a-f]{6}$/i)) {\n\t\t\treturn sextupleHexToRGB(color);\n\t\t}\n\t\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfunction colorToRGB(color) {\n\t\tif (typeof color !== 'string') {\n\t\t\treturn createRGB(0, 0, 0, 0);\n\t\t}\n\t\tcolor = color.toLowerCase().trim();\n\t\tif (rgbMap[color]) {\n\t\t\treturn rgbMap[color];\n\t\t}\n\t\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n\t}\n\n\tmodule.exports = {\n\t\tcolorToRGB\n\t};\n}\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventTarget = __webpack_require__(12);\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style'\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n\t\t}\n\t\tconstructor({\n\t\t\ttextAlign = 'left',\n\t\t\ttextBaseline = 'middle',\n\t\t\tbgColor\n\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(16);\n\tconst { Style } = styleContents;\n\n\tclass BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tthis._headerCell = headerCell;\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this); //\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst { style, drawCellBase } = info;\n\t\t\tdelete info.getRecord;\n\t\t\tdelete info.style;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\t\t\t//\n\t\t\tthis.drawInternal(cellValue, context, styleContents.of(style, this.StyleClass), helper, grid, info);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseHeader;\n}\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { extend } = __webpack_require__(0);\nconst DrawGrid = __webpack_require__(4);\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n\tCHANGED_VALUE: 'changed_value'\n});\nmodule.exports = EVENT_TYPE;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst core = __webpack_require__(59);\n\tconst tools = __webpack_require__(66);\n\tconst columns = __webpack_require__(31);\n\tconst themes = __webpack_require__(23);\n\tconst data = __webpack_require__(47);\n\n\tconst ListGrid = __webpack_require__(99);\n\tconst GridCanvasHelper = __webpack_require__(49);\n\n\tconst icons = __webpack_require__(52);\n\tconst register = __webpack_require__(133);\n\n\t/**\n  * Cheetah Grid\n  * @type {Object}\n  * @namespace cheetahGrid\n  */\n\tmodule.exports = {\n\t\tcore,\n\t\ttools,\n\n\t\t// impl Grids\n\t\tListGrid,\n\n\t\t// objects\n\t\tcolumns,\n\t\tthemes,\n\t\tdata,\n\n\t\t// helper\n\t\tGridCanvasHelper,\n\t\tget icons() {\n\t\t\treturn icons.get();\n\t\t},\n\n\t\t//plugin registers\n\t\tregister,\n\n\t\tget _internal() {\n\t\t\tconsole.warn('use internal!!');\n\t\t\treturn {\n\t\t\t\tcolor: __webpack_require__(54),\n\t\t\t\tsort: __webpack_require__(48),\n\t\t\t\tcalc: __webpack_require__(18),\n\t\t\t\tsymbolManager: __webpack_require__(1),\n\t\t\t\tpath2DManager: __webpack_require__(25)\n\t\t\t};\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst DrawGrid = __webpack_require__(4);\n\n\t/**\n  * core modules\n  * @type {Object}\n  * @namespace cheetahGrid.core\n  * @memberof cheetahGrid\n  */\n\tmodule.exports = {\n\t\tDrawGrid\n\t};\n}\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst EventHandler = __webpack_require__(5);\n\tconst style = __webpack_require__(29);\n\tconst { browser } = __webpack_require__(0);\n\n\tconst MAX_SCROLL = browser.heightLimit - 1000;\n\n\tfunction _update(scrollable) {\n\t\tlet domHeight;\n\t\tif (scrollable._height > MAX_SCROLL) {\n\t\t\tconst sbSize = style.getScrollBarSize();\n\t\t\tconst { offsetHeight } = scrollable._scrollable;\n\t\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n\t\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\n\t\t\tscrollable._p = vScrollRange / rScrollRange;\n\t\t\tdomHeight = MAX_SCROLL;\n\t\t} else {\n\t\t\tscrollable._p = 1;\n\t\t\tdomHeight = scrollable._height;\n\t\t}\n\n\t\tscrollable._endPointElement.style.top = `${domHeight.toFixed()}px`;\n\t\tscrollable._endPointElement.style.left = `${scrollable._width.toFixed()}px`;\n\t}\n\n\tclass Scrollable {\n\t\tconstructor() {\n\t\t\tthis._handler = new EventHandler();\n\n\t\t\tthis._scrollable = document.createElement('div');\n\t\t\tthis._scrollable.classList.add('grid-scrollable');\n\t\t\tthis._height = 0;\n\t\t\tthis._width = 0;\n\n\t\t\tthis._endPointElement = document.createElement('div');\n\t\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\n\t\t\t_update(this);\n\t\t\tthis._scrollable.appendChild(this._endPointElement);\n\n\t\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n\t\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n\t\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n\t\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n\t\t\t// this.scrollTop += delta < 0 ? point : -point;\n\t\t\t// });\n\t\t}\n\t\tcalcTop(top) {\n\t\t\tconst relativeTop = top - this.scrollTop;\n\t\t\treturn this._scrollable.scrollTop + relativeTop;\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this._scrollable;\n\t\t}\n\t\tsetScrollSize(width, height) {\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollWidth() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset scrollWidth(width) {\n\t\t\tthis._width = width;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollHeight() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset scrollHeight(height) {\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollLeft() {\n\t\t\treturn Math.ceil(this._scrollable.scrollLeft);\n\t\t}\n\t\tset scrollLeft(scrollLeft) {\n\t\t\tthis._scrollable.scrollLeft = scrollLeft;\n\t\t}\n\t\tget scrollTop() {\n\t\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\n\t\t}\n\t\tset scrollTop(scrollTop) {\n\t\t\tthis._scrollable.scrollTop = scrollTop * this._p;\n\t\t}\n\t\tonScroll(fn) {\n\t\t\tthis._handler.on(this._scrollable, 'scroll', fn);\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\tmodule.exports = Scrollable;\n}\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(62);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst indexFirst = (ary, elm) => {\n\t\tlet low = 0;\n\t\tlet high = ary.length - 1;\n\t\twhile (low <= high) {\n\t\t\tconst i = Math.floor((low + high) / 2);\n\t\t\tif (ary[i] === elm) {\n\t\t\t\treturn i;\n\t\t\t} else if (ary[i] > elm) {\n\t\t\t\thigh = i - 1;\n\t\t\t} else {\n\t\t\t\tlow = i + 1;\n\t\t\t}\n\t\t}\n\t\treturn high < 0 ? 0 : high;\n\t};\n\n\tclass NumberMap {\n\t\tconstructor() {\n\t\t\tthis._keys = [];\n\t\t\tthis._vals = {};\n\t\t\tthis._sorted = false;\n\t\t}\n\t\tput(key, value) {\n\t\t\tif (!(key in this._vals)) {\n\t\t\t\tthis._keys.push(key);\n\t\t\t\tthis._sorted = false;\n\t\t\t}\n\t\t\tthis._vals[key] = value;\n\t\t}\n\t\tget(key) {\n\t\t\treturn this._vals[key];\n\t\t}\n\t\teachAll(fn) {\n\t\t\tthis._keys.forEach(key => {\n\t\t\t\tfn(this.get(key), key);\n\t\t\t});\n\t\t}\n\t\teach(keyFrom, keyTo, fn) {\n\t\t\tconst { _keys: keys } = this;\n\t\t\tconst { length } = keys;\n\t\t\tif (!this._sorted) {\n\t\t\t\tkeys.sort((a, b) => {\n\t\t\t\t\tif (a < b) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\tif (a > b) {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t\tthis._sorted = true;\n\t\t\t}\n\n\t\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\n\t\t\t\tconst key = keys[i];\n\t\t\t\tif (keyFrom <= key && key <= keyTo) {\n\t\t\t\t\tfn(this.get(key), key);\n\t\t\t\t} else if (keyTo < key) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmodule.exports = NumberMap;\n}\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst EventHandler = __webpack_require__(5);\nconst handler = new EventHandler();\n\nlet ratio;\nfunction setRatio() {\n\tratio = Math.ceil(window.devicePixelRatio || 1);\n\tif (ratio > 1 && ratio % 2 !== 0) {\n\t\tratio += 1;\n\t}\n}\nsetRatio();\nhandler.on(window, 'resize', setRatio);\n\nmodule.exports = {\n\ttransform(canvas) {\n\t\tconst ctx = canvas.getContext('2d');\n\n\t\tconst { getAttribute, setAttribute } = canvas;\n\t\tcanvas.getAttribute = function (name, ...args) {\n\t\t\tlet result = getAttribute.call(this, name, ...args);\n\t\t\tif (name === 'width' || name === 'height') {\n\t\t\t\tresult /= ratio;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tcanvas.setAttribute = function (name, val, ...args) {\n\t\t\tconst wh = name === 'width' || name === 'height';\n\t\t\tif (wh) {\n\t\t\t\tval *= ratio;\n\t\t\t}\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\n\t\t\tif (wh) {\n\t\t\t\tctx.scale(ratio, ratio);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tObject.defineProperty(canvas, 'width', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('width');\n\t\t\t},\n\t\t\tset: val => {\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\t\tObject.defineProperty(canvas, 'height', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('height');\n\t\t\t},\n\t\t\tset: val => {\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\t\tconst { drawImage } = ctx;\n\t\tctx.drawImage = function (img, ...args) {\n\t\t\tif (img !== canvas || ratio === 1) {\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t}\n\t\t\tthis.save();\n\t\t\ttry {\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\n\t\t\t\tif (args.length > 4) {\n\t\t\t\t\targs[4] *= ratio;\n\t\t\t\t\targs[5] *= ratio;\n\t\t\t\t} else {\n\t\t\t\t\targs[0] *= ratio;\n\t\t\t\t\targs[1] *= ratio;\n\t\t\t\t}\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t} finally {\n\t\t\t\tthis.restore();\n\t\t\t}\n\t\t};\n\n\t\treturn canvas;\n\t}\n};\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst canvashelper = __webpack_require__(30);\n\n\t/**\n  * tools\n  * @type {Object}\n  * @namespace cheetahGrid.tools\n  * @memberof cheetahGrid\n  */\n\tmodule.exports = {\n\t\tcanvashelper\n\t};\n}\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseAction = __webpack_require__(19);\n\tconst Action = __webpack_require__(32);\n\tconst Editor = __webpack_require__(13);\n\tconst CheckEditor = __webpack_require__(68);\n\tconst ButtonAction = __webpack_require__(69);\n\tconst SmallDialogInputEditor = __webpack_require__(70);\n\tconst InlineInputEditor = __webpack_require__(74);\n\tconst InlineMenuEditor = __webpack_require__(78);\n\n\tclass ImmutableCheckEditor extends CheckEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\tclass ImmutableInputEditor extends SmallDialogInputEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\n\t/**\n  * column actions\n  * @type {Object}\n  * @namespace cheetahGrid.columns.action\n  * @memberof cheetahGrid.columns\n  */\n\tconst action = {\n\t\tACTIONS: {\n\t\t\tCHECK: new ImmutableCheckEditor(),\n\t\t\tINPUT: new ImmutableInputEditor()\n\t\t},\n\t\tget BaseAction() {\n\t\t\treturn BaseAction;\n\t\t},\n\t\tget Editor() {\n\t\t\treturn Editor;\n\t\t},\n\t\tget Action() {\n\t\t\treturn Action;\n\t\t},\n\t\tget CheckEditor() {\n\t\t\treturn CheckEditor;\n\t\t},\n\t\tget ButtonAction() {\n\t\t\treturn ButtonAction;\n\t\t},\n\t\tget SmallDialogInputEditor() {\n\t\t\treturn SmallDialogInputEditor;\n\t\t},\n\t\tget InlineInputEditor() {\n\t\t\tconsole.warn('InlineInputEditor is an experiment stage');\n\t\t\treturn InlineInputEditor;\n\t\t},\n\t\tget InlineMenuEditor() {\n\t\t\treturn InlineMenuEditor;\n\t\t},\n\t\tof(columnAction) {\n\t\t\tif (!columnAction) {\n\t\t\t\treturn action.ACTIONS.DEFAULT;\n\t\t\t} else if (typeof columnAction === 'string') {\n\t\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnAction;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = action;\n}\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { setReadonly }, isPromise } = __webpack_require__(0);\n\tconst { bindCellClickAction, bindCellKeyAction } = __webpack_require__(33);\n\tconst animate = __webpack_require__(34);\n\n\tconst Editor = __webpack_require__(13);\n\tconst { CHECK_COLUMN_STATE_ID } = __webpack_require__(1);\n\n\tconst KEY_ENTER = 13;\n\tconst KEY_SPACE = 32;\n\n\tfunction toggleValue(val) {\n\t\tif (typeof val === 'number') {\n\t\t\tif (val === 0) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t} else if (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn 'true';\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn 'on';\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn val.replace(/^(0*)0$/, '$11');\n\t\t\t} else if (val === 'true') {\n\t\t\t\treturn 'false';\n\t\t\t} else if (val === 'on') {\n\t\t\t\treturn 'off';\n\t\t\t} else if (val.match(/^0*1$/)) {\n\t\t\t\treturn val.replace(/^(0*)1$/, '$10');\n\t\t\t}\n\t\t}\n\t\treturn !val;\n\t}\n\n\tclass CheckEditor extends Editor {\n\t\tclone() {\n\t\t\treturn new CheckEditor(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\n\n\t\t\tconst action = cell => {\n\t\t\t\tconst key = `${cell.col}:${cell.row}`;\n\t\t\t\tconst blockKey = `${key}::block`;\n\t\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\t\t\t\tif (ret) {\n\n\t\t\t\t\tconst onChange = () => {\n\t\t\t\t\t\t// checkbox animation\n\t\t\t\t\t\tanimate(200, point => {\n\t\t\t\t\t\t\tif (point === 1) {\n\t\t\t\t\t\t\t\tdelete state[key];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate[key] = {\n\t\t\t\t\t\t\t\t\telapsed: point\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tif (isPromise(ret)) {\n\t\t\t\t\t\tstate[blockKey] = true;\n\t\t\t\t\t\tret.then(() => {\n\t\t\t\t\t\t\tdelete state[blockKey];\n\t\t\t\t\t\t\tonChange();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonChange();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn [...bindCellClickAction(grid, col, util, {\n\t\t\t\taction,\n\t\t\t\tmouseOver: e => {\n\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t};\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tmouseOut: e => {\n\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t}\n\t\t\t}), ...bindCellKeyAction(grid, col, util, {\n\t\t\t\taction: e => {\n\t\t\t\t\tconst selrange = grid.selection.range;\n\t\t\t\t\tconst { col } = grid.selection.select;\n\t\t\t\t\tfor (let { row } = selrange.start; row <= selrange.end.row; row++) {\n\t\t\t\t\t\tif (!util.isTarget(col, row)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction({\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE]\n\t\t\t})];\n\t\t}\n\t}\n\n\tmodule.exports = CheckEditor;\n}\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { obj: { setReadonly } } = __webpack_require__(0);\n\tconst Action = __webpack_require__(32);\n\tconst { BUTTON_COLUMN_STATE_ID } = __webpack_require__(1);\n\tclass ButtonAction extends Action {\n\t\tgetState(grid) {\n\t\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\treturn grid[BUTTON_COLUMN_STATE_ID];\n\t\t}\n\t}\n\n\tmodule.exports = ButtonAction;\n}\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\n\nconst SmallDialogInputElement = __webpack_require__(71);\nconst { SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new SmallDialogInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nconst BaseInputEditor = __webpack_require__(35);\nclass SmallDialogInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._helperText = option.helperText;\n\t\tthis._inputValidator = option.inputValidator;\n\t\tthis._validator = option.validator;\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tdispose() {\n\t\tthis._inputDialogManager.dispose();\n\t\tthis._inputDialogManager = null;\n\t}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tget helperText() {\n\t\treturn this._helperText;\n\t}\n\tget inputValidator() {\n\t\treturn this._inputValidator;\n\t}\n\tget validator() {\n\t\treturn this._validator;\n\t}\n\tclone() {\n\t\treturn new SmallDialogInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t// cancel input\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = SmallDialogInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t},\n\tthen\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(14);\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n\tconst focus = () => {\n\t\tinput.focus();\n\n\t\tconst end = input.value.length;\n\t\ttry {\n\t\t\tif (typeof input.selectionStart !== 'undefined') {\n\t\t\t\tinput.selectionStart = end;\n\t\t\t\tinput.selectionEnd = end;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t//ignore\n\t\t}\n\t\tif (document.selection) {\n\t\t\tconst range = input.createTextRange();\n\t\t\trange.collapse();\n\t\t\trange.moveEnd('character', end);\n\t\t\trange.moveStart('character', end);\n\t\t\trange.select();\n\t\t}\n\t};\n\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\tfocus();\n\t});\n}\n\nfunction createDialogElement() {\n\t__webpack_require__(72);\n\tconst element = createElement('div', { classList: [CLASSNAME, HIDDEN_CLASSNAME] });\n\tconst input = createElement('input', { classList: INPUT_CLASSNAME });\n\tinput.readonly = true;\n\tinput.tabIndex = -1;\n\telement.appendChild(input);\n\treturn element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n\tconst { classList, helperText } = editor;\n\tif (classList) {\n\t\tdialog.classList.add(...classList);\n\t}\n\tif (helperText && typeof helperText !== 'function') {\n\t\tdialog.dataset.helperText = helperText;\n\t}\n\tsetInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n\tconst { classList } = editor;\n\tif (classList) {\n\t\tdialog.classList.remove(...classList);\n\t}\n\tdelete dialog.dataset.helperText;\n\tinput.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst { type } = editor;\n\tinput.type = type || '';\n}\n\nclass SmallDialogInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._dialog = createDialogElement();\n\t\tthis._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n\t\tthis._bindDialogEvents();\n\t}\n\tdispose() {\n\t\tconst dialog = this._dialog;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._dialog = null;\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (dialog.parentElement) {\n\t\t\tdialog.parentElement.removeChild(dialog);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\n\t\t}\n\n\t\tdelete dialog.dataset.errorMessage;\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\tinput.readonly = false;\n\t\tinput.tabIndex = 0;\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\t\tdialog.style.top = `${rect.top.toFixed()}px`;\n\t\tdialog.style.left = `${rect.left.toFixed()}px`;\n\t\tdialog.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(dialog);\n\n\t\tinput.value = value;\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\t\tconst activeData = { grid, col, row, editor };\n\t\tthis._onInputValue(input, activeData);\n\t\t_focus(input, handler);\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\n\t\tinput.readonly = true;\n\n\t\tbindProps(grid, dialog, input, editor);\n\n\t\tthis._activeData = activeData;\n\t\tthis._beforePropEditor = editor;\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst dialog = this._dialog;\n\t\t\tconst input = this._input;\n\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\t\tinput.readonly = false;\n\t\t\tinput.tabIndex = -1;\n\n\t\t\tconst { grid, col, row } = this._activeData;\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t\tthis._beforeValue = null;\n\t}\n\t_doChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst { value } = input;\n\t\treturn then(this._validate(value), res => {\n\t\t\tif (res && value === input.value) {\n\t\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\t\tgrid.doChangeValue(col, row, () => value);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t}\n\t_isActive() {\n\t\tconst dialog = this._dialog;\n\t\tif (!dialog || !dialog.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindDialogEvents() {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', e => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', e => {\n\t\t\tinput.classList.remove('composition');\n\t\t\tthis._onInputValue(input);\n\t\t});\n\t\tconst onKeyupAndPress = e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._onInputValue(input);\n\t\t};\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\n\t\thandler.on(input, 'keydown', e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ENTER && !this._attaching) {\n\t\t\t\tconst input = this._input;\n\t\t\t\tconst { value } = input;\n\t\t\t\tthen(this._doChangeValue(), r => {\n\t\t\t\t\tif (r && value === input.value) {\n\t\t\t\t\t\tthis.detach(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcancelEvent(e);\n\t\t\t} else {\n\t\t\t\tthis._onInputValue(input);\n\t\t\t}\n\t\t});\n\t}\n\t_onInputValue(input, activeData) {\n\t\tconst before = this._beforeValue;\n\t\tconst { value } = input;\n\t\tif (before !== value) {\n\t\t\tthis._onInputValueChange(value, before, activeData);\n\t\t}\n\t\tthis._beforeValue = value;\n\t}\n\t_onInputValueChange(after, before, activeData) {\n\t\tactiveData = activeData || this._activeData;\n\t\tconst dialog = this._dialog;\n\t\tconst { grid, col, row, editor } = activeData;\n\t\tif (typeof editor.helperText === 'function') {\n\t\t\tconst helperText = editor.helperText(after, { grid, col, row });\n\t\t\tif (helperText) {\n\t\t\t\tdialog.dataset.helperText = helperText;\n\t\t\t} else {\n\t\t\t\tdelete dialog.dataset.helperText;\n\t\t\t}\n\t\t}\n\t\tif ('errorMessage' in dialog.dataset) {\n\t\t\tthis._validate(after, true);\n\t\t}\n\t}\n\t_validate(value, inputOnly) {\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst { grid, col, row, editor } = this._activeData;\n\t\tlet message = null;\n\t\tif (editor.inputValidator) {\n\t\t\tmessage = editor.inputValidator(value, { grid, col, row });\n\t\t}\n\t\treturn then(message, message => {\n\t\t\tif (!message && editor.validator && !inputOnly) {\n\t\t\t\tmessage = editor.validator(value, { grid, col, row });\n\t\t\t}\n\t\t\treturn then(message, message => {\n\t\t\t\tif (message && value === input.value) {\n\t\t\t\t\tdialog.dataset.errorMessage = message;\n\t\t\t\t} else {\n\t\t\t\t\tdelete dialog.dataset.errorMessage;\n\t\t\t\t}\n\t\t\t\treturn !message;\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = SmallDialogInputElement;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(73);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;transition:padding .15s ease-out,box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{box-shadow:none;padding:0;pointer-events:none;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\nconst BaseInputEditor = __webpack_require__(35);\nconst InlineInputElement = __webpack_require__(75);\nconst { INLINE_INPUT_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nfunction doChangeValue(grid) {\n\tif (globalElement) {\n\t\tglobalElement.doChangeValue();\n\t}\n}\n\nclass InlineInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tclone() {\n\t\treturn new InlineInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = InlineInputEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t}\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement\n} = __webpack_require__(14);\nconst KEY_ENTER = 13;\n\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n\t__webpack_require__(76);\n\treturn createElement('input', { classList: CLASSNAME });\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst { classList, type } = editor;\n\tif (classList) {\n\t\tinput.classList.add(...classList);\n\t}\n\tinput.type = type || '';\n}\n\nclass InlineInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._input = createInputElement();\n\t\tthis._bindInputEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst input = this._input;\n\t\tconst handler = this._handler;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst { classList } = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tinput.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\n\t\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\t\tinput.style.top = `${rect.top.toFixed()}px`;\n\t\tinput.style.left = `${rect.left.toFixed()}px`;\n\t\tinput.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(input);\n\n\t\tsetInputAttrs(editor, grid, input);\n\t\tinput.value = value;\n\n\t\tthis._activeData = { grid, col, row, editor };\n\t\tthis._beforePropEditor = editor;\n\n\t\tconst focus = () => {\n\t\t\tinput.focus();\n\n\t\t\tconst end = input.value.length;\n\t\t\ttry {\n\t\t\t\tif (typeof input.selectionStart !== 'undefined') {\n\t\t\t\t\tinput.selectionStart = end;\n\t\t\t\t\tinput.selectionEnd = end;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t//ignore\n\t\t\t}\n\t\t\tif (document.selection) {\n\t\t\t\tconst range = input.createTextRange();\n\t\t\t\trange.collapse();\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', end);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t};\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\t\tfocus();\n\t\t});\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\tconst input = this._input;\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\n\t\t\t\tinput.parentElement.removeChild(input);\n\t\t\t});\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\tdoChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst { value } = input;\n\t\tconst { grid, col, row } = this._activeData;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst input = this._input;\n\t\tif (!input || !input.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindInputEvents() {\n\t\tconst handler = this._handler;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\t\thandler.on(input, 'click', stopPropagationOnly);\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', e => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', e => {\n\t\t\tinput.classList.remove('composition');\n\t\t});\n\t\thandler.on(input, 'keydown', e => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\n\t\t\t\tif (!this._isActive() || this._attaching) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst { grid } = this._activeData;\n\n\t\t\t\tthis.doChangeValue();\n\t\t\t\tif (grid) {\n\t\t\t\t\tgrid.focus();\n\t\t\t\t}\n\t\t\t\tthis.detach();\n\t\t\t\tcancelEvent(e);\n\t\t\t}\n\t\t});\n\t\thandler.on(input, 'blur', e => {\n\t\t\tthis.doChangeValue();\n\t\t\tthis.detach();\n\t\t});\n\t}\n}\n\nmodule.exports = InlineInputElement;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(77);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;box-sizing:border-box}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { obj: { setReadonly } } = __webpack_require__(0);\nconst { normalize } = __webpack_require__(36);\n\nconst Editor = __webpack_require__(13);\nconst { EVENT_TYPE: {\n\t\tSELECTED_CELL,\n\t\tCLICK_CELL,\n\t\tKEYDOWN,\n\t\tSCROLL,\n\t\tMOUSEOVER_CELL,\n\t\tMOUSEOUT_CELL,\n\t\tMOUSEMOVE_CELL\n\t} } = __webpack_require__(4);\nconst InlineMenuElement = __webpack_require__(79);\nconst { INLINE_MENU_EDITOR_STATE_ID: _ } = __webpack_require__(1);\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineMenuElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachMenu(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._options = normalize(option.options);\n\t}\n\tdispose() {}\n\tget classList() {\n\t\treturn this._classList && (__webpack_provided_Array_dot_isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\tset options(options) {\n\t\tthis._options = normalize(options);\n\t}\n\tclone() {\n\t\treturn new InlineMenuEditor(this);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = cell => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, value => {\n\t\t\t\tattachMenu(grid, cell, this, value);\n\t\t\t});\n\t\t};\n\n\t\treturn [grid.listen(CLICK_CELL, cell => {\n\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topen({\n\t\t\t\tcol: cell.col,\n\t\t\t\trow: cell.row\n\t\t\t});\n\t\t}), grid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\topen({\n\t\t\t\tcol: sel.col,\n\t\t\t\trow: sel.row\n\t\t\t});\n\t\t}), grid.listen(SELECTED_CELL, e => {\n\t\t\tdetachMenu();\n\t\t}), grid.listen(SCROLL, () => {\n\t\t\tdetachMenu(true);\n\t\t}),\n\n\t\t// mouse move\n\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t}), grid.listen(MOUSEMOVE_CELL, e => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}\n\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.getElement().style.cursor = '';\n\t\t})];\n\t}\n}\n\nmodule.exports = InlineMenuEditor;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst {\n\tisDef,\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent\n\t}\n} = __webpack_require__(0);\n\nconst EventHandler = __webpack_require__(5);\nconst {\n\tcreateElement,\n\tappendHtml,\n\tempty,\n\tdisableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable\n} = __webpack_require__(14);\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\n\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\n\nfunction findItemParents(target) {\n\tlet el = target;\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\n\t\tel = el.parentElement;\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn el;\n}\n\nfunction createMenuElement() {\n\t__webpack_require__(80);\n\treturn createElement('ul', { classList: CLASSNAME });\n}\nfunction attachElement(element, rect, menu) {\n\tmenu.style.top = `${rect.top.toFixed()}px`;\n\tmenu.style.left = `${rect.left.toFixed()}px`;\n\tmenu.style.width = `${rect.width.toFixed()}px`;\n\tmenu.style['line-height'] = `${rect.height.toFixed()}px`;\n\telement.appendChild(menu);\n}\n\nfunction optionToLi({ classList, caption, value, html }, index) {\n\tconst item = createElement('li', { classList: ITEM_CLASSNAME });\n\titem.tabIndex = 0;\n\titem.dataset.valueindex = index;\n\tif (classList) {\n\t\titem.classList.add(...(__webpack_provided_Array_dot_isArray(classList) ? classList : [classList]));\n\t}\n\n\tif (caption) {\n\t\tconst span = createElement('span', { text: caption });\n\t\titem.appendChild(span);\n\t} else if (html) {\n\t\tappendHtml(item, html);\n\t}\n\n\tif (value === '' || !isDef(value)) {\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\n\t}\n\n\treturn item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n\tconst { options, classList } = editor;\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tempty(menu);\n\tmenu.style.font = grid.font || '16px sans-serif';\n\tlet emptyItemEl = null;\n\tlet valueItemEl = null;\n\n\toptions.forEach((option, i) => {\n\t\tconst item = optionToLi(option, i);\n\t\tmenu.appendChild(item);\n\t\tif (option.value === value) {\n\t\t\tvalueItemEl = item;\n\t\t\titem.dataset.select = true;\n\t\t}\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n\t\t\temptyItemEl = item;\n\t\t}\n\t});\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\tif (classList) {\n\t\tmenu.classList.add(...classList);\n\t}\n\tconst children = Array.prototype.slice.call(menu.children, 0);\n\tconst focusIndex = children.indexOf(focusEl);\n\tconst { element, rect } = grid.getAttachCellArea(col, row);\n\n\t// Cover the right line\n\trect.width++;\n\n\t// append for calculation\n\tattachElement(element, rect, menu);\n\n\t// Make the selection item at the middle\n\tlet offset = 0;\n\tlet allHeight = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst { offsetHeight } = children[i];\n\t\tif (i < focusIndex) {\n\t\t\toffset += offsetHeight;\n\t\t}\n\t\tallHeight += offsetHeight;\n\t}\n\trect.offsetTop(-offset);\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n\tattachElement(element, rect, menu);\n\n\t// Control not to overflow the screen range\n\tconst menuClientRect = menu.getBoundingClientRect();\n\tconst scaleDiff = (allHeight - menuClientRect.height) / 2;\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\n\tlet menuTop = orgMenuTop;\n\tconst menuBottom = menuTop + allHeight;\n\tconst winBottom = window.innerHeight;\n\tconst winMargin = 20;\n\tif (menuBottom > winBottom - winMargin) {\n\t\tconst diff = menuBottom - winBottom + winMargin;\n\t\tmenuTop -= diff;\n\t}\n\tif (menuTop < 0 /*winTop*/ + winMargin) {\n\t\tmenuTop = winMargin;\n\t}\n\tif (menuTop !== orgMenuTop) {\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\n\t\t// re update\n\t\tattachElement(element, rect, menu);\n\t}\n\n\tif (focusEl) {\n\t\tfocusEl.focus();\n\t}\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\n\tmenu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu) {\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tdisableFocus(menu);\n}\n\nclass InlineMenuElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._menu = createMenuElement();\n\t\tthis._bindMenuEvents();\n\t}\n\tdispose() {\n\t\tconst menu = this._menu;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._menu = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (menu.parentElement) {\n\t\t\tmenu.parentElement.removeChild(menu);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst menu = this._menu;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst { classList } = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tmenu.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\topenMenu(grid, editor, col, row, value, menu);\n\t\tthis._activeData = { grid, col, row, editor };\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst { grid, col, row } = this._activeData;\n\t\t\tconst menu = this._menu;\n\t\t\tcloseMenu(grid, col, row, menu);\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\t_doChangeValue(valueindex) {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst { grid, col, row, editor } = this._activeData;\n\t\tconst { value } = editor.options[valueindex];\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst menu = this._menu;\n\t\tif (!menu || !menu.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindMenuEvents() {\n\t\tconst handler = this._handler;\n\t\tconst menu = this._menu;\n\n\t\tconst stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(menu, 'click', e => {\n\t\t\te.stopPropagation();\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { valueindex } = item.dataset;\n\t\t\tthis._doChangeValue(valueindex);\n\t\t\tthis.detach(true);\n\t\t});\n\t\thandler.on(menu, 'keydown', e => {\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ENTER) {\n\t\t\t\tconst { valueindex } = item.dataset;\n\t\t\t\tthis._doChangeValue(valueindex);\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_UP) {\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\t\tconst n = findNextSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_TAB) {\n\t\t\t\tif (!e.shiftKey) {\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\n\t\t\t\t\t\tlet n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\n\t\t\t\t\t\tconst items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tlet n = items[items.length - 1];\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineMenuElement;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(81);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{transform:scale(.9);box-shadow:none;opacity:0;pointer-events:none;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{transform:translateY(-7px);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(10);\n\tconst NumberColumn = __webpack_require__(83);\n\tconst CheckColumn = __webpack_require__(84);\n\tconst ButtonColumn = __webpack_require__(85);\n\tconst ImageColumn = __webpack_require__(86);\n\tconst PercentCompleteBarColumn = __webpack_require__(88);\n\tconst IconColumn = __webpack_require__(89);\n\tconst BranchGraphColumn = __webpack_require__(90);\n\tconst MenuColumn = __webpack_require__(92);\n\tconst MultilineTextColumn = __webpack_require__(93);\n\n\t/**\n  * column types\n  * @type {Object}\n  * @namespace cheetahGrid.columns.type\n  * @memberof cheetahGrid.columns\n  */\n\tconst type = {\n\t\tTYPES: {\n\t\t\tDEFAULT: new Column(),\n\t\t\tNUMBER: new NumberColumn(),\n\t\t\tCHECK: new CheckColumn(),\n\t\t\tBUTTON: new ButtonColumn(),\n\t\t\tIMAGE: new ImageColumn(),\n\t\t\tMULTILINETEXT: new MultilineTextColumn()\n\t\t},\n\t\tget Column() {\n\t\t\treturn Column;\n\t\t},\n\t\tget NumberColumn() {\n\t\t\treturn NumberColumn;\n\t\t},\n\t\tget CheckColumn() {\n\t\t\treturn CheckColumn;\n\t\t},\n\t\tget ButtonColumn() {\n\t\t\treturn ButtonColumn;\n\t\t},\n\t\tget ImageColumn() {\n\t\t\treturn ImageColumn;\n\t\t},\n\t\tget PercentCompleteBarColumn() {\n\t\t\treturn PercentCompleteBarColumn;\n\t\t},\n\t\tget IconColumn() {\n\t\t\treturn IconColumn;\n\t\t},\n\t\tget BranchGraphColumn() {\n\t\t\treturn BranchGraphColumn;\n\t\t},\n\t\tget MenuColumn() {\n\t\t\treturn MenuColumn;\n\t\t},\n\t\tget MultilineTextColumn() {\n\t\t\treturn MultilineTextColumn;\n\t\t},\n\t\tof(columnType) {\n\t\t\tif (!columnType) {\n\t\t\t\treturn type.TYPES.DEFAULT;\n\t\t\t} else if (typeof columnType === 'string') {\n\t\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnType;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = type;\n}\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(10);\n\tconst NumberStyle = __webpack_require__(38);\n\tlet defaultFotmat;\n\tclass NumberColumn extends Column {\n\t\tstatic get defaultFotmat() {\n\t\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n\t\t}\n\t\tstatic set defaultFotmat(fmt) {\n\t\t\tdefaultFotmat = fmt;\n\t\t}\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._format = option.format;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn NumberStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberColumn(this);\n\t\t}\n\t\tget format() {\n\t\t\treturn this._format;\n\t\t}\n\t\twithFormat(format) {\n\t\t\tconst c = this.clone();\n\t\t\tc._format = format;\n\t\t\treturn c;\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\tif (isNaN(value - 0)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tconst format = this._format || NumberColumn.defaultFotmat;\n\t\t\treturn format.format(value - 0);\n\t\t}\n\t}\n\n\tmodule.exports = NumberColumn;\n}\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseColumn = __webpack_require__(9);\n\tconst CheckStyle = __webpack_require__(39);\n\tconst { CHECK_COLUMN_STATE_ID } = __webpack_require__(1);\n\n\tfunction toBoolean(val) {\n\t\tif (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn false;\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn false;\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn val;\n\t}\n\n\tclass CheckColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn CheckStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn toBoolean(value);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor,\n\t\t\t\tbgColor\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst { col, row } = context;\n\t\t\tconst key = `${col}:${row}`;\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\n\n\t\t\tconst opt = {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor\n\t\t\t};\n\t\t\tif (state) {\n\t\t\t\topt.animElapsedTime = state.elapsed;\n\t\t\t}\n\t\t\thelper.checkbox(value, context, opt);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tmodule.exports = CheckColumn;\n}\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Column = __webpack_require__(10);\n\tconst ButtonStyle = __webpack_require__(40);\n\tconst { BUTTON_COLUMN_STATE_ID } = __webpack_require__(1);\n\tconst utils = __webpack_require__(15);\n\n\tclass ButtonColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._caption = option.caption;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn ButtonStyle;\n\t\t}\n\t\tget caption() {\n\t\t\treturn this._caption;\n\t\t}\n\t\twithCaption(caption) {\n\t\t\tconst c = this.clone();\n\t\t\tc._caption = caption;\n\t\t\treturn c;\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn this._caption || value;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding } = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tconst { col, row } = context;\n\t\t\tlet active = false;\n\t\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\n\t\t\tif (state) {\n\t\t\t\tif (state.mouseActiveCell && state.mouseActiveCell.col === col && state.mouseActiveCell.row === row) {\n\t\t\t\t\tactive = true;\n\t\t\t\t} else if (context.getSelectState().selected) {\n\t\t\t\t\tactive = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.button(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tbgColor: buttonBgColor,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\tpadding,\n\t\t\t\t\tshadow: active ? {\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\n\t\t\t\t\t\tblur: 6,\n\t\t\t\t\t\toffsetY: 3\n\t\t\t\t\t} : true,\n\t\t\t\t\ticons\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tmodule.exports = ButtonColumn;\n}\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst ImageStyle = __webpack_require__(41);\n\tconst { getCacheOrLoad } = __webpack_require__(44);\n\tconst { calcStartPosition } = __webpack_require__(8);\n\tconst BaseColumn = __webpack_require__(9);\n\n\tconst MAX_LRU_CACHE_SIZE = 50;\n\tfunction getImage(url) {\n\t\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n\t}\n\n\tfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n\t\tlet newWidth = width;\n\t\tlet newHeight = height;\n\t\tif (newWidth > maxWidth) {\n\t\t\tnewWidth = maxWidth;\n\t\t\tnewHeight = newWidth * height / width;\n\t\t}\n\t\tif (newHeight > maxHeight) {\n\t\t\tnewHeight = maxHeight;\n\t\t\tnewWidth = newHeight * width / height;\n\t\t}\n\t\treturn {\n\t\t\twidth: newWidth,\n\t\t\theight: newHeight\n\t\t};\n\t}\n\n\tclass ImageColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn ImageStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tif (value) {\n\t\t\t\tconst {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tmargin,\n\t\t\t\t\tbgColor\n\t\t\t\t} = style;\n\t\t\t\tif (bgColor) {\n\t\t\t\t\tdrawCellBase({\n\t\t\t\t\t\tbgColor\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\thelper.drawWithClip(context, ctx => {\n\n\t\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\n\t\t\t\t\t\tconst { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n\t\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\n\t\t\t\t\t\t\toffset: margin\n\t\t\t\t\t\t});\n\t\t\t\t\t\tctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tmodule.exports = ImageColumn;\n}\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass LRUCache {\n\tconstructor(cacheSize) {\n\t\tthis._list = [];\n\t\tthis._map = {};\n\t\tthis._cacheSize = cacheSize || 50;\n\t}\n\tget(key) {\n\t\tconst val = this._map[key];\n\t\tif (val) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t\tthis._list.push(key);\n\t\t}\n\t\treturn val;\n\t}\n\tput(key, value) {\n\t\tif (this._map[key]) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t}\n\t\tthis._map[key] = value;\n\t\tthis._list.push(key);\n\t\tif (this._list.length > this._cacheSize) {\n\t\t\tconst remKey = this._list.shift();\n\t\t\tdelete this._map[remKey];\n\t\t}\n\t}\n}\nmodule.exports = LRUCache;\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst PercentCompleteBarStyle = __webpack_require__(43);\n\tconst { getOrApply, str } = __webpack_require__(0);\n\tconst Column = __webpack_require__(10);\n\n\tconst MARGIN = 2;\n\n\tclass PercentCompleteBarColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._min = option.min || 0;\n\t\t\tthis._max = option.max || this._min + 100;\n\t\t\tthis._formatter = option.formatter || (v => v);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\n\t\t\tconst {\n\t\t\t\tbarColor,\n\t\t\t\tbarBgColor,\n\t\t\t\tbarHeight\n\t\t\t} = style;\n\n\t\t\tlet svalue = `${value}`;\n\t\t\tif (str.endsWith(svalue, '%')) {\n\t\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\n\t\t\t}\n\t\t\tconst num = svalue - 0;\n\t\t\tconst rate = num < this._min ? 0 : num > this._max ? 1 : (num - this._min) / (this._max - this._min);\n\n\t\t\thelper.drawWithClip(context, ctx => {\n\t\t\t\tconst rect = context.getRect();\n\n\t\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1 /**/;\n\t\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1 /**/;\n\t\t\t\tconst barLeft = rect.left + MARGIN;\n\t\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n\t\t\t\tctx.fill();\n\n\t\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n\t\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarColumn;\n}\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst IconStyle = __webpack_require__(42);\n\tconst Column = __webpack_require__(10);\n\tconst icons = __webpack_require__(22);\n\n\tfunction repeatArray(val, count) {\n\t\tif (count === Infinity) {\n\t\t\tcount = 0;\n\t\t}\n\t\tconst a = [];\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\ta.push(val);\n\t\t}\n\t\treturn a;\n\t}\n\n\tclass IconColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._tagName = option.tagName || 'i';\n\t\t\tthis._className = option.className;\n\t\t\tthis._content = option.content;\n\t\t\tthis._name = option.name;\n\t\t\tthis._iconWidth = option.iconWidth;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn IconStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tconst num = value - 0;\n\t\t\tif (!isNaN(num)) {\n\t\t\t\tconst icon = {};\n\t\t\t\ticons.iconPropKeys.forEach(k => {\n\t\t\t\t\ticon[k] = style[k];\n\t\t\t\t});\n\t\t\t\ticon.className = this._className;\n\t\t\t\ticon.tagName = this._tagName;\n\t\t\t\ticon.content = this._content;\n\t\t\t\ticon.name = this._name;\n\t\t\t\tif (this._iconWidth) {\n\t\t\t\t\ticon.width = this._iconWidth;\n\t\t\t\t}\n\n\t\t\t\tinfo.getIcon = () => repeatArray(icon, num);\n\t\t\t} else {\n\t\t\t\tinfo.getIcon = () => null;\n\t\t\t}\n\t\t\tsuper.drawInternal('', context, style, helper, grid, info);\n\t\t}\n\t}\n\tmodule.exports = IconColumn;\n}\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst { isDef, getOrApply, isPromise, obj: { isObject } } = __webpack_require__(0);\nconst BranchGraphStyle = __webpack_require__(91);\nconst BaseColumn = __webpack_require__(9);\nconst { BRANCH_GRAPH_COLUMN_STATE_ID: _ } = __webpack_require__(1);\n\nfunction getAllColumnData(grid, col, callback) {\n\tconst { dataSource } = grid;\n\tlet field = grid.getField(col);\n\tif (isObject(field) && field.get && field.set) {\n\t\tfield = field.get;\n\t}\n\tconst allData = [];\n\tlet promise;\n\tfor (let index = 0; index < dataSource.length; index++) {\n\t\tconst data = dataSource.getField(index, field);\n\t\tif (isPromise(data)) {\n\t\t\tconst dataIndex = allData.length;\n\t\t\tallData.push(data);\n\t\t\tif (!promise) {\n\t\t\t\tpromise = data.then(d => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = promise.then(() => data).then(d => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tallData.push(data);\n\t\t}\n\t}\n\n\tif (promise) {\n\t\tpromise.then(() => callback(allData));\n\t} else {\n\t\tcallback(allData);\n\t}\n}\n\nclass BranchLine {\n\tconstructor({ fromIndex, toIndex, colorIndex, point }) {\n\t\tthis.fromIndex = fromIndex;\n\t\tthis.toIndex = toIndex;\n\t\tthis.colorIndex = colorIndex;\n\t\tthis.point = point;\n\t}\n}\nclass BranchPoint {\n\tconstructor({ index, commit = false, lines = [], tag }) {\n\t\tthis.index = index;\n\t\tthis.commit = commit;\n\t\tthis.lines = lines;\n\t\tthis.tag = tag;\n\t}\n\tstatic mergeLines(lines) {\n\t\tconst result = lines.filter(l => isDef(l.fromIndex) && isDef(l.toIndex));\n\n\t\tconst froms = lines.filter(l => isDef(l.fromIndex) && !isDef(l.toIndex));\n\t\tconst tos = lines.filter(l => !isDef(l.fromIndex) && isDef(l.toIndex));\n\n\t\tfroms.forEach(f => {\n\t\t\tfor (let i = 0; i < tos.length; i++) {\n\t\t\t\tconst t = tos[i];\n\t\t\t\tif (t.point) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\n\t\t\t\t\tf.toIndex = t.toIndex;\n\t\t\t\t\ttos.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(f);\n\t\t});\n\n\t\treturn result.concat(tos);\n\t}\n\tstatic merge(a, b) {\n\t\tif (!a) {\n\t\t\treturn b;\n\t\t}\n\t\treturn new BranchPoint({\n\t\t\tindex: a.index,\n\t\t\tcommit: a.commit || b.commit,\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n\t\t\ttag: a.tag || b.tag\n\t\t});\n\t}\n}\n\nfunction joinLine(timeline, branchIndex) {\n\tconst reverse = [...timeline].reverse();\n\tfor (let i = 0; i < reverse.length; i++) {\n\t\tconst f = reverse[i][branchIndex];\n\t\tif (f) {\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n\t\t\t\ttoIndex: branchIndex,\n\t\t\t\tcolorIndex: branchIndex\n\t\t\t})]));\n\n\t\t\tfor (let j = 0; j < i; j++) {\n\t\t\t\tconst tl = reverse[j];\n\t\t\t\ttl[branchIndex] = new BranchPoint({\n\t\t\t\t\tindex: branchIndex,\n\t\t\t\t\tlines: [new BranchLine({\n\t\t\t\t\t\tfromIndex: branchIndex,\n\t\t\t\t\t\ttoIndex: branchIndex,\n\t\t\t\t\t\tcolorIndex: branchIndex\n\t\t\t\t\t})]\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction branch({ timeline, branches }, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tlet toIndex = branches.indexOf(to);\n\tif (toIndex < 0) {\n\t\ttoIndex = branches.length;\n\t\tbranches.push(to);\n\t}\n\n\tfunction findBranchRootIndex() {\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\n\t\t\tconst tl = timeline[index];\n\t\t\tconst from = tl[fromIndex];\n\t\t\tif (from && from.commit) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tif (fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex\n\t\t});\n\t} else {\n\t\tconst fromTargetIndex = findBranchRootIndex();\n\t\tif (fromTargetIndex === -1) {\n\t\t\treturn null;\n\t\t}\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\n\t\tconst branchPoint = new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})]\n\t\t});\n\t\tlet point;\n\t\tlet result;\n\t\tif (branchTargetFromIndex < timeline.length) {\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n\t\t} else {\n\t\t\tpoint = branchPoint;\n\t\t\tresult = branchPoint;\n\t\t}\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n\t\t\ttoIndex,\n\t\t\tcolorIndex: toIndex,\n\t\t\tpoint\n\t\t})]));\n\t\treturn result;\n\t}\n}\n\nfunction commit({ timeline, branches }, name) {\n\tconst index = branches.indexOf(name);\n\tif (index < 0) {\n\t\treturn null;\n\t}\n\tconst result = new BranchPoint({\n\t\tindex,\n\t\tcommit: true\n\t});\n\n\tif (joinLine(timeline, index)) {\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n\t\t\tfromIndex: index,\n\t\t\tcolorIndex: index\n\t\t})]));\n\t}\n\treturn result;\n}\n\nfunction commitTag({ timeline, branches }, name, tag) {\n\tlet index = branches.indexOf(name);\n\tif (index < 0) {\n\t\tindex = branches.length;\n\t\tbranches.push(name);\n\t}\n\treturn new BranchPoint({\n\t\tindex,\n\t\ttag\n\t});\n}\n\nfunction commitMerge({ timeline, branches }, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tconst toIndex = branches.indexOf(to);\n\tif (toIndex < 0 || fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tcommit: true\n\t\t});\n\t}\n\tconst result = new BranchPoint({\n\t\tindex: toIndex,\n\t\tcommit: true,\n\t\tlines: [new BranchLine({\n\t\t\tfromIndex,\n\t\t\tcolorIndex: fromIndex\n\t\t}), new BranchLine({\n\t\t\tfromIndex: toIndex,\n\t\t\tcolorIndex: toIndex\n\t\t})]\n\t});\n\tconst froms = [...timeline];\n\tconst fromTargetLine = froms.pop();\n\tif (fromTargetLine) {\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\ttoIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t})]\n\t\t}));\n\t}\n\n\tif (joinLine(froms, fromIndex) && fromTargetLine) {\n\t\tfromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([new BranchLine({\n\t\t\tfromIndex,\n\t\t\tcolorIndex: fromIndex\n\t\t})]));\n\t}\n\tjoinLine(timeline, toIndex);\n\n\treturn result;\n}\n\nfunction calcCommand(info, command) {\n\tconst { timeline } = info;\n\tconst timelineData = [];\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\tconst commands = __webpack_provided_Array_dot_isArray(command) ? command : [command];\n\tcommands.forEach(cmd => {\n\t\tif (!cmd) {\n\t\t\treturn;\n\t\t}\n\t\tlet point;\n\t\tif (cmd.command === 'branch') {\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n\t\t\tpoint = branch(info, from, to);\n\t\t} else if (cmd.command === 'commit') {\n\t\t\tconst { branch } = cmd;\n\t\t\tpoint = commit(info, branch);\n\t\t} else if (cmd.command === 'merge') {\n\t\t\tconst { from, to } = cmd.branch;\n\t\t\tpoint = commitMerge(info, from, to);\n\t\t} else if (cmd.command === 'tag') {\n\t\t\tconst { branch, tag } = cmd;\n\t\t\tpoint = commitTag(info, branch, tag);\n\t\t}\n\t\tif (point && point.index > -1) {\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n\t\t}\n\t});\n\ttimeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n\tconst result = {\n\t\tbranches: [],\n\t\ttimeline: []\n\t};\n\tgetAllColumnData(grid, col, data => {\n\t\tif (start !== 'top') {\n\t\t\tdata = [...data].reverse();\n\t\t}\n\t\tdata.forEach(command => {\n\t\t\tcalcCommand(result, command);\n\t\t});\n\t});\n\treturn result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n\tlet w = Math.max(width / branches.length + 1, 5);\n\ttimeline.forEach(tl => {\n\t\ttl.forEach((p, index) => {\n\t\t\tif (index <= 0) {\n\t\t\t\t// \n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (p.tag) {\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\n\t\t\t\tif (w * index + radius * 2 + 4 + textWidth > width) {\n\t\t\t\t\tw = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\tconst result = [];\n\tlet x = left;\n\tbranches.forEach(() => {\n\t\tresult.push(Math.ceil(x + radius));\n\t\tx += w;\n\t});\n\treturn result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\n}, {\n\twidth, col, row, branches\n}) {\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n\t\tctx.lineWidth = branchLineWidth;\n\t\tctx.lineCap = 'round';\n\t\tctx.beginPath();\n\n\t\tif (isDef(upLineIndex)) {\n\t\t\tconst upX = branchXPoints[upLineIndex];\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\n\t\t\tconst upY = upRect.top + upRect.height / 2;\n\t\t\tctx.moveTo(upX, upY);\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t} else {\n\t\t\tctx.moveTo(x, y);\n\t\t}\n\n\t\tif (isDef(downLineIndex)) {\n\t\t\tconst downX = branchXPoints[downLineIndex];\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\n\t\t\tconst downY = downRect.top + downRect.height / 2;\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(downX, downY);\n\t\t\t}\n\t\t}\n\n\t\tctx.stroke();\n\t}\n}\n\n/**\n * BranchGraphColumn<br>\n * <br>\n * # Data command<br>\n * ## mastar branch or orphan branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * </code></pre>\n * ## commit<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * </code></pre>\n * ## branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * </code></pre>\n * ## merge<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * </code></pre>\n * ## tag<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * </code></pre>\n *\n *\n * @memberof cheetahGrid.columns.type\n */\nclass BranchGraphColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._start = option.start || 'bottom';\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\n\t}\n\tget StyleClass() {\n\t\treturn BranchGraphStyle;\n\t}\n\tclearCache(grid) {\n\t\tdelete grid[_];\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tif (this._cache) {\n\t\t\tconst state = grid[_] || (grid[_] = {});\n\t\t\tconst { col } = context;\n\t\t\tif (!state[col]) {\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\n\t\t\t}\n\t\t}\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\n\t}\n\tclone() {\n\t\treturn new BranchGraphColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\tconst { col, row } = context;\n\t\tconst { timeline, branches } = this._cache && grid[_] ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n\n\t\tconst { upLineIndexKey, downLineIndexKey } = this._start !== 'top' ? { upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex' } : { upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex' };\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n\n\t\tconst {\n\t\t\tbranchColors,\n\t\t\tbranchLineWidth,\n\t\t\tcircleSize,\n\t\t\tmergeStyle,\n\t\t\tmargin,\n\t\t\tbgColor\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor\n\t\t\t});\n\t\t}\n\n\t\tconst rect = context.getRect();\n\t\tconst radius = circleSize / 2;\n\t\tconst width = rect.width - margin * 2;\n\n\t\thelper.drawWithClip(context, ctx => {\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'middle';\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n\n\t\t\tconst y = rect.top + rect.height / 2;\n\n\t\t\t// draw join lines\n\t\t\tdata.map((point, index) => point ? point.lines.map(line => ({\n\t\t\t\tcolorIndex: line.colorIndex,\n\t\t\t\tupLineIndex: line[upLineIndexKey],\n\t\t\t\tdownLineIndex: line[downLineIndexKey],\n\t\t\t\tpointIndex: index\n\t\t\t})) : []).reduce((p, c) => p.concat(c), []). // flatMap\n\t\t\t// order of overlap\n\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).forEach(line => {\n\t\t\t\tconst x = branchXPoints[line.pointIndex];\n\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n\t\t\t\t\tmargin,\n\t\t\t\t\tbranchXPoints,\n\t\t\t\t\tbranchLineWidth,\n\t\t\t\t\tbranchColors,\n\t\t\t\t\tmergeStyle\n\t\t\t\t}, {\n\t\t\t\t\twidth, col, row, branches\n\t\t\t\t});\n\t\t\t});\n\t\t\t// draw commit points\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.commit) {\n\t\t\t\t\tconst x = branchXPoints[index];\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tctx.closePath();\n\t\t\t\t}\n\t\t\t});\n\t\t\t// draw tags\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.tag) {\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = BranchGraphColumn;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseStyle = __webpack_require__(21);\nlet defaultStyle;\nfunction adj(style) {\n\tconst { textAlign = 'center' } = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n\tswitch (index % 3) {\n\t\tcase 0:\n\t\t\treturn '#979797';\n\t\tcase 1:\n\t\t\treturn '#008fb5';\n\t\tcase 2:\n\t\t\treturn '#f1c109';\n\t\tdefault:\n\t}\n\treturn '#979797';\n};\nclass BranchGraphStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : defaultStyle = new BranchGraphStyle();\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n\t\tthis._margin = style.margin || 4;\n\t\tthis._circleSize = style.circleSize || 16;\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n\t}\n\tget branchColors() {\n\t\treturn this._branchColors;\n\t}\n\tset branchColors(branchColors) {\n\t\tthis._branchColors = branchColors;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tget circleSize() {\n\t\treturn this._circleSize;\n\t}\n\tset circleSize(circleSize) {\n\t\tthis._circleSize = circleSize;\n\t\tthis.doChangeStyle();\n\t}\n\tget branchLineWidth() {\n\t\treturn this._branchLineWidth;\n\t}\n\tset branchLineWidth(branchLineWidth) {\n\t\tthis._branchLineWidth = branchLineWidth;\n\t\tthis.doChangeStyle();\n\t}\n\tget mergeStyle() {\n\t\treturn this._mergeStyle;\n\t}\n\tset mergeStyle(mergeStyle) {\n\t\tthis._mergeStyle = mergeStyle;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new BranchGraphStyle(this);\n\t}\n}\nmodule.exports = BranchGraphStyle;\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { normalize } = __webpack_require__(36);\n\tconst { isDef } = __webpack_require__(0);\n\tconst BaseColumn = __webpack_require__(9);\n\tconst Style = __webpack_require__(3);\n\tconst utils = __webpack_require__(15);\n\n\tclass MenuColumn extends BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._options = normalize(option.options);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new MenuColumn(this);\n\t\t}\n\t\tget options() {\n\t\t\treturn this._options;\n\t\t}\n\t\twithOptions(options) {\n\t\t\tconst c = this.clone();\n\t\t\tc._options = normalize(options);\n\t\t\treturn c;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding\n\t\t\t} = style;\n\t\t\tlet {\n\t\t\t\tcolor\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst text = this._convertInternal(value);\n\t\t\thelper.testFontLoad(font, text, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n\t\t\t\tconst textPadding = basePadding.slice(0);\n\t\t\t\ttextPadding[1] += 26; // icon padding\n\t\t\t\tconst iconPadding = basePadding.slice(0);\n\t\t\t\ticonPadding[1] += 8;\n\t\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\n\t\t\t\t}\n\t\t\t\thelper.text(text, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding: textPadding\n\t\t\t\t});\n\t\t\t\t// draw icon\n\t\t\t\thelper.text('', context, {\n\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons: [{\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\n\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)'\n\t\t\t\t\t}],\n\t\t\t\t\tpadding: iconPadding\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn value;\n\t\t}\n\t\t_convertInternal(value) {\n\t\t\tconst options = this._options;\n\t\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\t\tconst option = options[i];\n\t\t\t\tif (option.value === value) {\n\t\t\t\t\tvalue = option.caption;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn super.convertInternal(value);\n\t\t}\n\t}\n\n\tmodule.exports = MenuColumn;\n}\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst MultilineTextStyle = __webpack_require__(94);\n\tconst BaseColumn = __webpack_require__(9);\n\tconst utils = __webpack_require__(15);\n\tclass MultilineTextColumn extends BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn MultilineTextStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new MultilineTextColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding,\n\t\t\t\tlineHeight\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.multilineText(multilines, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding,\n\t\t\t\t\tlineHeight\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tmodule.exports = MultilineTextColumn;\n}\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Style = __webpack_require__(3);\n\n\tfunction adj(style) {\n\t\tconst { textBaseline = 'top' } = style;\n\t\tstyle.textBaseline = textBaseline;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass MultilineTextStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new MultilineTextStyle();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tthis._lineHeight = style.lineHeight || '1em';\n\t\t}\n\t\tclone() {\n\t\t\treturn new MultilineTextStyle(this);\n\t\t}\n\t\tget lineHeight() {\n\t\t\treturn this._lineHeight;\n\t\t}\n\t\tset lineHeight(lineHeight) {\n\t\t\tthis._lineHeight = lineHeight;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t}\n\n\tmodule.exports = MultilineTextStyle;\n}\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\n{\n\tconst { getChainSafe } = __webpack_require__(0);\n\tconst defaultTheme = __webpack_require__(45);\n\n\tfunction getProp(obj, superObj, names, defNames) {\n\t\treturn getChainSafe(obj, ...names) || defNames && getChainSafe(obj, ...defNames) || getChainSafe(superObj, ...names);\n\t}\n\tfunction createTheme(obj = {}, superTheme = defaultTheme) {\n\t\treturn {\n\t\t\tget font() {\n\t\t\t\treturn getProp(obj, superTheme, ['font']);\n\t\t\t},\n\t\t\tget underlayBackgroundColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\n\t\t\t},\n\t\t\t// color\n\t\t\tget color() {\n\t\t\t\treturn getProp(obj, superTheme, ['color']);\n\t\t\t},\n\t\t\tget frozenRowsColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n\t\t\t},\n\t\t\t// background\n\t\t\tget defaultBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\n\t\t\t},\n\t\t\tget frozenRowsBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget selectionBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\t// border\n\t\t\tget borderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['borderColor']);\n\t\t\t},\n\t\t\tget frozenRowsBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget hiliteBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['hiliteBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget checkbox() {\n\t\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget checkBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget borderColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tget button() {\n\t\t\t\treturn this._button || (this._button = {\n\t\t\t\t\tget color() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\n\t\t\t\t\t},\n\t\t\t\t\tget bgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\textends(obj) {\n\t\t\t\treturn createTheme(obj, this);\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n  * theme object\n  * @type {Object}\n  * @namespace cheetahGrid.themes.theme\n  * @memberof cheetahGrid.themes\n  */\n\tmodule.exports = {\n\t\tcreate(obj) {\n\t\t\treturn createTheme(obj);\n\t\t}\n\t};\n}\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint no-bitwise:0*/\n\n\nfunction DEFAULT_BG_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: { frozenRowCount }\n\t} = args;\n\tif (!(row - frozenRowCount & 1)) {\n\t\treturn '#FFF';\n\t} else {\n\t\treturn '#F6F6F6';\n\t}\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n\tlet stop;\n\tconst stopsKey = [];\n\tfor (stop in colorStops) {\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\n\t}\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n\tconst ret = cacheLinearGradient[key];\n\tif (ret) {\n\t\treturn ret;\n\t}\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\n\tfor (stop in colorStops) {\n\t\tgrad.addColorStop(stop, colorStops[stop]);\n\t}\n\treturn cacheLinearGradient[key] = grad;\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid,\n\t\tgrid: { frozenRowCount },\n\t\tcontext\n\t} = args;\n\tconst { left, top } = grid.getCellRelativeRect(col, 0);\n\tconst { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n\n\treturn getLinearGradient(context, left, top, left, bottom, { 0: '#FFF', 1: '#D3D3D3' });\n}\n/**\n * basic theme\n * @name BASIC\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: '#000',\n\tdefaultBgColor: DEFAULT_BG_COLOR,\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: '#000',\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)'\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3'\n\t},\n\tunderlayBackgroundColor: '#F6F6F6'\n};\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst { getChainSafe } = __webpack_require__(0);\n\tconst DataSource = __webpack_require__(24);\n\n\tfunction _setFieldCache({ _fCache }, index, field, value) {\n\t\tconst recCache = _fCache[index] || (_fCache[index] = {});\n\t\trecCache[field] = value;\n\t}\n\t/**\n  * grid data source for caching Promise data\n  *\n  * @classdesc cheetahGrid.data.CachedDataSource\n  * @extends cheetahGrid.data.DataSource\n  * @memberof cheetahGrid.data\n  */\n\tclass CachedDataSource extends DataSource {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn DataSource.EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new CachedDataSource({\n\t\t\t\tget: index => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor(opt = {}) {\n\t\t\tsuper(opt);\n\t\t\tthis._rCache = {};\n\t\t\tthis._fCache = {};\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\tif (this._rCache && this._rCache[index]) {\n\t\t\t\treturn this._rCache[index];\n\t\t\t}\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\n\t\t\tif (cache) {\n\t\t\t\treturn cache;\n\t\t\t}\n\t\t\treturn super.getOriginalField(index, field);\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tconst fCache = this._fCache;\n\t\t\tif (fCache && fCache[index]) {\n\t\t\t\tdelete fCache[index]; // clear row cache\n\t\t\t}\n\t\t\treturn super.setOriginalField(index, field, value);\n\t\t}\n\t\tclearCache() {\n\t\t\tif (this._rCache) {\n\t\t\t\tthis._rCache = {};\n\t\t\t}\n\t\t\tif (this._fCache) {\n\t\t\t\tthis._fCache = {};\n\t\t\t}\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t_setFieldCache(this, index, field, val);\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\tthis._rCache[index] = val;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t}\n\n\tmodule.exports = CachedDataSource;\n}\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { isPromise } = __webpack_require__(0);\nconst DataSource = __webpack_require__(24);\n\nclass DataSourceIterator {\n\tconstructor(dataSource) {\n\t\tthis._dataSource = dataSource;\n\t\tthis._curIndex = -1;\n\t\tthis._data = [];\n\t}\n\thasNext() {\n\t\tconst next = this._curIndex + 1;\n\t\treturn this._dataSource.length > next;\n\t}\n\tnext() {\n\t\tconst next = this._curIndex + 1;\n\t\tconst data = this._getIndexData(next);\n\t\tthis._curIndex = next;\n\t\treturn data;\n\t}\n\tmovePrev() {\n\t\tthis._curIndex--;\n\t}\n\t_getIndexData(index, nest) {\n\t\tconst dataSource = this._dataSource;\n\t\tconst data = this._data;\n\t\tif (index < data.length) {\n\t\t\treturn data[index];\n\t\t}\n\n\t\tif (dataSource.length <= index) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this._dataSource.get(index);\n\t\tdata[index] = record;\n\t\tif (isPromise(record)) {\n\t\t\trecord.then(val => {\n\t\t\t\tdata[index] = val;\n\t\t\t});\n\t\t\tif (!nest) {\n\t\t\t\tfor (let i = 1; i <= 100; i++) {\n\t\t\t\t\tthis._getIndexData(index + i, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn record;\n\t}\n\n}\nclass FilterData {\n\tconstructor(dc, original, filter) {\n\t\tthis._owner = dc;\n\t\tthis._dataSourceItr = new DataSourceIterator(original);\n\t\tthis._filter = filter;\n\t\tthis._filterdList = [];\n\t\tthis._queues = [];\n\t}\n\tget(index) {\n\t\tif (this._cancel) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst filterdList = this._filterdList;\n\t\tif (index < filterdList.length) {\n\t\t\treturn filterdList[index];\n\t\t}\n\t\tconst queues = this._queues;\n\t\tif (queues[index]) {\n\t\t\treturn queues[index];\n\t\t}\n\t\treturn queues[index] || this._findIndex(index);\n\t}\n\tcancel() {\n\t\tthis._cancel = true;\n\t}\n\t_findIndex(index) {\n\t\tif (window.Promise) {\n\t\t\tconst timeout = Date.now() + 100;\n\t\t\tlet count = 0;\n\t\t\treturn this._findIndexWithTimeout(index, () => {\n\t\t\t\tcount++;\n\t\t\t\tif (count >= 100) {\n\t\t\t\t\tcount = 0;\n\t\t\t\t\treturn timeout < Date.now();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\treturn this._findIndexWithTimeout(index, () => false);\n\t}\n\t_findIndexWithTimeout(index, testTimeout) {\n\t\tconst filterdList = this._filterdList;\n\t\tconst filter = this._filter;\n\t\tconst dataSourceItr = this._dataSourceItr;\n\n\t\tconst queues = this._queues;\n\n\t\twhile (dataSourceItr.hasNext()) {\n\t\t\tif (this._cancel) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = dataSourceItr.next();\n\t\t\tif (isPromise(record)) {\n\t\t\t\tdataSourceItr.movePrev();\n\t\t\t\treturn queues[index] = record.then(value => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (filter(record)) {\n\t\t\t\tfilterdList.push(record);\n\t\t\t\tif (index < filterdList.length) {\n\t\t\t\t\treturn filterdList[index];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (testTimeout()) {\n\t\t\t\tconst promise = new Promise(resolve => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}, 300);\n\t\t\t\t});\n\t\t\t\tqueues[index] = promise.then(() => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t});\n\t\t\t\treturn queues[index];\n\t\t\t}\n\t\t}\n\t\tconst dc = this._owner;\n\t\tdc.length = filterdList.length;\n\t\treturn undefined;\n\t}\n}\n\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @extends cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\nclass FilterDataSource extends DataSource {\n\tstatic get EVENT_TYPE() {\n\t\treturn DataSource.EVENT_TYPE;\n\t}\n\tconstructor(dataSource, filter) {\n\t\tsuper(dataSource);\n\t\tthis._dataSource = dataSource;\n\t\tthis.filter = filter;\n\t}\n\tget filter() {\n\t\treturn this._filterData && this._filterData._filter || undefined;\n\t}\n\tset filter(filter) {\n\t\tif (this._filterData) {\n\t\t\tthis._filterData.cancel();\n\t\t}\n\t\tthis._filterData = filter ? new FilterData(this, this._dataSource, filter) : undefined;\n\t\tthis.length = this._dataSource.length;\n\t}\n\tgetOriginal(index) {\n\t\tif (!this._filterData) {\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\treturn this._filterData.get(index);\n\t}\n}\n\nmodule.exports = FilterDataSource;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\n{\n\tconst { isDef, isPromise, then, obj: { isObject } } = __webpack_require__(0);\n\tconst GridCanvasHelper = __webpack_require__(49);\n\tconst columns = __webpack_require__(31);\n\tconst { BaseStyle } = columns.style;\n\tconst headerType = __webpack_require__(117);\n\tconst { BaseStyle: HeaderBaseStyle } = __webpack_require__(16);\n\tconst DrawGrid = __webpack_require__(4);\n\tconst { DataSource, CachedDataSource } = __webpack_require__(47);\n\tconst themes = __webpack_require__(23);\n\tconst icons = __webpack_require__(22);\n\tconst MessageHandler = __webpack_require__(121);\n\tconst EVENT_TYPE = __webpack_require__(57);\n\n\t//protected symbol\n\tconst { PROTECTED_SYMBOL: _ } = __webpack_require__(1);\n\n\tlet headerId = 0;\n\t//private methods\n\tfunction _getHeaderCellRange(grid, col, row) {\n\t\treturn grid[_].headerMap.getHeaderCellRange(col, row);\n\t}\n\tfunction _updateRect(grid, col, row, context) {\n\t\tconst rect = context.getRect();\n\t\tconst {\n\t\t\tstartCol,\n\t\t\tendCol,\n\t\t\tstartRow,\n\t\t\tendRow\n\t\t} = _getHeaderCellRange(grid, col, row);\n\t\tfor (let c = col - 1; c >= startCol; c--) {\n\t\t\trect.left -= grid.getColWidth(c);\n\t\t}\n\t\tfor (let c = col + 1; c <= endCol; c++) {\n\t\t\trect.right += grid.getColWidth(c);\n\t\t}\n\t\tfor (let r = row - 1; r >= startRow; r--) {\n\t\t\trect.top -= grid.getRowHeight(r);\n\t\t}\n\t\tfor (let r = row + 1; r <= endRow; r++) {\n\t\t\trect.bottom += grid.getRowHeight(r);\n\t\t}\n\t\tcontext.setRect(rect);\n\t}\n\tfunction _getCellValue(grid, col, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn grid[_].headerMap.getCell(col, row).caption;\n\t\t} else {\n\t\t\tlet { field } = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.get;\n\t\t\t}\n\t\t\treturn _getField(grid, field, row);\n\t\t}\n\t}\n\tfunction _setCellValue(grid, col, row, value) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tlet { field } = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.set;\n\t\t\t}\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\tconst res = grid[_].dataSource.setField(index, field, value);\n\t\t\treturn isPromise(res) ? res : true;\n\t\t}\n\t}\n\tfunction _getCellMessage(grid, col, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst { message } = grid[_].headerMap.columns[col];\n\t\t\tif (!message) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn _getField(grid, message, row);\n\t\t}\n\t}\n\tfunction _getCellIcon0(grid, icon, row) {\n\t\tif (!isDef(icon)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (__webpack_provided_Array_dot_isArray(icon)) {\n\t\t\treturn icon.map(i => _getCellIcon0(grid, i, row));\n\t\t}\n\t\tif (!isObject(icon)) {\n\t\t\treturn _getField(grid, icon, row);\n\t\t}\n\t\tconst retIcon = {};\n\t\ticons.iconPropKeys.forEach(k => {\n\t\t\tif (icon[k]) {\n\t\t\t\tconst f = _getField(grid, icon[k], row);\n\t\t\t\tif (isDef(f)) {\n\t\t\t\t\tretIcon[k] = f;\n\t\t\t\t} else {\n\t\t\t\t\tif (!_hasField(grid, icon[k], row)) {\n\t\t\t\t\t\tretIcon[k] = icon[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn retIcon;\n\t}\n\tfunction _getCellIcon(grid, col, row) {\n\t\tconst { icon } = grid[_].headerMap.columns[col];\n\t\treturn _getCellIcon0(grid, icon, row);\n\t}\n\tfunction _getField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.getField(index, field);\n\t\t}\n\t}\n\tfunction _hasField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.hasField(index, field);\n\t\t}\n\t}\n\tfunction _onDrawValue(grid, cellValue, context, { col, row }, style, draw) {\n\t\tconst helper = grid[_].gridCanvasHelper;\n\n\t\tconst drawCellBg = ({ bgColor } = {}) => {\n\t\t\tconst fillOpt = {\n\t\t\t\tfillColor: bgColor\n\t\t\t};\n\t\t\t//cell\n\t\t\thelper.fillCellWithState(context, fillOpt);\n\t\t};\n\t\tconst drawCellBorder = () => {\n\n\t\t\tif (context.col === grid.frozenColCount - 1) {\n\t\t\t\t//\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\thelper.drawWithClip(context, ctx => {\n\t\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor : helper.theme.frozenRowsBorderColor;\n\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (context.row < grid[_].headerMap.rowCount) {\n\t\t\t\t_headerBorderWithState(grid, helper, context);\n\t\t\t} else {\n\t\t\t\thelper.borderWithState(context);\n\t\t\t}\n\t\t};\n\n\t\tconst drawCellBase = ({ bgColor } = {}) => {\n\t\t\tdrawCellBg({ bgColor });\n\t\t\tdrawCellBorder();\n\t\t};\n\t\tconst info = {\n\t\t\tgetRecord: () => grid.getRowRecord(row),\n\t\t\tgetIcon: () => _getCellIcon(grid, col, row),\n\t\t\tgetMessage: () => _getCellMessage(grid, col, row),\n\t\t\tmessageHandler: grid[_].messageHandler,\n\t\t\tstyle,\n\t\t\tdrawCellBase,\n\t\t\tdrawCellBg,\n\t\t\tdrawCellBorder\n\t\t};\n\n\t\treturn draw(cellValue, info, context, grid);\n\t}\n\tfunction _headerBorderWithState(grid, helper, context) {\n\t\tconst { col, row } = context;\n\t\tconst sel = grid.selection.select;\n\t\tif (sel.row >= grid[_].headerMap.rowCount) {\n\t\t\t//\n\t\t\thelper.borderWithState(context);\n\t\t\treturn;\n\t\t}\n\n\t\tconst { id } = grid[_].headerMap.getCell(col, row);\n\n\t\tconst rect = context.getRect();\n\t\tconst option = {};\n\n\t\tconst { id: selId } = grid[_].headerMap.getCell(sel.col, sel.row);\n\t\t//\n\t\tif (selId === id) {\n\t\t\toption.borderColor = helper.theme.hiliteBorderColor;\n\t\t\toption.lineWidth = 2;\n\t\t\thelper.border(context, option);\n\t\t} else {\n\t\t\toption.lineWidth = 1;\n\t\t\t// header color\n\t\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\n\t\t\t}\n\t\t\thelper.border(context, option);\n\n\t\t\t//\n\t\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx));\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (row > 0 && grid[_].headerMap.getCell(col, row - 1).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(helper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx));\n\t\t\t\t\tif (borderColors[0]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tfunction _refreshHeader(grid) {\n\t\tif (grid[_].headerEvents) {\n\t\t\tgrid[_].headerEvents.forEach(id => grid.unlisten(id));\n\t\t}\n\t\tgrid[_].headerMap = new HeaderMap(grid[_].header);\n\t\tgrid[_].headerEvents = [];\n\t\tgrid[_].headerMap.headerObjects.forEach(cell => {\n\t\t\tconst ids = cell.headerType.bindGridEvent(grid);\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\tif (cell.style) {\n\t\t\t\tif (cell.style instanceof HeaderBaseStyle) {\n\t\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].headerMap.columns.forEach((col, index) => {\n\t\t\tif (col.action) {\n\t\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.columnType) {\n\t\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.style) {\n\t\t\t\tif (col.style instanceof BaseStyle) {\n\t\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid.colCount = grid[_].headerMap.columns.length;\n\t\t_refreshRowCount(grid);\n\t\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\n\t\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n\t\t\tconst column = grid[_].headerMap.columns[col];\n\t\t\tconst { width, minWidth, maxWidth } = column;\n\t\t\tif (width && (width > 0 || typeof width === 'string')) {\n\t\t\t\tgrid.setColWidth(col, width);\n\t\t\t}\n\t\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n\t\t\t\tgrid.setMinColWidth(col, minWidth);\n\t\t\t}\n\t\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n\t\t\t\tgrid.setMaxColWidth(col, maxWidth);\n\t\t\t}\n\t\t}\n\t\tconst isArrayHeaderRowHeight = __webpack_provided_Array_dot_isArray(grid[_].headerRowHeight);\n\t\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n\t\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\t\t\tif (height && height > 0) {\n\t\t\t\tgrid.setRowHeight(row, height);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _refreshRowCount(grid) {\n\t\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n\t}\n\tfunction _tryWithUpdateDataSource(grid, fn) {\n\t\tif (grid[_].dataSourceEventIds) {\n\t\t\tgrid[_].dataSourceEventIds.forEach(id => grid[_].handler.off(id));\n\t\t}\n\n\t\tfn(grid);\n\n\t\tgrid[_].dataSourceEventIds = [grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n\t\t\t_refreshRowCount(grid);\n\t\t\tgrid.invalidate();\n\t\t}), grid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n\t\t\tgrid.invalidate();\n\t\t})];\n\t}\n\tfunction _setRecords(grid, records = []) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tgrid[_].records = records;\n\t\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n\t\t});\n\t}\n\tfunction _setDataSource(grid, dataSource) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tif (dataSource) {\n\t\t\t\tif (dataSource instanceof DataSource) {\n\t\t\t\t\tgrid[_].dataSource = dataSource;\n\t\t\t\t} else {\n\t\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tgrid[_].dataSource = DataSource.EMPTY;\n\t\t\t}\n\t\t\tgrid[_].records = null;\n\t\t});\n\t}\n\n\tfunction _getRowRecordIndex(grid, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn row - grid[_].headerMap.rowCount;\n\t\t}\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\n\tclass HeaderMap {\n\t\tconstructor(header) {\n\t\t\tthis._columns = [];\n\t\t\tthis._headerCells = [];\n\t\t\tthis._headerObjects = [];\n\n\t\t\tthis._addHeaders(0, header, []);\n\t\t\tthis._setupHeaderType();\n\t\t}\n\t\tget columns() {\n\t\t\treturn this._columns;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this._headerCells.length;\n\t\t}\n\t\tget headerObjects() {\n\t\t\treturn this._headerObjects;\n\t\t}\n\t\tgetCell(col, row) {\n\t\t\treturn this._headerCells[row][col];\n\t\t}\n\t\tgetHeaderCellRangeById(id) {\n\t\t\tfor (let r = 0; r < this.rowCount; r++) {\n\t\t\t\tfor (let c = 0; c < this.columns.length; c++) {\n\t\t\t\t\tif (id === this.getCell(c, r).id) {\n\t\t\t\t\t\treturn this.getHeaderCellRange(c, r);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t\tgetHeaderCellRange(col, row) {\n\t\t\tconst result = {\n\t\t\t\tstartCol: col,\n\t\t\t\tstartRow: row,\n\t\t\t\tendCol: col,\n\t\t\t\tendRow: row,\n\t\t\t\tisCellInRange(col, row) {\n\t\t\t\t\treturn this.startCol <= col && col <= this.endCol && this.startRow <= row && row <= this.endRow;\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst { id } = this.getCell(col, row);\n\t\t\tfor (let c = col - 1; c >= 0; c--) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startCol = c;\n\t\t\t}\n\t\t\tfor (let c = col + 1; c < this.columns.length; c++) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endCol = c;\n\t\t\t}\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startRow = r;\n\t\t\t}\n\t\t\tfor (let r = row + 1; r < this.rowCount; r++) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endRow = r;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t_addHeaders(row, header, roots) {\n\t\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\n\t\t\theader.forEach(hd => {\n\t\t\t\tconst col = this._columns.length;\n\t\t\t\tconst cell = {\n\t\t\t\t\tid: headerId++,\n\t\t\t\t\tcaption: hd.caption,\n\t\t\t\t\tstyle: hd.headerStyle,\n\t\t\t\t\tsort: hd.sort\n\t\t\t\t};\n\t\t\t\tthis._headerObjects.push(cell);\n\t\t\t\trowCells[col] = cell;\n\t\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\t\tthis._headerCells[r][col] = roots[r];\n\t\t\t\t}\n\t\t\t\tif (hd.columns) {\n\t\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._columns.push({\n\t\t\t\t\t\twidth: hd.width,\n\t\t\t\t\t\tminWidth: hd.minWidth,\n\t\t\t\t\t\tmaxWidth: hd.maxWidth,\n\t\t\t\t\t\tfield: hd.field,\n\t\t\t\t\t\ticon: hd.icon,\n\t\t\t\t\t\tmessage: hd.message,\n\t\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\n\t\t\t\t\t\taction: columns.action.of(hd.action),\n\t\t\t\t\t\tstyle: hd.style,\n\t\t\t\t\t\tdefine: hd\n\t\t\t\t\t});\n\t\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\n\t\t\t\t\t\tthis._headerCells[r][col] = cell;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t_setupHeaderType() {\n\t\t\tthis._headerObjects.forEach(cell => {\n\t\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\n\t\t\t\tcell.headerType = headerType.create(cell);\n\t\t\t});\n\t\t}\n\t\t_newRow(row) {\n\t\t\tconst newRow = this._headerCells[row] = [];\n\t\t\tif (!this._columns.length) {\n\t\t\t\treturn newRow;\n\t\t\t}\n\t\t\tconst prev = this._headerCells[row - 1];\n\t\t\tfor (let col = 0; col < prev.length; col++) {\n\t\t\t\tnewRow[col] = prev[col];\n\t\t\t}\n\t\t\treturn newRow;\n\t\t}\n\t}\n\n\tfunction adjustListGridOption(options) {\n\t\tif (options) {\n\t\t\tdelete options.frozenRowCount;\n\t\t\tdelete options.colCount;\n\t\t\tdelete options.rowCount;\n\t\t}\n\t\treturn options;\n\t}\n\n\t/**\n  * ListGrid\n  * @classdesc cheetahGrid.ListGrid\n  * @extends cheetahGrid.core.DrawGrid\n  * @memberof cheetahGrid\n  */\n\tclass ListGrid extends DrawGrid {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\n   * constructor\n   *\n   * <pre>\n   * Constructor options\n   * -----\n   * header: see header property\n   * records {array}: records data\n   * dataSource {DataSource}: records data source\n   * frozenColCount {number}: default 0\n   * defaultRowHeight {number}: default grid row height. default 40\n   * defaultColWidth {number}: default grid col width. default 80\n   * borderColor: border color\n   * parentElement {Element}: canvas parentElement\n   * theme {object}: theme\n   * -----\n   * </pre>\n   *\n   * @constructor\n   * @param  {Object} options Constructor options\n   */\n\t\tconstructor(options = {}) {\n\t\t\tsuper(adjustListGridOption(options));\n\t\t\tthis[_].header = options.header || [];\n\t\t\tthis[_].headerRowHeight = options.headerRowHeight || [];\n\t\t\tif (options.dataSource) {\n\t\t\t\t_setDataSource(this, options.dataSource);\n\t\t\t} else {\n\t\t\t\t_setRecords(this, options.records);\n\t\t\t}\n\t\t\t_refreshHeader(this);\n\t\t\tthis[_].sortState = {\n\t\t\t\tcol: -1,\n\t\t\t\torder: undefined\n\t\t\t};\n\t\t\tthis[_].gridCanvasHelper = new GridCanvasHelper(this);\n\t\t\tthis[_].theme = themes.of(options.theme);\n\t\t\tthis[_].messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n\t\t\tthis.invalidate();\n\t\t\tthis[_].handler.on(window, 'resize', () => {\n\t\t\t\tthis.updateSize();\n\t\t\t\tthis.updateScroll();\n\t\t\t\tthis.invalidate();\n\t\t\t});\n\t\t}\n\t\tdispose() {\n\t\t\tthis[_].messageHandler.dispose();\n\t\t\tsuper.dispose();\n\t\t}\n\t\t/**\n   * header define\n   * @type {Array}\n   */\n\t\tget header() {\n\t\t\treturn this[_].header;\n\t\t}\n\t\t/**\n   * header define\n   * <pre>\n   * column options\n   * -----\n   * caption: header caption\n   * field: field name\n   * width: column width\n   * minWidth: column min width\n   * maxWidth: column max width\n   * icon: icon name\n   * message: message key name\n   * columnType: ColumnType\n   * action: ColumnAction\n   * style: ColumnStyle\n   * sort: define sort setting\n   * -----\n   *\n   * multiline header\n   * -----\n   * caption: header caption\n   * columns: columns define\n   * -----\n   * </pre>\n   *\n   * @type {Array}\n   */\n\t\tset header(header) {\n\t\t\tthis[_].header = header;\n\t\t\t_refreshHeader(this);\n\t\t}\n\t\tget records() {\n\t\t\treturn this[_].records;\n\t\t}\n\t\tset records(records) {\n\t\t\t_setRecords(this, records);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget dataSource() {\n\t\t\treturn this[_].dataSource;\n\t\t}\n\t\tset dataSource(dataSource) {\n\t\t\t_setDataSource(this, dataSource);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget theme() {\n\t\t\treturn this[_].theme;\n\t\t}\n\t\tset theme(theme) {\n\t\t\tthis[_].theme = themes.of(theme);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget font() {\n\t\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\n\t\t}\n\t\tset font(font) {\n\t\t\tsuper.font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tget sortState() {\n\t\t\treturn this[_].sortState;\n\t\t}\n\t\tset sortState(sortState) {\n\t\t\tthis[_].sortState = sortState;\n\t\t}\n\t\tgetField(col) {\n\t\t\treturn this[_].headerMap.columns[col].field;\n\t\t}\n\t\tgetRowRecord(row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\treturn undefined;\n\t\t\t} else {\n\t\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\n\t\t\t}\n\t\t}\n\t\tgetGridCanvasHelper() {\n\t\t\treturn this[_].gridCanvasHelper;\n\t\t}\n\t\tgetCopyCellValue(col, row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startCol, startRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\tif (startCol !== col || startRow !== row) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _getCellValue(this, col, row);\n\t\t}\n\t\tonDrawCell(col, row, context) {\n\t\t\tconst column = this[_].headerMap.columns[col];\n\n\t\t\tlet draw;\n\t\t\tlet style;\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst hd = this[_].headerMap.getCell(col, row);\n\t\t\t\tdraw = hd.headerType.onDrawCell;\n\t\t\t\t({ style } = hd);\n\t\t\t\t_updateRect(this, col, row, context);\n\t\t\t} else {\n\t\t\t\tdraw = column.columnType.onDrawCell;\n\t\t\t\t({ style } = column);\n\t\t\t}\n\t\t\tconst cellValue = _getCellValue(this, col, row);\n\t\t\treturn _onDrawValue(this, cellValue, context, { col, row }, style, draw);\n\t\t}\n\t\tdoGetCellValue(col, row, valueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst value = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(value)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvalueCallback(value);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tdoChangeValue(col, row, changeValueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst before = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(before)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst after = changeValueCallback(before);\n\t\t\t\tif (after === undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn then(_setCellValue(this, col, row, after), ret => {\n\t\t\t\t\tif (ret) {\n\t\t\t\t\t\tconst { field } = this[_].headerMap.columns[col];\n\t\t\t\t\t\tconst self = this;\n\t\t\t\t\t\tthis.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\tget record() {\n\t\t\t\t\t\t\t\treturn self.getRowRecord(row);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfield,\n\t\t\t\t\t\t\tvalue: after\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, e => {\n\t\t\t\tif (e.row < this[_].headerMap.rowCount) {\n\t\t\t\t\tconst { startCol, endCol, startRow, endRow } = _getHeaderCellRange(this, e.col, e.row);\n\t\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\n\t\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startCol } = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = startCol;\n\t\t\t}\n\t\t\treturn super.getMoveLeftColByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { endCol } = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = endCol;\n\t\t\t}\n\t\t\treturn super.getMoveRightColByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { startRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = startRow;\n\t\t\t}\n\t\t\treturn super.getMoveUpRowByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({ col, row }) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst { endRow } = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = endRow;\n\t\t\t}\n\t\t\treturn super.getMoveDownRowByKeyDownInternal({ col, row });\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 1;\n\t\t}\n\t\tgetColumnIndexByField(field) {\n\t\t\tfor (const columnIndex in this[_].headerMap.columns) {\n\t\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\n\t\t\t\t\treturn columnIndex - 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tfocusGridCell(field, index) {\n\t\t\tconst {\n\t\t\t\tstart: { col: startCol, row: startRow },\n\t\t\t\tend: { col: endCol, row: endRow }\n\t\t\t} = this.selection.range;\n\n\t\t\tconst newCol = this.getColumnIndexByField(field);\n\t\t\tconst newRow = index + this[_].headerMap.rowCount;\n\t\t\tthis.focusCell(newCol, newRow);\n\t\t\tthis.selection.select = {\n\t\t\t\tcol: newCol,\n\t\t\t\trow: newRow\n\t\t\t};\n\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\tthis.invalidateCell(newCol, newRow);\n\t\t}\n\t\tmakeVisibleGridCell(field, index) {\n\t\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n\t\t}\n\t}\n\tmodule.exports = ListGrid;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(__webpack_provided_Array_dot_isArray) {\n\nconst Inline = __webpack_require__(11);\nconst InlineIcon = __webpack_require__(101);\nconst InlineImage = __webpack_require__(51);\nconst InlineSvg = __webpack_require__(104);\nconst InlineDrawer = __webpack_require__(105);\nconst InlinePath2D = __webpack_require__(106);\nconst { isDef } = __webpack_require__(0);\nconst { calcStartPosition } = __webpack_require__(8);\nconst icons = __webpack_require__(52);\nconst path2DManager = __webpack_require__(25);\n\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, {\n\toffset = 2,\n\tpadding\n} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\nmodule.exports = {\n\ticonOf(icon) {\n\t\tif (icon instanceof Inline) {\n\t\t\treturn icon;\n\t\t}\n\t\tif (!icon) {\n\t\t\treturn null;\n\t\t}\n\t\tif (icon.font && icon.content) {\n\t\t\treturn new InlineIcon(icon);\n\t\t}\n\t\tif (icon.src) {\n\t\t\treturn new InlineImage({\n\t\t\t\tsrc: icon.src,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width\n\t\t\t});\n\t\t}\n\t\tif (icon.svg) {\n\t\t\treturn new InlineSvg({\n\t\t\t\tsvg: icon.svg,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width\n\t\t\t});\n\t\t}\n\t\tif (icon.path) {\n\t\t\treturn new InlinePath2D({\n\t\t\t\tpath: icon.path,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t\tcolor: icon.color\n\t\t\t});\n\t\t}\n\t\tconst regedIcons = icons.get();\n\t\tif (icon.name && regedIcons[icon.name]) {\n\t\t\tconst regedIcon = regedIcons[icon.name];\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n\t\t\treturn new InlineDrawer({\n\t\t\t\tdraw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\toffsetBottom\n\t\t\t\t}) {\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\tbottom: offsetBottom\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\twidth,\n\t\t\t\theight: width,\n\t\t\t\tcolor: icon.color\n\t\t\t});\n\t\t}\n\t\treturn new InlineIcon(icon);\n\t},\n\tof(content) {\n\t\tif (!isDef(content)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (content instanceof Inline) {\n\t\t\treturn content;\n\t\t}\n\t\treturn new Inline(content);\n\t},\n\tbuildInlines(icons, inline) {\n\t\tconst result = [];\n\t\tif (icons) {\n\t\t\tresult.push(...icons.map(icon => this.iconOf(icon)).filter(e => !!e));\n\t\t}\n\t\tif (__webpack_provided_Array_dot_isArray(inline) && inline.filter(il => il instanceof Inline).length) {\n\t\t\tresult.push(...inline.map(il => this.of(il)).filter(e => !!e));\n\t\t} else {\n\t\t\tconst il = this.of(inline);\n\t\t\tif (il) {\n\t\t\t\tresult.push(il);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)[\"Array_isArray\"]))\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(11);\nconst fonts = __webpack_require__(50);\n\nclass InlineIcon extends Inline {\n\tconstructor(icon) {\n\t\tsuper();\n\t\tthis._icon = icon || {};\n\t}\n\twidth({ ctx }) {\n\t\tconst icon = this._icon;\n\t\tif (icon.width) {\n\t\t\treturn icon.width;\n\t\t}\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.font = icon.font || ctx.font;\n\t\t\t\treturn ctx.measureText(icon.content).width;\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfont() {\n\t\treturn this._icon.font;\n\t}\n\tcolor() {\n\t\treturn this._icon.color;\n\t}\n\tcanDraw() {\n\t\tconst icon = this._icon;\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\n\t}\n\tonReady(callback) {\n\t\tconst icon = this._icon;\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\n\t\t\tfonts.load(icon.font, icon.content, callback);\n\t\t}\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.content) {\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n\t\t\t\toffset: offset + 1,\n\t\t\t\tpadding: {\n\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\tright: offsetRight,\n\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\tbottom: offsetBottom\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\nmodule.exports = InlineIcon;\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\n\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\n\nconst FontRuler = __webpack_require__(103);\n\nconst LastResortFonts = {\n\tSERIF: 'serif',\n\tSANS_SERIF: 'sans-serif'\n};\n\nconst watchRunners = {};\n\nclass FontWatchRunner {\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\n\t\ttestStr += '';\n\t\tlet runner;\n\t\tif (c[testStr]) {\n\t\t\trunner = c[testStr];\n\t\t} else {\n\t\t\trunner = c[testStr] = new FontWatchRunner(font, testStr);\n\t\t}\n\t\trunner.then(activeCallback, inactiveCallback);\n\t}\n\tconstructor(font, testStr) {\n\t\tthis.activeCallbacks = [];\n\t\tthis.inactiveCallbacks = [];\n\t\tthis.status = null;\n\t\tthis.lastResortWidths_ = {};\n\n\t\tthis.fontRulerA_ = new FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n\t\tthis.fontRulerB_ = new FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n\t\tconst lastResortRulerA = new FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n\t\tconst lastResortRulerB = new FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n\n\t\t//start\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n\n\t\tlastResortRulerA.remove();\n\t\tlastResortRulerB.remove();\n\n\t\tthis.started_ = Date.now();\n\n\t\tthis.check_();\n\t}\n\tthen(activeCallback, inactiveCallback) {\n\t\tif (this.status) {\n\t\t\tif (this.status !== 'ng') {\n\t\t\t\tactiveCallback();\n\t\t\t} else {\n\t\t\t\tinactiveCallback();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.activeCallbacks.push(activeCallback);\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\n\t\t}\n\t}\n\tcheck_() {\n\t\tconst widthA = this.fontRulerA_.getWidth();\n\t\tconst widthB = this.fontRulerB_.getWidth();\n\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n\t\t\tif (Date.now() - this.started_ >= 3000) {\n\t\t\t\t// timeout\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\t\t\tthis.status = 'ok';\n\t\t\t\t} else {\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\n\t\t\t\t\tthis.status = 'ng';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.check_();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\tthis.status = 'ok';\n\t\t}\n\t}\n\tisFallbackFont_(a, b) {\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n\t}\n\twidthsMatchLastResortWidths_(a, b) {\n\t\tfor (const font in LastResortFonts) {\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) && this.widthMatches_(b, LastResortFonts[font])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\twidthMatches_(width, lastResortFont) {\n\t\treturn width === this.lastResortWidths_[lastResortFont];\n\t}\n\tisLastResortFont_(a, b) {\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n\t}\n\tfinish_(callbacks) {\n\t\tsetTimeout(() => {\n\t\t\tthis.fontRulerA_.remove();\n\t\t\tthis.fontRulerB_.remove();\n\t\t\tcallbacks.forEach(cb => cb());\n\t\t}, 0);\n\t}\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match && (parseInt(match[1], 10) < 536 || parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11);\n\t}\n\treturn HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n//see https://github.com/typekit/webfontloader\n\nfunction computeStyle(font) {\n\treturn [{\n\t\t'display': 'block',\n\t\t'position': 'absolute',\n\t\t'top': '-9999px',\n\t\t'left': '-9999px',\n\t\t'width': 'auto',\n\t\t'height': 'auto',\n\t\t'margin': '0',\n\t\t'padding': '0',\n\t\t'white-space': 'nowrap',\n\t\tfont\n\t}, {\n\t\t'font-variant': 'normal',\n\t\t'font-size': '300px',\n\t\t'font-style': 'normal',\n\t\t'font-weight': '400',\n\t\t'line-height': 'normal'\n\t}];\n}\n\nclass FontRuler {\n\tconstructor(font, testStr) {\n\t\tconst e = document.createElement('span');\n\t\te.setAttribute('aria-hidden', 'true');\n\t\te.textContent = testStr || 'BESbswy';\n\n\t\tcomputeStyle(font).forEach(style => {\n\t\t\tfor (const key in style) {\n\t\t\t\te.style[key] = style[key];\n\t\t\t}\n\t\t});\n\t\tdocument.body.appendChild(e);\n\t\tthis.el_ = e;\n\t}\n\tgetWidth() {\n\t\treturn this.el_.offsetWidth;\n\t}\n\tremove() {\n\t\tdocument.body.removeChild(this.el_);\n\t}\n}\n\nmodule.exports = FontRuler;\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst InlineImage = __webpack_require__(51);\nconst { then } = __webpack_require__(0);\n\nfunction buildSvgDataUrl(svg) {\n\tconst data = typeof svg === 'string' ? svg : new XMLSerializer().serializeToString(svg);\n\tconst url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n\treturn url;\n}\nfunction getSvgElement(svg) {\n\tif (typeof svg === 'string') {\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\n\t} else {\n\t\treturn svg;\n\t}\n}\n\nclass InlineSvg extends InlineImage {\n\tconstructor({\n\t\tsvg,\n\t\twidth,\n\t\theight,\n\t\timageLeft,\n\t\timageTop,\n\t\timageWidth,\n\t\timageHeight\n\t}) {\n\t\tconst svgElem = then(svg, getSvgElement);\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n\t\tsuper({\n\t\t\tsrc: then(svg, buildSvgDataUrl),\n\t\t\twidth: width || elmWidth,\n\t\t\theight: height || elmHeight,\n\t\t\timageWidth: elmWidth,\n\t\t\timageHeight: elmHeight\n\t\t});\n\t}\n}\n\nmodule.exports = InlineSvg;\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(11);\n\nclass InlineDrawer extends Inline {\n\tconstructor({\n\t\tdraw,\n\t\twidth,\n\t\theight,\n\t\tcolor\n\t}) {\n\t\tsuper();\n\n\t\tthis._draw = draw;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\tthis._draw({\n\t\t\tctx,\n\t\t\tcanvashelper,\n\t\t\trect,\n\t\t\toffset,\n\t\t\toffsetLeft,\n\t\t\toffsetRight,\n\t\t\toffsetTop,\n\t\t\toffsetBottom\n\t\t});\n\t}\n}\n\nmodule.exports = InlineDrawer;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst Inline = __webpack_require__(11);\nconst { calcStartPosition } = __webpack_require__(8);\nconst path2DManager = __webpack_require__(25);\n\nclass InlinePath2D extends Inline {\n\tconstructor({\n\t\tpath,\n\t\twidth,\n\t\theight,\n\t\tcolor\n\t}) {\n\t\tsuper();\n\t\t// IEPath2Dpolyfill\n\t\tthis._path = new path2DManager.Path2D(path);\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ ctx }) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom\n\t}) {\n\t\toffset++;\n\t\tconst padding = {\n\t\t\tleft: offsetLeft,\n\t\t\tright: offsetRight,\n\t\t\ttop: offsetTop,\n\t\t\tbottom: offsetBottom\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\t\t\tctx.translate(pos.x, pos.y);\n\t\t\tctx.fill(this._path);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n}\n\nmodule.exports = InlinePath2D;\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommandsParser = __webpack_require__(108);\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n\tconstructor(arg) {\n\t\tthis._ops = [];\n\t\t['closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'rect'].forEach(name => {\n\t\t\tthis[name] = (...args) => {\n\t\t\t\tthis._ops.push({ op: name, args });\n\t\t\t};\n\t\t});\n\t\tif (arg === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof arg === 'string') {\n\t\t\ttry {\n\t\t\t\tthis._ops = parser.parse(arg);\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t} else if (arg.hasOwnProperty('_ops')) {\n\t\t\tthis._ops = [...this._ops];\n\t\t} else {\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n\t\t}\n\t}\n}\n\nconst { CanvasRenderingContext2D } = window;\n\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n\tif (args[0] instanceof Path2D) {\n\t\tconst path = args[0];\n\t\tthis.beginPath();\n\t\tpath._ops.forEach(op => {\n\t\t\tthis[op.op](...op.args);\n\t\t});\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\n\t} else {\n\t\toriginalFill.apply(this, args);\n\t}\n};\n\nmodule.exports = Path2D;\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst PathCommands = __webpack_require__(109);\n\nfunction pathTokens(d) {\n\tlet idx = 0;\n\treturn {\n\t\tnext() {\n\t\t\tlet s = '';\n\t\t\twhile (d.length > idx) {\n\t\t\t\tconst c = d[idx];\n\t\t\t\tidx++;\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\t\t\t\t\tif (type === 'str') {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn c;\n\t\t\t\t\t}\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (c === '.') {\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ts += c;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s || null;\n\t\t}\n\t};\n}\n\nfunction command(builder, cmd, argsProvider) {\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\n\t\treturn cmd === 'M' ? 'L' : cmd === 'm' ? 'l' : cmd;\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n\t\tbuilder.command(cmd, argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'Z') {\n\t\tbuilder.command(cmd);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'C') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'A') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n\t\treturn cmd;\n\t} else {\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n\t\tconsole.warn(`unsupported:${cmd}`);\n\t}\n\treturn null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : ['save', 'restore', 'beginPath', 'closePath', 'moveTo', 'lineTo', 'bezierCurveTo', 'quadraticCurveTo', 'arc', 'arcTo', 'ellipse', 'rect', 'translate', 'rotate', 'scale'];\n\nclass PathCommandsParser {\n\tconstructor() {\n\t\tthis._commands = new PathCommands(this);\n\t\tcanvasOperations.forEach(op => {\n\t\t\tthis[op] = (...args) => {\n\t\t\t\tthis._ops.push({\n\t\t\t\t\top,\n\t\t\t\t\targs\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t}\n\tcommand(name, ...args) {\n\t\targs = args || [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\targs[i] -= 0;\n\t\t}\n\t\tthis._commands[name](...args);\n\t}\n\tparse(d) {\n\t\tconst ops = this._ops = [];\n\t\tconst tokens = pathTokens(d);\n\t\ttry {\n\t\t\tlet cmd;\n\t\t\tlet subsequentCommand;\n\t\t\twhile (cmd = tokens.next()) {\n\t\t\t\tif (!isNaN(cmd - 0)) {\n\t\t\t\t\tlet fst = true;\n\t\t\t\t\tconst argsProvider = {\n\t\t\t\t\t\tnext() {\n\t\t\t\t\t\t\tif (fst) {\n\t\t\t\t\t\t\t\tfst = false;\n\t\t\t\t\t\t\t\treturn cmd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn tokens.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\n\t\t\t\t} else {\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(`Error: ${d}`);\n\t\t\tthrow e;\n\t\t}\n\t\treturn ops;\n\t}\n}\n\nmodule.exports = PathCommandsParser;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*eslint new-cap: \"off\"*/\n\n\nfunction mag(v) {\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n\treturn u[0] * v[0] + u[1] * v[1];\n}\n\nfunction ratio(u, v) {\n\treturn dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n\tlet sign = 1.0;\n\tif (u[0] * v[1] - u[1] * v[0] < 0) {\n\t\tsign = -1.0;\n\t}\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n\treturn [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n\treturn [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n\treturn [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n\t// Convert from endpoint to center parametrization, as detailed in:\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\tif (rx === 0 || ry === 0) {\n\t\tctx.lineTo(x2, x1);\n\t\treturn;\n\t}\n\tphi *= Math.PI / 180.0;\n\trx = Math.abs(rx);\n\try = Math.abs(ry);\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\tconst xPrime2 = pointMul(xPrime, xPrime);\n\tlet rx2 = Math.pow(rx, 2);\n\tlet ry2 = Math.pow(ry, 2);\n\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\tif (lambda > 1) {\n\t\trx *= lambda;\n\t\try *= lambda;\n\t\trx2 = Math.pow(rx, 2);\n\t\try2 = Math.pow(ry, 2);\n\t}\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) / (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\tif (fA === fS) {\n\t\tfactor *= -1.0;\n\t}\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\tconst start = theta;\n\tconst end = theta + deltaTheta;\n\tctx.save();\n\tctx.translate(c[0], c[1]);\n\tctx.rotate(phi);\n\tctx.scale(rx, ry);\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\n\tctx.restore();\n}\n\nclass PathCommands {\n\tconstructor(ctx) {\n\t\tlet lMx;\n\t\tlet lMy;\n\t\tlet lx = 0;\n\t\tlet ly = 0;\n\t\tlet reflected;\n\t\tlet lastCommand = '';\n\t\tfunction makeReflected() {\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n\t\t\t\treturn { x: lx, y: ly };\n\t\t\t}\n\t\t\treturn reflected;\n\t\t}\n\n\t\tthis.M = (px, py) => {\n\t\t\tctx.moveTo(px, py);\n\t\t\tlMx = px;\n\t\t\tlMy = py;\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'M';\n\t\t\treturn this;\n\t\t};\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\n\t\tthis.L = (px, py) => {\n\t\t\tctx.lineTo(px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'L';\n\t\t\treturn this;\n\t\t};\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\n\t\tthis.H = px => this.L(px, ly);\n\t\tthis.h = px => this.H(px + lx);\n\t\tthis.V = py => this.L(lx, py);\n\t\tthis.v = py => this.V(py + ly);\n\t\tthis.Z = () => {\n\t\t\tctx.closePath();\n\t\t\tlx = lMx;\n\t\t\tly = lMy;\n\t\t\tlastCommand = 'Z';\n\t\t\treturn this;\n\t\t};\n\t\tthis.z = () => this.Z();\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cp2x,\n\t\t\t\ty: 2 * py - cp2y\n\t\t\t};\n\t\t\tlastCommand = 'C';\n\t\t\treturn this;\n\t\t};\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\n\t\tthis.S = (cpx, cpy, px, py) => {\n\t\t\tconst { x: cp1x, y: cp1y } = makeReflected(lastCommand);\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\n\t\t};\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\n\t\tthis.Q = (cpx, cpy, px, py) => {\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cpx,\n\t\t\t\ty: 2 * py - cpy\n\t\t\t};\n\t\t\tlastCommand = 'Q';\n\t\t\treturn this;\n\t\t};\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//T x y (or t dx dy)\n\t\tthis.T = (px, py) => {\n\t\t\tconst { x: cpx, y: cpy } = makeReflected();\n\t\t\treturn this.Q(cpx, cpy, px, py);\n\t\t};\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n\t\t\tconst x1 = lx;\n\t\t\tconst y1 = ly;\n\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'A';\n\t\t\treturn this;\n\t\t};\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n\t}\n}\n\nmodule.exports = PathCommands;\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst Header = __webpack_require__(118);\n\tconst SortHeader = __webpack_require__(120);\n\n\tconst type = {\n\t\tcreate(headerCell) {\n\t\t\tif (headerCell.sort) {\n\t\t\t\treturn new SortHeader(headerCell);\n\t\t\t}\n\t\t\treturn new Header(headerCell);\n\t\t}\n\t};\n\tmodule.exports = type;\n}\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(16);\n\tconst { Style } = styleContents;\n\tconst BaseHeader = __webpack_require__(56);\n\n\tclass Header extends BaseHeader {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont\n\t\t\t});\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = Header;\n}\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst BaseStyle = __webpack_require__(55);\n\tlet defaultStyle;\n\tclass Style extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : defaultStyle = new Style();\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n{\n\tconst styleContents = __webpack_require__(16);\n\tconst { Style } = styleContents;\n\tconst BaseHeader = __webpack_require__(56);\n\tconst { isDef } = __webpack_require__(0);\n\tconst { getFontSize } = __webpack_require__(8);\n\tconst { EVENT_TYPE: {\n\t\t\tCLICK_CELL,\n\t\t\tMOUSEOVER_CELL,\n\t\t\tMOUSEOUT_CELL,\n\t\t\tMOUSEMOVE_CELL\n\t\t} } = __webpack_require__(4);\n\n\tclass SortHeader extends BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tsuper(headerCell);\n\t\t\tthis._sort = headerCell.sort;\n\t\t\tthis._range = headerCell.range;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, { drawCellBase }) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tcolor,\n\t\t\t\tbgColor,\n\t\t\t\tfont\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst state = grid.sortState;\n\t\t\tlet order = undefined;\n\t\t\tif (this._range.isCellInRange(state.col, this._range.startRow)) {\n\t\t\t\t({ order } = state);\n\t\t\t}\n\n\t\t\tconst ctx = context.getContext();\n\t\t\tconst arrowSize = getFontSize(ctx, font).width * 1.2;\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\ticons: [{\n\t\t\t\t\tname: isDef(order) ? order === 'asc' ? 'arrow_downward' : 'arrow_upward' : null,\n\t\t\t\t\twidth: arrowSize,\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.38)'\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\t\t_executeSort(newState, grid) {\n\t\t\tif (typeof this._sort === 'function') {\n\t\t\t\tthis._sort(newState.order, newState.col, grid);\n\t\t\t} else {\n\t\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\n\t\t\t}\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [grid.listen(CLICK_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst state = grid.sortState;\n\t\t\t\tlet newState;\n\t\t\t\tif (this._range.isCellInRange(state.col, e.row)) {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tnewState = {\n\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\torder: 'asc'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tgrid.sortState = newState;\n\t\t\t\tthis._executeSort(newState, grid);\n\t\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n\t\t\t}),\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\t//MOUSEENTER'col-resize'move\n\t\t\tgrid.listen(MOUSEMOVE_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t}), grid.listen(MOUSEOUT_CELL, e => {\n\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t})];\n\t\t}\n\t}\n\tmodule.exports = SortHeader;\n}\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { isPromise } = __webpack_require__(0);\nconst {\n\tSELECTED_CELL,\n\tSCROLL,\n\tCHANGED_VALUE\n} = __webpack_require__(57);\nconst ErrorMessage = __webpack_require__(122);\nconst WarningMessage = __webpack_require__(128);\nconst InfoMessage = __webpack_require__(132);\n\nconst EMPTY_MESSAGE = {\n\ttype: 'error',\n\tmessage: undefined\n};\n\nconst MESSAGE_INSTANCE_FACTORY = {\n\terror(grid) {\n\t\treturn new ErrorMessage(grid);\n\t},\n\tinfo(grid) {\n\t\treturn new InfoMessage(grid);\n\t},\n\twarning(grid) {\n\t\treturn new WarningMessage(grid);\n\t}\n};\n\nfunction normalizeMessage(message) {\n\tif (!message || isPromise(message)) {\n\t\treturn EMPTY_MESSAGE;\n\t}\n\tif (typeof message === 'string') {\n\t\treturn {\n\t\t\ttype: 'error',\n\t\t\tmessage,\n\t\t\toriginal: message\n\t\t};\n\t}\n\tconst type = message.type || 'error';\n\tif (type && type in MESSAGE_INSTANCE_FACTORY) {\n\t\treturn {\n\t\t\ttype: type.toLowerCase(),\n\t\t\tmessage: `${message.message}`,\n\t\t\toriginal: message\n\t\t};\n\t}\n\treturn {\n\t\ttype: 'error',\n\t\tmessage: `${message}`,\n\t\toriginal: message\n\t};\n}\nfunction hasMessage(message) {\n\treturn !!normalizeMessage(message).message;\n}\nclass MessageHandler {\n\tconstructor(grid, getMessage) {\n\t\tthis._grid = grid;\n\t\tthis._messageInstances = {};\n\t\tthis._bindGridEvent(grid, getMessage);\n\t}\n\tdispose() {\n\t\tconst messageInstances = this._messageInstances;\n\t\tfor (const k in messageInstances) {\n\t\t\tmessageInstances[k].dispose();\n\t\t}\n\t\tthis._messageInstances = null;\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\n\t\tif (!hasMessage(message)) {\n\t\t\treturn;\n\t\t}\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tinstance.drawCellMessage(message, context, style, helper, info);\n\t}\n\t_attach(col, row, message) {\n\t\tconst info = this._attachInfo;\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tif (info && info.instance !== instance) {\n\t\t\tinfo.instance.detachMessageElement();\n\t\t}\n\t\tinstance.attachMessageElement(col, row, normalizeMessage(message));\n\t\tthis._attachInfo = { col, row, instance };\n\t}\n\t_move(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info || info.col !== col || info.row !== row) {\n\t\t\treturn;\n\t\t}\n\t\tconst { instance } = info;\n\t\tinstance.moveMessageElement(col, row);\n\t}\n\t_detach() {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn;\n\t\t}\n\t\tconst { instance } = info;\n\t\tinstance.detachMessageElement();\n\t\tthis._attachInfo = null;\n\t}\n\t_bindGridEvent(grid, getMessage) {\n\t\tconst onSelectMessage = sel => {\n\t\t\tconst message = getMessage(sel.col, sel.row);\n\t\t\tif (!hasMessage(message)) {\n\t\t\t\tthis._detach();\n\t\t\t} else {\n\t\t\t\tthis._attach(sel.col, sel.row, message);\n\t\t\t}\n\t\t};\n\t\tgrid.listen(SELECTED_CELL, e => {\n\t\t\tif (!e.selected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e.before.col === e.col && e.before.row === e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t\tgrid.listen(SCROLL, () => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tthis._move(sel.col, sel.row);\n\t\t});\n\t\tgrid.listen(CHANGED_VALUE, e => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (sel.col !== e.col || sel.row !== e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t}\n\t_getMessageInstanceOfMessage(message) {\n\t\tconst messageInstances = this._messageInstances;\n\t\tconst { type } = normalizeMessage(message);\n\t\treturn messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n\t}\n}\n\nmodule.exports = MessageHandler;\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(26);\nconst ErrorMessageElement = __webpack_require__(123);\nconst messageUtils = __webpack_require__(28);\n\nconst RED_A100 = '#ff8a80';\n\nclass ErrorMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new ErrorMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst { bgColor } = style;\n\t\tconst { selected } = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: RED_A100,\n\t\t\t\t\tcolor: bgColor\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = ErrorMessage;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(27);\n\nconst CLASSNAME = 'cheetah-grid__error-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass ErrorMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\t__webpack_require__(126);\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = ErrorMessageElement;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(125);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;user-select:none}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}.cheetah-grid__message-element{border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(127);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(26);\nconst WarningMessageElement = __webpack_require__(129);\nconst messageUtils = __webpack_require__(28);\n\nconst DEEP_ORANGE_A100 = '#ff9e80';\n\nclass WarningMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new WarningMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst { bgColor } = style;\n\t\tconst { selected } = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: DEEP_ORANGE_A100,\n\t\t\t\t\tcolor: bgColor\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = WarningMessage;\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst MessageElement = __webpack_require__(27);\n\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass WarningMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\t__webpack_require__(130);\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = WarningMessageElement;\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar content = __webpack_require__(131);\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(7)(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n/***/ }),\n/* 131 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(6)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 132 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst BaseMessage = __webpack_require__(26);\nconst MessageElement = __webpack_require__(27);\nconst messageUtils = __webpack_require__(28);\n\nconst GREY_L2 = '#e0e0e0';\n\nclass InfoMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new MessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst { bgColor } = style;\n\t\tconst { selected } = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, ctx => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawInfomationMarkBox(context, {\n\t\t\t\t\tbgColor: GREY_L2,\n\t\t\t\t\tcolor: bgColor\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InfoMessage;\n\n/***/ }),\n/* 133 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst themePlugins = __webpack_require__(46);\nconst iconPlugins = __webpack_require__(53);\n\nfunction register(obj, name, value) {\n\tif (value) {\n\t\tconst old = obj[name];\n\t\tobj[name] = value;\n\t\treturn old;\n\t} else {\n\t\treturn obj[name];\n\t}\n}\nfunction registers(obj, values) {\n\tfor (const k in values) {\n\t\tobj[k] = values[k];\n\t}\n}\nmodule.exports = {\n\ttheme(name, theme) {\n\t\treturn register(themePlugins, name, theme);\n\t},\n\ticon(name, icon) {\n\t\treturn register(iconPlugins, name, icon);\n\t},\n\ticons(icons) {\n\t\tregisters(iconPlugins, icons);\n\t}\n};\n\n/***/ })\n/******/ ]);\n});\n}).call(typeof global !== \"undefined\" ? global : window);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 58);\n","'use strict';\n{\n\tlet arrayFind;\n\tlet arrayFindIndex;\n\tconst array = {\n\t\tget find() {\n\t\t\tif (arrayFind) {\n\t\t\t\treturn arrayFind;\n\t\t\t}\n\t\t\tif (Array.prototype.find) {\n\t\t\t\tarrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFind = (arr, predicate) => {\n\t\t\t\t\tconst index = array.findIndex(arr, predicate);\n\t\t\t\t\treturn index >= 0 ? arr[index] : undefined;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFind;\n\t\t},\n\t\tget findIndex() {\n\t\t\tif (arrayFindIndex) {\n\t\t\t\treturn arrayFindIndex;\n\t\t\t}\n\t\t\tif (Array.prototype.findIndex) {\n\t\t\t\tarrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n\t\t\t} else {\n\t\t\t\tarrayFindIndex = (arr, predicate) => {\n\t\t\t\t\tconst {length} = arr;\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tconst value = arr[i];\n\t\t\t\t\t\tif (predicate(value, i, arr)) {\n\t\t\t\t\t\t\treturn i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn -1;\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn arrayFindIndex;\n\t\t},\n\t};\n\n\tfunction isDef(data) {\n\t\treturn data !== null && typeof data !== 'undefined';\n\t}\n\tconst ua = window.navigator.userAgent.toLowerCase();\n\tconst IE = (ua.match(/(msie)/) || ua.match(/trident/));\n\tconst Chrome = (ua.indexOf('chrome') > -1) && (ua.indexOf('edge') === -1);\n\tconst Firefox = (ua.indexOf('firefox') > -1);\n\n\tfunction setReadonly(obj, name, value) {\n\t\tObject.defineProperty(obj, name, {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue,\n\t\t});\n\t}\n\n\tfunction each(obj, fn) {\n\t\tfor (const key in obj) {\n\t\t\tfn(obj[key], key, obj);\n\t\t}\n\t}\n\n\tfunction isObject(obj) {\n\t\treturn obj === Object(obj);\n\t}\n\n\tfunction extend(...args) {\n\t\tconst result = {};\n\t\targs.forEach((source) => {\n\t\t\tfor (const key in source) {\n\t\t\t\tObject.defineProperty(result, key, {\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn source[key];\n\t\t\t\t\t},\n\t\t\t\t\tset(val) {\n\t\t\t\t\t\tsource[key] = val;\n\t\t\t\t\t},\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\tfunction isDescendantElement(root, target) {\n\t\twhile (target.parentElement) {\n\t\t\tconst p = target.parentElement;\n\t\t\tif (root === p) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\ttarget = p;\n\t\t}\n\t\treturn false;\n\t}\n\tfunction applyChainSafe(obj, fn, ...names) {\n\t\tlet value = obj;\n\t\tfor (let i = 0; i < names.length && isDef(value); i++) {\n\t\t\tvalue = fn(value, names[i]);\n\t\t}\n\t\treturn value;\n\t}\n\tfunction getChainSafe(obj, ...names) {\n\t\treturn applyChainSafe(obj, (val, name) => val[name], ...names);\n\t}\n\tfunction getOrApply(value, ...args) {\n\t\tif (typeof value === 'function') {\n\t\t\treturn value(...args);\n\t\t} else {\n\t\t\treturn value;\n\t\t}\n\t}\n\tfunction endsWith(str, searchString, position) {\n\t\tconst subjectString = str.toString();\n\t\tif (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n\t\t\tposition = subjectString.length;\n\t\t}\n\t\tposition -= searchString.length;\n\t\tconst lastIndex = subjectString.lastIndexOf(searchString, position);\n\t\treturn lastIndex !== -1 && lastIndex === position;\n\t}\n\tconst isPromise = (data) => data && typeof data.then === 'function';\n\tconst then = (result, callback) => isPromise(result) ? result.then((r) => callback(r)) : callback(result);\n\tfunction getMouseButtons(e) {\n\t\tif (isDef(e.buttons)) {\n\t\t\treturn e.buttons;\n\t\t}\n\t\t/*for legacy*/\n\t\tif (isDef(e.which)) {\n\t\t\tif (e.which === 3) { //right?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\tif (e.which === 2) { //middle?\n\t\t\t\treturn 4;\n\t\t\t}\n\t\t\treturn e.which;//left or no\n\t\t}\n\n\t\tif (e.button === 0 || e.button === 1) {\n\t\t\treturn 1;//candidate left\n\t\t}\n\t\tif (e.button === 2) {\n\t\t\treturn 2;// right\n\t\t}\n\t\treturn 0;//no or middle?\n\t}\n\tfunction getKeyCode(e) {\n\t\treturn e.keyCode || e.which;\n\t}\n\tfunction isTouchEvent(e) {\n\t\treturn !!e.changedTouches;\n\t}\n\tfunction getIgnoreCase(obj, name) {\n\t\tif (obj[name]) {\n\t\t\treturn obj[name];\n\t\t}\n\t\tconst l = name.toLowerCase();\n\t\tif (obj[l]) {\n\t\t\treturn obj[l];\n\t\t}\n\t\tconst u = name.toLowerCase();\n\t\tif (obj[u]) {\n\t\t\treturn obj[u];\n\t\t}\n\t\tfor (const k in obj) {\n\t\t\tif (k.toLowerCase() === l) {\n\t\t\t\treturn obj[k];\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\tfunction cancel(e) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}\n\n\n\tfunction toBoxArray(obj) {\n\t\tif (!Array.isArray(obj)) {\n\t\t\treturn [obj/*top*/, obj/*right*/, obj/*bottom*/, obj/*left*/];\n\t\t}\n\t\tif (obj.length === 3) {\n\t\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[2]/*bottom*/, obj[1]/*left*/];\n\t\t}\n\t\tif (obj.length === 2) {\n\t\t\treturn [obj[0]/*top*/, obj[1]/*right*/, obj[0]/*bottom*/, obj[1]/*left*/];\n\t\t}\n\t\tif (obj.length === 1) {\n\t\t\treturn [obj[0]/*top*/, obj[0]/*right*/, obj[0]/*bottom*/, obj[0]/*left*/];\n\t\t}\n\t\treturn obj;\n\t}\n\n\t// Chrome 33554431\n\t// FireFox 17895588\n\t// IE 10737433\n\tmodule.exports = {\n\t\tisDef,\n\t\tbrowser: {\n\t\t\tIE,\n\t\t\tChrome,\n\t\t\tFirefox,\n\t\t\theightLimit: Chrome ? 33554431\n\t\t\t: Firefox ? 17895588\n\t\t\t: 10737433 // default IE limit\n\t\t},\n\t\textend,\n\t\tisDescendantElement,\n\t\tgetChainSafe,\n\t\tapplyChainSafe,\n\t\tgetOrApply,\n\t\tgetIgnoreCase,\n\t\tisPromise,\n\t\tthen,\n\t\tarray,\n\t\tobj: {\n\t\t\tsetReadonly,\n\t\t\teach,\n\t\t\tisObject,\n\t\t},\n\t\tstr: {\n\t\t\tendsWith\n\t\t},\n\t\tevent: {\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tisTouchEvent,\n\t\t\tcancel,\n\t\t},\n\t\tstyle: {\n\t\t\ttoBoxArray,\n\t\t},\n\t\temptyFn() {},\n\t};\n}","'use strict';\n{\n\tconst Symbol = window.Symbol ? window.Symbol : (() => {\n\t\tlet nextId = 1;\n\t\treturn (name) => {\n\t\t\tconst id = nextId++;\n\t\t\tif (name) {\n\t\t\t\treturn ` $$$ ${name} - ${id} $$$ `;\n\t\t\t} else {\n\t\t\t\treturn ` $$$ ${id} $$$ `;\n\t\t\t}\n\t\t};\n\t})();\n\tconst mem = {};\n\n\tmodule.exports = {\n\t\tget(name) {\n\t\t\tif (name) {\n\t\t\t\treturn mem[name] ? mem[name] : (mem[name] = Symbol(name));\n\t\t\t} else {\n\t\t\t\treturn Symbol();\n\t\t\t}\n\t\t},\n\t\tget PROTECTED_SYMBOL() {\n\t\t\treturn this.get('protected');\n\t\t},\n\t\tget CHECK_COLUMN_STATE_ID() {\n\t\t\treturn this.get('chkcol.stateID');\n\t\t},\n\t\tget BUTTON_COLUMN_STATE_ID() {\n\t\t\treturn this.get('btncol.stateID');\n\t\t},\n\t\tget COLUMN_FADEIN_STATE_ID() {\n\t\t\treturn this.get('col.fadein_stateID');\n\t\t},\n\t\tget BRANCH_GRAPH_COLUMN_STATE_ID() {\n\t\t\treturn this.get('branch_graph_col.stateID');\n\t\t},\n\t\tget SMALL_DIALOG_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('small_dialog_input_editor.stateID');\n\t\t},\n\t\tget INLINE_INPUT_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_input_editor.stateID');\n\t\t},\n\t\tget INLINE_MENU_EDITOR_STATE_ID() {\n\t\t\treturn this.get('inline_menu_editor.stateID');\n\t\t}\n\t};\n\n}","'use strict';\n\nmodule.exports = {\n\t'Array_isArray': window.Array.isArray\n};","'use strict';\n{\n\tconst StdBaseStyle = require('./StdBaseStyle');\n\tlet defaultStyle;\n\tclass Style extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t\tthis._font = style.font;\n\t\t\tthis._padding = style.padding;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget font() {\n\t\t\treturn this._font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis._font = font;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget padding() {\n\t\t\treturn this._padding;\n\t\t}\n\t\tset padding(padding) {\n\t\t\tthis._padding = padding;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}","'use strict';\n{\n\tconst {\n\t\tisDef,\n\t\tbrowser,\n\t\tisDescendantElement,\n\t\tarray,\n\t\tisPromise,\n\t\tevent: {\n\t\t\tisTouchEvent,\n\t\t\tgetMouseButtons,\n\t\t\tgetKeyCode,\n\t\t\tcancel: cancelEvent,\n\t\t}\n\t} = require('../internal/utils');\n\n\tconst EventTarget = require('./EventTarget');\n\tconst Rect = require('../internal/Rect');\n\tconst Scrollable = require('../internal/Scrollable');\n\tconst EventHandler = require('../internal/EventHandler');\n\tconst NumberMap = require('../internal/NumberMap');\n\tconst style = require('../internal/style');\n\tconst calc = require('../internal/calc');\n\tconst {getFontSize} = require('../internal/canvases');\n\tconst hiDPI = require('../internal/hiDPI');\n\t//protected symbol\n\tconst {PROTECTED_SYMBOL: _} = require('../internal/symbolManager');\n\n\tfunction createRootElement() {\n\t\tconst element = document.createElement('div');\n\t\telement.classList.add('cheetah-grid');\n\t\treturn element;\n\t}\n\n\tconst KEY_END = 35;\n\tconst KEY_HOME = 36;\n\tconst KEY_LEFT = 37;\n\tconst KEY_UP = 38;\n\tconst KEY_RIGHT = 39;\n\tconst KEY_DOWN = 40;\n\tconst KEY_ALPHA_C = 67;\n\n\tconst EVENT_TYPE = {\n\t\tCLICK_CELL: 'click_cell',\n\t\tDBLCLICK_CELL: 'dblclick_cell',\n\t\tDBLTAP_CELL: 'dbltap_cell',\n\t\tMOUSEDOWN_CELL: 'mousedown_cell',\n\t\tMOUSEUP_CELL: 'mouseup_cell',\n\t\tSELECTED_CELL: 'selected_cell',\n\t\tKEYDOWN: 'keydown',\n\t\tMOUSEMOVE_CELL: 'mousemove_cell',\n\t\tMOUSEENTER_CELL: 'mouseenter_cell',\n\t\tMOUSELEAVE_CELL: 'mouseleave_cell',\n\t\tMOUSEOVER_CELL: 'mouseover_cell',\n\t\tMOUSEOUT_CELL: 'mouseout_cell',\n\t\tINPUT_CELL: 'input_cell',\n\t\tEDITABLEINPUT_CELL: 'editableinput_cell',\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL: 'modify_status_editableinput_cell',\n\t\tRESIZE_COLUMN: 'resize_column',\n\t\tSCROLL: 'scroll',\n\t};\n\n\t//private methods\n\tfunction _vibrate(e) {\n\t\tif (navigator.vibrate && isTouchEvent(e)) {\n\t\t\tnavigator.vibrate(50);\n\t\t}\n\t}\n\tfunction _getTargetRowAt(grid, absoluteY) {\n\t\tconst internal = grid.getTargetRowAtInternal(absoluteY);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst findBefore = (startRow, startBottom) => {\n\t\t\tlet bottom = startBottom;\n\t\t\tfor (let row = startRow; row >= 0; row--) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst top = bottom - height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tbottom = top;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst findAfter = (startRow, startBottom) => {\n\t\t\tlet top = startBottom - _getRowHeight(grid, startRow);\n\t\t\tconst {rowCount} = grid[_];\n\t\t\tfor (let row = startRow; row < rowCount; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\tconst bottom = top + height;\n\t\t\t\tif (top <= absoluteY && absoluteY < bottom) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\trow,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\ttop = bottom;\n\t\t\t}\n\t\t\treturn null;\n\t\t};\n\t\tconst candRow = Math.min(Math.ceil(absoluteY / grid[_].defaultRowHeight), grid.rowCount - 1);\n\t\tconst bottom = _getRowsHeight(grid, 0, candRow);\n\t\tif (absoluteY >= bottom) {\n\t\t\treturn findAfter(candRow, bottom);\n\t\t} else {\n\t\t\treturn findBefore(candRow, bottom);\n\t\t}\n\t}\n\tfunction _getTargetColAt(grid, absoluteX) {\n\t\tlet left = 0;\n\t\tconst {colCount} = grid[_];\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol,\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenRowAt(grid, absoluteY) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet {top} = grid[_].scroll;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\tconst bottom = top + height;\n\t\t\tif (bottom > absoluteY) {\n\t\t\t\treturn {\n\t\t\t\t\ttop,\n\t\t\t\t\trow,\n\t\t\t\t};\n\t\t\t}\n\t\t\ttop = bottom;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getTargetFrozenColAt(grid, absoluteX) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tlet {left} = grid[_].scroll;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\tconst right = left + width;\n\t\t\tif (right > absoluteX) {\n\t\t\t\treturn {\n\t\t\t\t\tleft,\n\t\t\t\t\tcol,\n\t\t\t\t};\n\t\t\t}\n\t\t\tleft = right;\n\t\t}\n\t\treturn null;\n\t}\n\tfunction _getFrozenRowsRect(grid) {\n\t\tif (!grid[_].frozenRowCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst {top} = grid[_].scroll;\n\t\tlet height = 0;\n\t\tconst rowCount = grid[_].frozenRowCount;\n\t\tfor (let row = 0; row < rowCount; row++) {\n\t\t\theight += _getRowHeight(grid, row);\n\t\t}\n\t\treturn new Rect(\n\t\t\t\tgrid[_].scroll.left,\n\t\t\t\ttop,\n\t\t\t\tgrid[_].canvas.width,\n\t\t\t\theight\n\t\t);\n\t}\n\tfunction _getFrozenColsRect(grid) {\n\t\tif (!grid[_].frozenColCount) {\n\t\t\treturn null;\n\t\t}\n\t\tconst {left} = grid[_].scroll;\n\t\tlet width = 0;\n\t\tconst colCount = grid[_].frozenColCount;\n\t\tfor (let col = 0; col < colCount; col++) {\n\t\t\twidth += _getColWidth(grid, col);\n\t\t}\n\t\treturn new Rect(\n\t\t\t\tleft,\n\t\t\t\tgrid[_].scroll.top,\n\t\t\t\twidth,\n\t\t\t\tgrid[_].canvas.height\n\t\t);\n\t}\n\tfunction _getCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn grid[_].drawCells[row][col];\n\t}\n\tfunction _putCellDrawing(grid, col, row, context) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\tgrid[_].drawCells[row] = {};\n\t\t}\n\t\tgrid[_].drawCells[row][col] = context;\n\t}\n\tfunction _removeCellDrawing(grid, col, row) {\n\t\tif (!grid[_].drawCells[row]) {\n\t\t\treturn;\n\t\t}\n\t\tdelete grid[_].drawCells[row][col];\n\t\tif (Object.keys(grid[_].drawCells[row]).length === 0) {\n\t\t\tdelete grid[_].drawCells[row];\n\t\t}\n\t}\n\tfunction _drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\t\tskipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n\t\tconst rect = new Rect(\n\t\t\t\tabsoluteLeft - visibleRect.left,\n\t\t\t\tabsoluteTop - visibleRect.top,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t);\n\n\t\tconst drawRect = Rect.bounds(\n\t\t\t\tMath.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left,\n\t\t\t\tMath.max(absoluteTop, skipAbsoluteTop) - visibleRect.top,\n\t\t\t\trect.right,\n\t\t\t\trect.bottom\n\t\t);\n\n\t\tif (drawRect.height > 0 && drawRect.width > 0) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tconst cellDrawing = _getCellDrawing(grid, col, row);\n\t\t\t\tif (cellDrawing) {\n\t\t\t\t\tcellDrawing.cancel();\n\t\t\t\t}\n\t\t\t\tconst dcContext = new DrawCellContext(\n\t\t\t\t\t\tcol, row,\n\t\t\t\t\t\tctx, rect, drawRect,\n\t\t\t\t\t\t!!cellDrawing,\n\t\t\t\t\t\tgrid[_].selection,\n\t\t\t\t\t\tdrawLayers\n\t\t\t\t);\n\t\t\t\tconst p = grid.onDrawCell(col, row, dcContext);\n\t\t\t\tif (isPromise(p)) {\n\t\t\t\t\t//\n\t\t\t\t\t_putCellDrawing(grid, col, row, dcContext);\n\n\t\t\t\t\tconst pCol = col;\n\t\t\t\t\tdcContext._delayMode(grid, () => {\n\t\t\t\t\t\t_removeCellDrawing(grid, pCol, row);\n\t\t\t\t\t});\n\t\t\t\t\tp.then(() => {\n\t\t\t\t\t\tdcContext.terminate();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _drawRow(grid, ctx, initFrozenCol, initCol,\n\t\t\tdrawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n\t\tconst {colCount} = grid[_];\n\t\tconst drawOuter = (col, absoluteLeft) => {\n\t\t\t//\n\t\t\tif (col >= (colCount - 1) && grid[_].canvas.width > (absoluteLeft - visibleRect.left)) {\n\t\t\t\tconst outerLeft = absoluteLeft - visibleRect.left;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteLeft = 0;\n\t\tif (initFrozenCol) {\n\t\t\tlet absoluteLeft = initFrozenCol.left;\n\t\t\tconst count = grid[_].frozenColCount;\n\t\t\tfor (let {col} = initFrozenCol; col < count; col++) {\n\t\t\t\tconst width = _getColWidth(grid, col);\n\n\t\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\t\t\t\t\tskipAbsoluteTop, 0,\n\t\t\t\t\t\tdrawLayers);\n\n\t\t\t\tabsoluteLeft += width;\n\t\t\t\tif (drawRight <= absoluteLeft) { //\n\t\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteLeft = absoluteLeft;\n\t\t}\n\n\t\tlet absoluteLeft = initCol.left;\n\t\tfor (let {col} = initCol; col < colCount; col++) {\n\t\t\tconst width = _getColWidth(grid, col);\n\t\t\t_drawCell(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect,\n\t\t\t\t\tskipAbsoluteTop, skipAbsoluteLeft,\n\t\t\t\t\tdrawLayers);\n\n\t\t\tabsoluteLeft += width;\n\t\t\tif (drawRight <= absoluteLeft) { //\n\t\t\t\tdrawOuter(col, absoluteLeft);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(colCount - 1, absoluteLeft);\n\n\t}\n\tfunction _invalidateRect(grid, drawRect) {\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tconst {rowCount} = grid[_];\n\t\tconst ctx = grid._getInitContext();\n\n\t\tconst initRow = _getTargetRowAt(grid, Math.max(visibleRect.top, drawRect.top)) || {\n\t\t\ttop: _getRowsHeight(grid, 0, rowCount - 1),\n\t\t\trow: rowCount\n\t\t};\n\t\tconst initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n\t\t\tleft: _getColsWidth(grid, 0, grid[_].colCount - 1),\n\t\t\tcol: grid[_].colCount\n\t\t};\n\t\tconst drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n\t\tconst drawRight = Math.min(visibleRect.right, drawRect.right);\n\n\t\tconst initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\t\tconst initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n\t\tconst drawLayers = new DrawLayers();\n\n\t\tconst drawOuter = (row, absoluteTop) => {\n\t\t\t//\n\t\t\tif (row >= (rowCount - 1) && grid[_].canvas.height > (absoluteTop - visibleRect.top)) {\n\t\t\t\tconst outerTop = absoluteTop - visibleRect.top;\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.fillStyle = grid.underlayBackgroundColor || '#F6F6F6';\n\t\t\t\tctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t};\n\n\t\tlet skipAbsoluteTop = 0;\n\t\tif (initFrozenRow) {\n\t\t\tlet absoluteTop = initFrozenRow.top;\n\t\t\tconst count = grid[_].frozenRowCount;\n\t\t\tfor (let {row} = initFrozenRow; row < count; row++) {\n\t\t\t\tconst height = _getRowHeight(grid, row);\n\t\t\t\t_drawRow(grid,\n\t\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\n\t\t\t\t\t\trow, absoluteTop, height, visibleRect, 0,\n\t\t\t\t\t\tdrawLayers\n\t\t\t\t);\n\t\t\t\tabsoluteTop += height;\n\t\t\t\tif (drawBottom <= absoluteTop) { //\n\t\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tskipAbsoluteTop = absoluteTop;\n\t\t}\n\n\t\tlet absoluteTop = initRow.top;\n\t\tfor (let {row} = initRow; row < rowCount; row++) {\n\t\t\tconst height = _getRowHeight(grid, row);\n\n\t\t\t//\n\t\t\t_drawRow(grid,\n\t\t\t\t\tctx, initFrozenCol, initCol, drawRight,\n\t\t\t\t\trow, absoluteTop, height, visibleRect, skipAbsoluteTop,\n\t\t\t\t\tdrawLayers\n\t\t\t);\n\n\t\t\tabsoluteTop += height;\n\t\t\tif (drawBottom <= absoluteTop) { //\n\t\t\t\tdrawOuter(row, absoluteTop);\n\t\t\t\tdrawLayers.draw(ctx);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tdrawOuter(rowCount - 1, absoluteTop);\n\n\t\tdrawLayers.draw(ctx);\n\t}\n\n\tfunction _toPxWidth(grid, width) {\n\t\treturn Math.round(calc.toPx(width, grid[_].calcWidthContext));\n\t}\n\n\tfunction _getDefaultColPxWidth(grid) {\n\t\treturn _toPxWidth(grid, grid.defaultColWidth);\n\t}\n\n\tfunction _adjustColWidth(grid, col, orgWidth) {\n\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\tif (!limit) {\n\t\t\treturn orgWidth;\n\t\t}\n\n\t\tif (limit.min) {\n\t\t\tconst min = _toPxWidth(grid, limit.min);\n\t\t\tif (min > orgWidth) {\n\t\t\t\treturn min;\n\t\t\t}\n\t\t}\n\t\tif (limit.max) {\n\t\t\tconst max = _toPxWidth(grid, limit.max);\n\t\t\tif (max < orgWidth) {\n\t\t\t\treturn max;\n\t\t\t}\n\t\t}\n\t\treturn orgWidth;\n\t}\n\n\tfunction _getColWidth(grid, col) {\n\t\tconst width = grid[_].colWidthsMap.get(col);\n\t\tif (width) {\n\t\t\treturn _adjustColWidth(grid, col, _toPxWidth(grid, width));\n\t\t}\n\t\treturn _getDefaultColPxWidth(grid);\n\t}\n\tfunction _setColWidth(grid, col, width) {\n\t\tgrid[_].colWidthsMap.put(col, width);\n\t}\n\tfunction _getColsWidth(grid, startCol, endCol) {\n\t\tconst colCount = endCol - startCol + 1;\n\t\tlet w = _getDefaultColPxWidth(grid) * colCount;\n\t\tgrid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\n\tfunction _getRowHeight(grid, row) {\n\t\tconst internal = grid.getRowHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst height = grid[_].rowHeightsMap.get(row);\n\t\tif (height) {\n\t\t\treturn height;\n\t\t}\n\t\treturn grid[_].defaultRowHeight;\n\t}\n\tfunction _setRowHeight(grid, row, height) {\n\t\tgrid[_].rowHeightsMap.put(row, height);\n\t}\n\tfunction _getRowsHeight(grid, startRow, endRow) {\n\t\tconst internal = grid.getRowsHeightInternal(startRow, endRow);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tconst rowCount = endRow - startRow + 1;\n\t\tlet h = grid[_].defaultRowHeight * rowCount;\n\t\tgrid[_].rowHeightsMap.each(startRow, endRow, (height) => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\n\tfunction _getScrollWidth(grid) {\n\t\tlet w = _getDefaultColPxWidth(grid) * grid[_].colCount;\n\t\tgrid[_].colWidthsMap.eachAll((width, col) => {\n\t\t\tw += _adjustColWidth(grid, col, _toPxWidth(grid, width)) - _getDefaultColPxWidth(grid);\n\t\t});\n\t\treturn w;\n\t}\n\tfunction _getScrollHeight(grid, row) {\n\t\tconst internal = grid.getScrollHeightInternal(row);\n\t\tif (isDef(internal)) {\n\t\t\treturn internal;\n\t\t}\n\t\tlet h = grid[_].defaultRowHeight * grid[_].rowCount;\n\t\tgrid[_].rowHeightsMap.eachAll((height) => {\n\t\t\th += height - grid[_].defaultRowHeight;\n\t\t});\n\t\treturn h;\n\t}\n\tfunction _onScroll(grid, e) {\n\t\tconst lastLeft = grid[_].scroll.left;\n\t\tconst lastTop = grid[_].scroll.top;\n\t\tconst moveX = grid[_].scrollable.scrollLeft - lastLeft;\n\t\tconst moveY = grid[_].scrollable.scrollTop - lastTop;\n\n\t\t//\n\t\tgrid[_].scroll = {\n\t\t\tleft: grid[_].scrollable.scrollLeft,\n\t\t\ttop: grid[_].scrollable.scrollTop,\n\t\t};\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\tif ((Math.abs(moveX) >= visibleRect.width) || (Math.abs(moveY) >= visibleRect.height)) {\n\t\t\t//\n\t\t\t_invalidateRect(grid, visibleRect);\n\t\t} else {\n\t\t\t//\n\t\t\tgrid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n\n\t\t\tif (moveX !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveX < 0) {\n\t\t\t\t\tredrawRect.width = -moveX;\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\t\t\t\tredrawRect.width += frozenRect.width;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveX > 0) {\n\t\t\t\t\tredrawRect.left = redrawRect.right - moveX;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveX > 0) {\n\t\t\t\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenColsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (moveY !== 0) {\n\t\t\t\t//\n\t\t\t\tconst redrawRect = visibleRect.copy();\n\t\t\t\tif (moveY < 0) {\n\t\t\t\t\tredrawRect.height = -moveY;\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\t\t\t\tredrawRect.height += frozenRect.height;\n\t\t\t\t\t}\n\t\t\t\t} else if (moveY > 0) {\n\t\t\t\t\tredrawRect.top = redrawRect.bottom - moveY;\n\t\t\t\t}\n\n\t\t\t\t//\n\t\t\t\t_invalidateRect(grid, redrawRect);\n\n\t\t\t\tif (moveY > 0) {\n\t\t\t\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t\t\t\t//\n\t\t\t\t\t\t_invalidateRect(grid, _getFrozenRowsRect(grid));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _onKeyDownMove(grid, e) {\n\t\tconst {shiftKey} = e;\n\t\tconst keyCode = getKeyCode(e);\n\t\tconst focusCell = shiftKey ? grid.selection._focus : grid.selection._sel;\n\t\tif (keyCode === KEY_LEFT) {\n\t\t\tconst col = grid.getMoveLeftColByKeyDownInternal(focusCell);\n\t\t\tif (col < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_UP) {\n\t\t\tconst row = grid.getMoveUpRowByKeyDownInternal(focusCell);\n\t\t\tif (row < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_RIGHT) {\n\t\t\tconst col = grid.getMoveRightColByKeyDownInternal(focusCell);\n\t\t\tif (grid.colCount <= col) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, col, focusCell.row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\tconst row = grid.getMoveDownRowByKeyDownInternal(focusCell);\n\t\t\tif (grid.rowCount <= row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(grid, focusCell.col, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_HOME) {\n\t\t\tconst row = e.ctrlKey ? 0 : focusCell.row;\n\t\t\t_moveFocusCell(grid, 0, row, e.shiftKey);\n\t\t\tcancelEvent(e);\n\t\t} else if (keyCode === KEY_END) {\n\t\t\tconst row = e.ctrlKey ? grid.rowCount - 1 : focusCell.row;\n\t\t\t_moveFocusCell(grid, grid.colCount - 1, row, shiftKey);\n\t\t\tcancelEvent(e);\n\t\t}\n\t}\n\tfunction _moveFocusCell(grid, col, row, shiftKey) {\n\t\tconst offset = grid.getOffsetInvalidateCells();\n\n\t\tfunction extendRange(range) {\n\t\t\tif (offset > 0) {\n\t\t\t\trange.start.col -= offset;\n\t\t\t\trange.start.row -= offset;\n\t\t\t\trange.end.col += offset;\n\t\t\t\trange.end.row += offset;\n\t\t\t}\n\t\t\treturn range;\n\t\t}\n\n\t\tconst beforeRange = extendRange(grid.selection.range);\n\t\tconst beforeRect = grid.getCellsRect(\n\t\t\t\tbeforeRange.start.col, beforeRange.start.row,\n\t\t\t\tbeforeRange.end.col, beforeRange.end.row\n\t\t);\n\n\t\tgrid.selection._setFocusCell(col, row, shiftKey);\n\t\tgrid.makeVisibleCell(col, row);\n\t\tgrid.focusCell(col, row);\n\n\t\tconst afterRange = extendRange(grid.selection.range);\n\t\tconst afterRect = grid.getCellsRect(\n\t\t\t\tafterRange.start.col, afterRange.start.row,\n\t\t\t\tafterRange.end.col, afterRange.end.row\n\t\t);\n\n\t\tif (afterRect.intersection(beforeRect)) {\n\t\t\tconst invalidateRect = Rect.max(afterRect, beforeRect);\n\t\t\t_invalidateRect(grid, invalidateRect);\n\t\t} else {\n\t\t\t_invalidateRect(grid, beforeRect);\n\t\t\t_invalidateRect(grid, afterRect);\n\t\t}\n\t}\n\tfunction _getMouseAbstractPoint(grid, e) {\n\t\tif (isTouchEvent(e)) {\n\t\t\te = e.changedTouches[0];\n\t\t}\n\t\tconst clientX = e.clientX || (e.pageX + window.scrollX);\n\t\tconst clientY = e.clientY || (e.pageY + window.scrollY);\n\t\tconst rect = grid[_].canvas.getBoundingClientRect();\n\t\tif (rect.right <= clientX) {\n\t\t\treturn null;\n\t\t}\n\t\tif (rect.bottom <= clientY) {\n\t\t\treturn null;\n\t\t}\n\t\tconst x = clientX - rect.left + grid[_].scroll.left;\n\t\tconst y = clientY - rect.top + grid[_].scroll.top;\n\t\treturn {x, y};\n\t}\n\n\tfunction _bindEvents(grid) {\n\t\tconst getCellEventArgsSet = (e) => {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tabstractPos,\n\t\t\t\t\tcell\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst eventArgs = {\n\t\t\t\tcol: cell.col,\n\t\t\t\trow: cell.row,\n\t\t\t\tevent: e,\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tabstractPos,\n\t\t\t\tcell,\n\t\t\t\teventArgs\n\t\t\t};\n\t\t};\n\t\tconst canResizeColumn = (col) => {\n\t\t\tconst limit = grid[_].colWidthsLimit[col];\n\t\t\tif (!limit || !limit.min || !limit.max) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn limit.max !== limit.min;\n\t\t};\n\t\tgrid[_].handler.on(grid[_].element, 'mousedown', (e) => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst {abstractPos, eventArgs} = eventArgsSet;\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (eventArgs) {\n\t\t\t\tconst results = grid.fireListeners(EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n\t\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t//\n\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t} else {\n\t\t\t\t//\n\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t}\n\t\t});\n\t\tlet doubleTapBefore = null;\n\t\tlet longTouchId = null;\n\t\tgrid[_].handler.on(grid[_].element, 'touchstart', (e) => {\n\n\t\t\tif (!doubleTapBefore) {\n\t\t\t\tdoubleTapBefore = getCellEventArgsSet(e).eventArgs;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdoubleTapBefore = null;\n\t\t\t\t}, 350);\n\t\t\t} else {\n\t\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\t\t\tif (eventArgs &&\n\t\t\t\t\teventArgs.col === doubleTapBefore.col &&\n\t\t\t\t\teventArgs.row === doubleTapBefore.row) {\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.DBLTAP_CELL, eventArgs);\n\t\t\t\t}\n\n\t\t\t\tdoubleTapBefore = null;\n\n\t\t\t\tif (e.defaultPrevented) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlongTouchId = setTimeout(() => {\n\t\t\t\t//\n\t\t\t\tlongTouchId = null;\n\t\t\t\tconst abstractPos = _getMouseAbstractPoint(grid, e);\n\t\t\t\tif (!abstractPos) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\t\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].columnResizer.start(resizeCol, e);\n\t\t\t\t} else {\n\t\t\t\t\t//\n\t\t\t\t\tgrid[_].cellSelector.start(e);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t});\n\n\t\tfunction cancel(e) {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t}\n\t\tgrid[_].handler.on(grid[_].element, 'touchcancel', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchmove', cancel);\n\t\tgrid[_].handler.on(grid[_].element, 'touchend', (e) => {\n\t\t\tif (longTouchId) {\n\t\t\t\tclearTimeout(longTouchId);\n\t\t\t\tgrid[_].cellSelector.select(e);\n\t\t\t\tlongTouchId = null;\n\t\t\t}\n\t\t});\n\n\t\tlet isMouseover = false;\n\t\tlet mouseEnterCell = null;\n\t\tlet mouseOverCell = null;\n\t\tfunction onMouseenterCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEENTER_CELL, cell);\n\t\t\tmouseEnterCell = cell;\n\t\t}\n\t\tfunction onMouseleaveCell() {\n\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\tmouseEnterCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSELEAVE_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tfunction onMouseoverCell(cell) {\n\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOVER_CELL, cell);\n\t\t\tmouseOverCell = cell;\n\t\t}\n\t\tfunction onMouseoutCell() {\n\t\t\tconst beforeMouseCell = mouseOverCell;\n\t\t\tmouseOverCell = null;\n\t\t\tif (beforeMouseCell) {\n\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEOUT_CELL, {\n\t\t\t\t\tcol: beforeMouseCell.col,\n\t\t\t\t\trow: beforeMouseCell.row,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst scrollElement = grid[_].scrollable.getElement();\n\t\tgrid[_].handler.on(scrollElement, 'mouseover', (e) => {\n\t\t\tisMouseover = true;\n\t\t});\n\t\tgrid[_].handler.on(scrollElement, 'mouseout', (e) => {\n\t\t\tisMouseover = false;\n\t\t\tonMouseoutCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mouseleave', (e) => {\n\t\t\tonMouseleaveCell();\n\t\t});\n\n\t\tgrid[_].handler.on(grid[_].element, 'mousemove', (e) => {\n\t\t\tconst eventArgsSet = getCellEventArgsSet(e);\n\t\t\tconst {abstractPos, eventArgs} = eventArgsSet;\n\t\t\tif (eventArgs) {\n\t\t\t\tconst beforeMouseCell = mouseEnterCell;\n\t\t\t\tif (beforeMouseCell) {\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t\tif (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n\t\t\t\t\t\tonMouseoutCell();\n\t\t\t\t\t\tonMouseleaveCell();\n\t\t\t\t\t\tconst cell = {\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t\t\t};\n\t\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (isMouseover && !mouseOverCell) {\n\t\t\t\t\t\tonMouseoverCell({\n\t\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst cell = {\n\t\t\t\t\t\tcol: eventArgs.col,\n\t\t\t\t\t\trow: eventArgs.row,\n\t\t\t\t\t};\n\t\t\t\t\tonMouseenterCell(cell);\n\t\t\t\t\tif (isMouseover) {\n\t\t\t\t\t\tonMouseoverCell(cell);\n\t\t\t\t\t}\n\t\t\t\t\tgrid.fireListeners(EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tonMouseoutCell();\n\t\t\t\tonMouseleaveCell();\n\t\t\t}\n\t\t\tif (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {style} = grid[_].element;\n\t\t\tif (!abstractPos) {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\t\t\tif (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n\t\t\t\tstyle.cursor = 'col-resize';\n\t\t\t} else {\n\t\t\t\tif (style.cursor === 'col-resize') {\n\t\t\t\t\tstyle.cursor = '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'click', (e) => {\n\t\t\tif (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.CLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.CLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].handler.on(grid[_].element, 'dblclick', (e) => {\n\t\t\tif (!grid.hasListeners(EVENT_TYPE.DBLCLICK_CELL)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {eventArgs} = getCellEventArgsSet(e);\n\t\t\tif (!eventArgs) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.fireListeners(EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n\t\t});\n\t\tgrid[_].focusControl.listen('keydown', (keyCode, e) => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.KEYDOWN, keyCode, e);\n\t\t});\n\t\tgrid[_].selection.listen(EVENT_TYPE.SELECTED_CELL, (data) => {\n\t\t\tgrid.fireListeners(EVENT_TYPE.SELECTED_CELL, data, data.selected);\n\t\t});\n\n\t\tgrid[_].scrollable.onScroll((e) => {\n\t\t\t_onScroll(grid, e);\n\t\t\tgrid.fireListeners(EVENT_TYPE.SCROLL, {event: e});\n\t\t});\n\t\tgrid[_].focusControl.onKeyDownMove((e) => {\n\t\t\t_onKeyDownMove(grid, e);\n\t\t});\n\t\tgrid.listen('copydata', (range) => {\n\t\t\tlet copyValue = '';\n\t\t\tfor (let {row} = range.start; row <= range.end.row; row++) {\n\t\t\t\tfor (let {col} = range.start; col <= range.end.col; col++) {\n\t\t\t\t\tconst copyCellValue = grid.getCopyCellValue(col, row);\n\t\t\t\t\tif (window.Promise && copyCellValue instanceof window.Promise) {\n\t\t\t\t\t\t//\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst strCellValue = `${copyCellValue}`;\n\t\t\t\t\t\tif (strCellValue.match(/^\\[object .*\\]$/)) {\n\t\t\t\t\t\t\t//object \n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcopyValue += strCellValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (col < range.end.col) {\n\t\t\t\t\t\tcopyValue += '\\t';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcopyValue += '\\n';\n\t\t\t}\n\t\t\treturn copyValue;\n\t\t});\n\t\tgrid[_].focusControl.onCopy((e) => array.find(grid.fireListeners('copydata', grid[_].selection.range), isDef));\n\t\tgrid[_].focusControl.onInput((value) => {\n\t\t\tconst {col, row} = grid[_].selection.select;\n\t\t\tgrid.fireListeners(EVENT_TYPE.INPUT_CELL, {col, row, value});\n\t\t});\n\t\tgrid.bindEventsInternal();\n\t}\n\n\tfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n\t\tif (grid[_].frozenRowCount <= 0) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\tif (!frozenRect.inPoint(abstractX, abstractY)) {\n\t\t\treturn -1;\n\t\t}\n\t\tconst cell = grid.getCellAt(abstractX, abstractY);\n\t\tconst cellRect = grid.getCellRect(cell.col, cell.row);\n\t\tif (abstractX < cellRect.left + offset) {\n\t\t\treturn cell.col - 1;\n\t\t}\n\t\tif (cellRect.right - offset < abstractX) {\n\t\t\treturn cell.col;\n\t\t}\n\t\treturn -1;\n\t}\n\tfunction _getVisibleRect(grid) {\n\t\treturn new Rect(\n\t\t\t\tgrid[_].scroll.left,\n\t\t\t\tgrid[_].scroll.top,\n\t\t\t\tgrid[_].canvas.width,\n\t\t\t\tgrid[_].canvas.height\n\t\t);\n\t}\n\tfunction _getScrollableVisibleRect(grid) {\n\t\tlet frozenColsWidth = 0;\n\t\tif (grid[_].frozenColCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenColsRect(grid);\n\t\t\tfrozenColsWidth = frozenRect.width;\n\t\t}\n\t\tlet frozenRowsHeight = 0;\n\t\tif (grid[_].frozenRowCount > 0) {\n\t\t\t//\n\t\t\tconst frozenRect = _getFrozenRowsRect(grid);\n\t\t\tfrozenRowsHeight = frozenRect.height;\n\t\t}\n\t\treturn new Rect(\n\t\t\t\tgrid[_].scroll.left + frozenColsWidth,\n\t\t\t\tgrid[_].scroll.top + frozenRowsHeight,\n\t\t\t\tgrid[_].canvas.width - frozenColsWidth,\n\t\t\t\tgrid[_].canvas.height - frozenRowsHeight\n\t\t);\n\t}\n\n\tfunction _toRelativeRect(grid, absoluteRect) {\n\t\tconst rect = absoluteRect.copy();\n\t\tconst visibleRect = _getVisibleRect(grid);\n\t\trect.offsetLeft(-visibleRect.left);\n\t\trect.offsetTop(-visibleRect.top);\n\n\t\treturn rect;\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\t//\n\n\t/**\n\t * managing mouse down moving\n\t * @private\n\t */\n\tclass BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._events = {};\n\t\t\tthis._started = false;\n\t\t\tthis._moved = false;\n\t\t}\n\t\tmoving(e) {\n\t\t\treturn !!this._started;\n\t\t}\n\t\tlastMoving(e) {\n\t\t\t// mouseupclick\n\t\t\tif (this.moving(e)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst last = this._mouseEndPoint;\n\t\t\tif (!last) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst pt = _getMouseAbstractPoint(this._grid, e);\n\t\t\treturn pt.x === last.x && pt.y === last.y;\n\t\t}\n\t\t_bindMoveAndUp(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tthis._events.mousemove = this._handler.on(document.body, 'mousemove', (e) => this._mouseMove(e));\n\t\t\t\tthis._events.mouseup = this._handler.on(document.body, 'mouseup', (e) => this._mouseUp(e));\n\t\t\t} else {\n\t\t\t\tthis._events.touchmove = this._handler.on(document.body, 'touchmove', (e) => this._mouseMove(e), {passive: false});\n\t\t\t\tthis._events.touchend = this._handler.on(document.body, 'touchend', (e) => this._mouseUp(e));\n\t\t\t\tthis._events.touchcancel = this._handler.on(document.body, 'touchcancel', (e) => this._mouseUp(e));\n\t\t\t}\n\t\t\tthis._started = true;\n\t\t\tthis._moved = false;\n\t\t}\n\t\t_mouseMove(e) {\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\tif (getMouseButtons(e) !== 1) {\n\t\t\t\t\tthis._mouseUp(e);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._moved = this._moveInternal(e) || this._moved/*calculation on after*/;\n\n\t\t\tcancelEvent(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\t_mouseUp(e) {\n\t\t\tthis._handler.off(this._events.mousemove);\n\t\t\tthis._handler.off(this._events.touchmove);\n\t\t\tthis._handler.off(this._events.mouseup);\n\t\t\tthis._handler.off(this._events.touchend);\n\t\t\t// this._handler.off(this._events.mouseleave);\n\t\t\tthis._handler.off(this._events.touchcancel);\n\n\t\t\tthis._started = false;\n\n\t\t\tthis._upInternal(e);\n\n\t\t\t// mouseupclick\n\t\t\tif (this._moved) { //\n\t\t\t\tthis._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis._mouseEndPoint = null;\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t\t_upInternal(e) {\n\t\t\t//protected\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\n\t * managing cell selection operation with mouse\n\t * @private\n\t */\n\tclass CellSelector extends BaseMouseDownMover {\n\t\tstart(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._cell = cell;\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\tselect(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, e.shiftKey);\n\t\t\tthis._cell = cell;\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst cell = this._getTargetCell(e);\n\t\t\tif (!cell || (this._cell.col === cell.col && this._cell.row === cell.row)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t_moveFocusCell(this._grid, cell.col, cell.row, true);\n\n\t\t\t//make visible\n\t\t\tconst makeVisibleCol = (() => {\n\t\t\t\tif (cell.col < this._cell.col && 0 < cell.col) {\n\t\t\t\t\t// move left\n\t\t\t\t\treturn cell.col - 1;\n\t\t\t\t} else if (this._cell.col < cell.col && cell.col + 1 < this._grid.colCount) {\n\t\t\t\t\t// move right\n\t\t\t\t\treturn cell.col + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.col;\n\t\t\t})();\n\t\t\tconst makeVisibleRow = (() => {\n\t\t\t\tif (cell.row < this._cell.row && 0 < cell.row) {\n\t\t\t\t\t// move up\n\t\t\t\t\treturn cell.row - 1;\n\t\t\t\t} else if (this._cell.row < cell.row && cell.row + 1 < this._grid.rowCount) {\n\t\t\t\t\t// move down\n\t\t\t\t\treturn cell.row + 1;\n\t\t\t\t}\n\t\t\t\treturn cell.row;\n\t\t\t})();\n\t\t\tif (makeVisibleCol !== cell.col || makeVisibleRow !== cell.row) {\n\t\t\t\tthis._grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n\t\t\t}\n\t\t\tthis._cell = cell;\n\t\t\treturn true;\n\t\t}\n\t\t_getTargetCell(e) {\n\t\t\tconst abstractPos = _getMouseAbstractPoint(this._grid, e);\n\t\t\tif (!abstractPos) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst cell = this._grid.getCellAt(abstractPos.x, abstractPos.y);\n\t\t\tif (cell.col < 0 || cell.row < 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn cell;\n\t\t}\n\t}\n\t/**\n\t * managing row width changing operation with mouse\n\t * @private\n\t */\n\tclass ColumnResizer extends BaseMouseDownMover {\n\t\tconstructor(grid) {\n\t\t\tsuper(grid);\n\t\t\tthis._targetCol = -1;\n\t\t}\n\t\tstart(col, e) {\n\t\t\tlet pageX;\n\t\t\tif (!isTouchEvent(e)) {\n\t\t\t\t({pageX} = e);\n\t\t\t} else {\n\t\t\t\t({pageX} = e.changedTouches[0]);\n\t\t\t}\n\n\t\t\tthis._x = pageX;\n\t\t\tthis._preX = 0;\n\n\t\t\tthis._bindMoveAndUp(e);\n\n\t\t\tthis._targetCol = col;\n\t\t\tthis._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n\n\t\t\tcancelEvent(e);\n\t\t\t_vibrate(e);\n\t\t}\n\t\t_moveInternal(e) {\n\t\t\tconst pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n\n\t\t\tconst x = pageX - this._x;\n\t\t\tconst moveX = x - this._preX;\n\t\t\tthis._preX = x;\n\t\t\tconst pre = this._grid.getColWidth(this._targetCol);\n\t\t\tlet afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\t\t\tif (afterSize < 10 && moveX < 0) {\n\t\t\t\tafterSize = 10;\n\t\t\t}\n\t\t\t_setColWidth(this._grid, this._targetCol, afterSize);\n\n\t\t\tconst rect = _getVisibleRect(this._grid);\n\t\t\trect.left = this._invalidateAbsoluteLeft;\n\t\t\t_invalidateRect(this._grid, rect);\n\n\t\t\tthis._grid.fireListeners(EVENT_TYPE.RESIZE_COLUMN, {col: this._targetCol});\n\n\t\t\treturn true;\n\t\t}\n\t\t_upInternal(e) {\n\t\t\tthis._grid.updateScroll();\n\n\t\t}\n\t}\n\n\tfunction setSafeInputValue(input, value) {\n\t\tconst {type} = input;\n\t\tinput.type = '';\n\t\tinput.value = value;\n\t\tif (type) {\n\t\t\tinput.type = type;\n\t\t}\n\t}\n\n\t/**\n\t * Manage focus\n\t * @private\n\t */\n\tclass FocusControl extends EventTarget {\n\t\tconstructor(grid, parentElement, scrollable) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\t\t\tthis._scrollable = scrollable;\n\t\t\tthis._handler = new EventHandler();\n\t\t\tthis._input = document.createElement('input');\n\t\t\tthis._input.classList.add('grid-focus-control');\n\t\t\tthis._input.readOnly = true;\n\t\t\tparentElement.appendChild(this._input);\n\n\t\t\tthis._handler.on(this._input, 'compositionstart', (e) => {\n\t\t\t\tthis._input.classList.add('composition');\n\t\t\t\tthis._input.style.font = this._grid.font || '16px sans-serif';\n\t\t\t\tthis._isComposition = true;\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\t\tdelete this._compositionEnd;\n\t\t\t\t}\n\t\t\t\tgrid.focus();\n\t\t\t});\n\n\t\t\tconst handleCompositionEnd = () => {\n\t\t\t\tthis._isComposition = false;\n\t\t\t\tthis._input.classList.remove('composition');\n\t\t\t\tthis._input.style.font = '';\n\t\t\t\tconst {value} = this._input;\n\n\t\t\t\tsetSafeInputValue(this._input, '');\n\n\t\t\t\tif (!this._input.readOnly) {\n\t\t\t\t\tthis.fireListeners('input', value);\n\t\t\t\t}\n\n\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\tclearTimeout(this._compositionEnd);\n\t\t\t\t\tdelete this._compositionEnd;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._handler.on(this._input, 'compositionend', (e) => {\n\t\t\t\tthis._compositionEnd = setTimeout(handleCompositionEnd);\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keypress', (e) => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!this._input.readOnly && e.key && e.key.length === 1) {\n\t\t\t\t\tif (e.key === 'c' && (e.ctrlKey || e.metaKey)) {\n\t\t\t\t\t\t//copy! for Firefox\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.fireListeners('input', e.key);\n\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tthis._handler.on(this._input, 'keydown', (e) => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tthis.fireListeners('keydown', keyCode, e);\n\n\t\t\t\tif (!this._input.readOnly && this._input.value) {\n\t\t\t\t\t// for Safari\n\t\t\t\t\tthis.fireListeners('input', this._input.value);\n\t\t\t\t}\n\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t});\n\t\t\tconst inputClear = (e) => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t};\n\t\t\tthis._handler.on(this._input, 'keyup', (e) => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\tif (this._compositionEnd) {\n\t\t\t\t\t\thandleCompositionEnd();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tinputClear(e);\n\t\t\t});\n\n\t\t\tthis._handler.on(this._input, 'input', inputClear);\n\t\t\tthis._handler.on(document, 'keydown', (e) => {\n\t\t\t\tif (!browser.IE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (e.target !== this._input) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n\t\t\t\t\tsetSafeInputValue(this._input, 'dummy');\n\t\t\t\t\tthis._input.select();\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._handler.on(document, 'copy', (e) => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!isDescendantElement(parentElement, e.target)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSafeInputValue(this._input, '');\n\t\t\t\tconst data = array.find(this.fireListeners('copy'), isDef);\n\t\t\t\tif (isDef(data)) {\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\tif (browser.IE) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', data); // IE\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', data); // Chrome, Firefox\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonKeyDownMove(fn) {\n\t\t\tthis._handler.on(this._input, 'keydown', (e) => {\n\t\t\t\tif (this._isComposition) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst keyCode = getKeyCode(e);\n\t\t\t\tif (keyCode === KEY_LEFT ||\n\t\t\t\t\tkeyCode === KEY_UP ||\n\t\t\t\t\tkeyCode === KEY_RIGHT ||\n\t\t\t\t\tkeyCode === KEY_DOWN ||\n\t\t\t\t\tkeyCode === KEY_HOME ||\n\t\t\t\t\tkeyCode === KEY_END\n\t\t\t\t) {\n\t\t\t\t\tfn(e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tonInput(fn) {\n\t\t\treturn this.listen('input', fn);\n\t\t}\n\t\tonCopy(fn) {\n\t\t\treturn this.listen('copy', fn);\n\t\t}\n\t\tfocus() {\n\t\t\t// this._input.value = '';\n\t\t\tthis._input.focus();\n\t\t}\n\t\tsetFocusRect(rect) {\n\t\t\tconst top = this._scrollable.calcTop(rect.top);\n\t\t\tthis._input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`;//position:relative IE position:relative\n\t\t\tthis._input.style.left = `${rect.left.toFixed()}px`;\n\t\t\tthis._input.style.width = `${rect.width.toFixed()}px`;\n\t\t\tthis._input.style.height = `${rect.height.toFixed()}px`;\n\t\t}\n\t\tset editMode(editMode) {\n\t\t\tthis._input.readOnly = !editMode;\n\t\t}\n\t\tresetInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tconst composition = el.classList.contains('composition');\n\n\t\t\tconst atts = el.attributes;\n\t\t\tconst removeNames = [];\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tif (!this._inputStatus.hasOwnProperty(att.nodeName)) {\n\t\t\t\t\tremoveNames.push(att.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremoveNames.forEach((removeName) => {\n\t\t\t\tel.removeAttribute(removeName);\n\t\t\t});\n\t\t\tfor (const name in this._inputStatus) {\n\t\t\t\tel.setAttribute(name, this._inputStatus[name]);\n\t\t\t}\n\t\t\tif (composition) {\n\t\t\t\tel.classList.add('composition');\n\t\t\t\tel.style.font = this._grid.font || '16px sans-serif';\n\t\t\t} else {\n\t\t\t\tel.classList.remove('composition');\n\t\t\t}\n\t\t}\n\t\tstoreInputStatus() {\n\t\t\tconst el = this._input;\n\t\t\tthis._inputStatus = {};\n\t\t\tconst atts = el.attributes;\n\t\t\tfor (let i = 0, n = atts.length; i < n; i++) {\n\t\t\t\tconst att = atts[i];\n\t\t\t\tthis._inputStatus[att.name] = att.value;\n\t\t\t}\n\t\t}\n\t\tsetDefaultInputStatus() {\n\t\t\t// \n\t\t\t// this._input.style.font = this._grid.font || '16px sans-serif';\n\t\t}\n\t\tget editMode() {\n\t\t\treturn !this._input.readOnly;\n\t\t}\n\t\tget input() {\n\t\t\treturn this._input;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\t/**\n\t * Selected area management\n\t */\n\tclass Selection extends EventTarget {\n\t\tconstructor(grid) {\n\t\t\tsuper();\n\t\t\tthis._grid = grid;\n\n\t\t\tthis._sel = {col: 0, row: 0};\n\t\t\tthis._focus = {col: 0, row: 0};\n\n\t\t\tthis._start = {col: 0, row: 0};\n\t\t\tthis._end = {col: 0, row: 0};\n\t\t}\n\t\tget range() {\n\t\t\tconst startCol = Math.min(this._start.col, this._end.col);\n\t\t\tconst startRow = Math.min(this._start.row, this._end.row);\n\t\t\tconst endCol = Math.max(this._start.col, this._end.col);\n\t\t\tconst endRow = Math.max(this._start.row, this._end.row);\n\t\t\treturn {\n\t\t\t\tstart: {\n\t\t\t\t\tcol: startCol,\n\t\t\t\t\trow: startRow,\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\tcol: endCol,\n\t\t\t\t\trow: endRow,\n\t\t\t\t},\n\t\t\t\tinCell(col, row) {\n\t\t\t\t\treturn startCol <= col && col <= endCol &&\n\t\t\t\t\t\tstartRow <= row && row <= endRow;\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\tget focus() {\n\t\t\tconst {col, row} = this._focus;\n\t\t\treturn {col, row};\n\t\t}\n\t\tget select() {\n\t\t\tconst {col, row} = this._sel;\n\t\t\treturn {col, row};\n\t\t}\n\t\tset select(cell = {}) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tconst {\n\t\t\t\t\tcol = 0,\n\t\t\t\t\trow = 0\n\t\t\t\t} = cell;\n\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\tthis._setFocusCell(col, row, true);\n\t\t\t});\n\t\t}\n\t\t_setSelectCell(col, row) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tthis._sel = {col, row};\n\t\t\t\tthis._start = {col, row};\n\t\t\t});\n\t\t}\n\t\t_setFocusCell(col, row, keepSelect) {\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tif (!keepSelect) {\n\t\t\t\t\tthis._setSelectCell(col, row);\n\t\t\t\t}\n\t\t\t\tthis._focus = {col, row};\n\t\t\t\tthis._end = {col, row};\n\t\t\t});\n\t\t}\n\t\t_wrapFireSelectedEvent(callback) {\n\t\t\tif (this._isWraped) {\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tthis._isWraped = true;\n\t\t\t\ttry {\n\t\t\t\t\tconst before = {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: false,\n\t\t\t\t\t};\n\t\t\t\t\tcallback();\n\t\t\t\t\tconst after = {\n\t\t\t\t\t\tcol: this._sel.col,\n\t\t\t\t\t\trow: this._sel.row,\n\t\t\t\t\t\tselected: true,\n\t\t\t\t\t\tbefore: {\n\t\t\t\t\t\t\tcol: before.col,\n\t\t\t\t\t\t\trow: before.row,\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tbefore.after = {\n\t\t\t\t\t\tcol: after.col,\n\t\t\t\t\t\trow: after.row,\n\t\t\t\t\t};\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, before);\n\t\t\t\t\tthis.fireListeners(EVENT_TYPE.SELECTED_CELL, after);\n\t\t\t\t} finally {\n\t\t\t\t\tthis._isWraped = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_updateGridRange() {\n\t\t\tconst {rowCount, colCount} = this._grid;\n\t\t\tconst points = [this._sel, this._focus, this._start, this._end];\n\t\t\tlet needChange = false;\n\t\t\tfor (let i = 0; i < points.length; i++) {\n\t\t\t\tif (colCount <= points[i].col || rowCount <= points[i].row) {\n\t\t\t\t\tneedChange = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!needChange) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._wrapFireSelectedEvent(() => {\n\t\t\t\tpoints.forEach((p) => {\n\t\t\t\t\tp.col = Math.min(colCount - 1, p.col);\n\t\t\t\t\tp.row = Math.min(rowCount - 1, p.row);\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t/**\n\t * This class manages the drawing process for each layer\n\t */\n\tclass DrawLayers {\n\t\tconstructor() {\n\t\t\tthis._layers = {};\n\t\t}\n\t\taddDraw(level, fn) {\n\t\t\tconst l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n\t\t\tl.addDraw(fn);\n\t\t}\n\t\tdraw(ctx) {\n\t\t\tconst list = [];\n\t\t\tfor (const k in this._layers) {\n\t\t\t\tlist.push(this._layers[k]);\n\t\t\t}\n\t\t\tlist.sort((a, b) => a.level - b.level);\n\t\t\tlist.forEach((l) => l.draw(ctx));\n\t\t}\n\t}\n\tclass DrawLayer {\n\t\tconstructor(level) {\n\t\t\tthis._level = level;\n\t\t\tthis._list = [];\n\t\t}\n\t\tget level() {\n\t\t\treturn this._level;\n\t\t}\n\t\taddDraw(fn) {\n\t\t\tthis._list.push(fn);\n\t\t}\n\t\tdraw(ctx) {\n\t\t\tthis._list.forEach((fn) => {\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tfn(ctx);\n\t\t\t\t} finally {\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t/**\n\t * Context of cell drawing\n\t */\n\tclass DrawCellContext {\n\t\t/**\n\t\t * @private\n\t\t */\n\t\tconstructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n\t\t\tthis._col = col;\n\t\t\tthis._row = row;\n\t\t\tthis._mode = 0;\n\t\t\tthis._ctx = ctx;\n\t\t\tthis._rect = rect;\n\t\t\tthis._drawRect = drawRect;\n\t\t\tthis._drawing = drawing;\n\t\t\tthis._selection = selection;\n\t\t\tthis._drawLayers = drawLayers;\n\t\t\tthis._childContexts = [];\n\t\t}\n\t\tget drawing() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawing;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tget row() {\n\t\t\treturn this._row;\n\t\t}\n\t\tget col() {\n\t\t\treturn this._col;\n\t\t}\n\t\tcancel() {\n\t\t\tthis._cancel = true;\n\t\t\tthis._childContexts.forEach((ctx) => { ctx.cancel(); });\n\t\t}\n\t\t/**\n\t\t * select status.\n\t\t * @return {object} select status\n\t\t */\n\t\tgetSelectState() {\n\t\t\tconst sel = this._selection.select;\n\t\t\treturn {\n\t\t\t\tselected: sel.col === this._col && sel.row === this._row,\n\t\t\t\tselection: this._selection.range.inCell(this._col, this._row),\n\t\t\t};\n\t\t}\n\t\t/**\n\t\t * Canvas context.\n\t\t * @return {CanvasRenderingContext2D} Canvas context.\n\t\t */\n\t\tgetContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._ctx;\n\t\t\t} else {\n\t\t\t\treturn this._grid._getInitContext();\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Rectangle of cell.\n\t\t * @return {Rect} rect Rectangle of cell.\n\t\t */\n\t\tgetRect() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._rect;\n\t\t\t} else {\n\t\t\t\tif (this._rect) {\n\t\t\t\t\treturn this._rect;\n\t\t\t\t}\n\t\t\t\treturn this._grid.getCellRelativeRect(this._col, this._row);\n\t\t\t}\n\t\t}\n\t\tsetRect(rect) {\n\t\t\tthis._rect = rect;\n\t\t}\n\t\t/**\n\t\t * Rectangle of Drawing range.\n\t\t * @return {Rect} Rectangle of Drawing range.\n\t\t */\n\t\tgetDrawRect() {\n\t\t\tif (this._cancel) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this._drawRect;\n\t\t\t} else {\n\t\t\t\tif (this._isOutOfRange()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\treturn this._toRelativeDrawRect(absoluteRect);\n\t\t\t}\n\t\t}\n\t\t_isOutOfRange() {\n\t\t\tconst {colCount, rowCount} = this._grid;\n\t\t\treturn colCount <= this._col || rowCount <= this._row;\n\t\t}\n\t\t/**\n\t\t * get Context of current state\n\t\t * @return {DrawCellContext} current DrawCellContext.\n\t\t */\n\t\ttoCurrentContext() {\n\t\t\tif (this._mode === 0) {\n\t\t\t\treturn this;\n\t\t\t} else {\n\t\t\t\tconst absoluteRect = this._grid.getCellRect(this._col, this._row);\n\t\t\t\tconst rect = _toRelativeRect(this._grid, absoluteRect);\n\t\t\t\tconst drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n\t\t\t\tconst context = new DrawCellContext(\n\t\t\t\t\t\tthis._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection,\n\t\t\t\t\t\tthis._drawLayers\n\t\t\t\t);\n\t\t\t\t// toCurrentContext  toCurrentContext\n\t\t\t\tcontext.toCurrentContext = this.toCurrentContext.bind(this);\n\t\t\t\tthis._childContexts.push(context);\n\t\t\t\tif (this._cancel) {\n\t\t\t\t\tcontext.cancel();\n\t\t\t\t}\n\t\t\t\treturn context;\n\t\t\t}\n\t\t}\n\t\taddLayerDraw(level, fn) {\n\t\t\tthis._drawLayers.addDraw(level, fn);\n\t\t}\n\t\t_toRelativeDrawRect(absoluteRect) {\n\t\t\tconst visibleRect = _getVisibleRect(this._grid);\n\t\t\tlet rect = absoluteRect.copy();\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst isFrozenCell = this._grid.isFrozenCell(this._col, this._row);\n\t\t\tif (this._grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._grid.frozenColCount - 1, this._row);\n\t\t\t\trect = Rect.bounds(\n\t\t\t\t\t\tMath.max(rect.left, fRect.right),\n\t\t\t\t\t\trect.top,\n\t\t\t\t\t\trect.right,\n\t\t\t\t\t\trect.bottom\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (this._grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n\t\t\t\tconst fRect = this._grid.getCellRect(this._col, this._grid.frozenRowCount - 1);\n\t\t\t\trect = Rect.bounds(\n\t\t\t\t\t\trect.left,\n\t\t\t\t\t\tMath.max(rect.top, fRect.bottom),\n\t\t\t\t\t\trect.right,\n\t\t\t\t\t\trect.bottom\n\t\t\t\t);\n\t\t\t}\n\n\n\t\t\tif (!rect.intersection(visibleRect)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\trect.offsetLeft(-visibleRect.left);\n\t\t\trect.offsetTop(-visibleRect.top);\n\n\t\t\treturn rect;\n\t\t}\n\t\t_delayMode(grid, onTerminate) {\n\t\t\tthis._mode = 1;\n\t\t\tthis._ctx = null;\n\t\t\tthis._rect = null;\n\t\t\tthis._drawRect = null;\n\t\t\tthis._grid = grid;\n\t\t\tthis._onTerminate = onTerminate;\n\t\t}\n\t\t/**\n\t\t * terminate\n\t\t * @return {void}\n\t\t */\n\t\tterminate() {\n\t\t\tif (this._mode !== 0) {\n\t\t\t\tthis._onTerminate();\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * DrawGrid\n\t * @classdesc cheetahGrid.core.DrawGrid\n\t * @extends EventTarget\n\t * @memberof cheetahGrid.core\n\t */\n\tclass DrawGrid extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\n\t\t * constructor\n\t\t *\n\t\t * <pre>\n\t\t * Constructor options\n\t\t * -----\n\t\t * rowCount: grid row count.default 10\n\t\t * colCount: grid col count.default 10\n\t\t * frozenColCount: default 0\n\t\t * frozenRowCount: default 0\n\t\t * defaultRowHeight: default grid row height. default 40\n\t\t * defaultColWidth: default grid col width. default 80\n\t\t * parentElement: canvas parentElement\n\t\t * font: default font\n\t\t * underlayBackgroundColor: underlay background color\n\t\t * -----\n\t\t * </pre>\n\t\t *\n\t\t * @constructor\n\t\t * @param  {Object} options Constructor options\n\t\t */\n\t\tconstructor(\n\t\t\t\t{\n\t\t\t\t\trowCount = 10,\n\t\t\t\t\tcolCount = 10,\n\t\t\t\t\tfrozenColCount = 0,\n\t\t\t\t\tfrozenRowCount = 0,\n\t\t\t\t\tdefaultRowHeight = 40,\n\t\t\t\t\tdefaultColWidth = 80,\n\t\t\t\t\tfont,\n\t\t\t\t\tunderlayBackgroundColor,\n\t\t\t\t\tparentElement,\n\t\t\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis[_] = {};\n\t\t\tstyle.initDocument();\n\t\t\tthis[_].element = createRootElement();\n\t\t\tthis[_].scrollable = new Scrollable();\n\t\t\tthis[_].handler = new EventHandler();\n\t\t\tthis[_].selection = new Selection(this);\n\t\t\tthis[_].focusControl = new FocusControl(this, this[_].scrollable.getElement(), this[_].scrollable);\n\n\t\t\tthis[_].canvas = hiDPI.transform(document.createElement('canvas'));\n\t\t\tthis[_].context = this[_].canvas.getContext('2d', {alpha: false});\n\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\n\t\t\tthis[_].font = font;\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\n\t\t\t/////\n\t\t\tthis[_].rowHeightsMap = new NumberMap();\n\t\t\tthis[_].colWidthsMap = new NumberMap();\n\t\t\tthis[_].colWidthsLimit = {};\n\t\t\tthis[_].calcWidthContext = {\n\t\t\t\t_: this[_],\n\t\t\t\tget full() {\n\t\t\t\t\treturn this._.canvas.width;\n\t\t\t\t},\n\t\t\t\tget em() {\n\t\t\t\t\treturn getFontSize(this._.context, this._.font).width;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis[_].columnResizer = new ColumnResizer(this);\n\t\t\tthis[_].cellSelector = new CellSelector(this);\n\n\t\t\tthis[_].drawCells = {};\n\n\t\t\tthis[_].element.appendChild(this[_].canvas);\n\t\t\tthis[_].element.appendChild(this[_].scrollable.getElement());\n\t\t\tthis.updateScroll();\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.appendChild(this[_].element);\n\t\t\t\tthis.updateSize();\n\t\t\t} else {\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t\t_bindEvents(this);\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this[_].element;\n\t\t}\n\t\tget canvas() {\n\t\t\treturn this[_].canvas;\n\t\t}\n\t\tfocus() {\n\t\t\tconst {col, row} = this[_].selection.select;\n\t\t\tthis.focusCell(col, row);\n\t\t}\n\t\tget selection() {\n\t\t\treturn this[_].selection;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset rowCount(rowCount) {\n\t\t\tthis[_].rowCount = rowCount;\n\t\t\tthis.updateScroll();\n\t\t\tif (this[_].selection._updateGridRange()) {\n\t\t\t\tconst {col, row} = this[_].selection.focus;\n\t\t\t\tthis.makeVisibleCell(col, row);\n\t\t\t\tthis.focusCell(col, row);\n\t\t\t}\n\t\t}\n\t\tget colCount() {\n\t\t\treturn this[_].colCount;\n\t\t}\n\t\tset colCount(colCount) {\n\t\t\tthis[_].colCount = colCount;\n\t\t\tthis.updateScroll();\n\t\t\tif (this[_].selection._updateGridRange()) {\n\t\t\t\tconst {col, row} = this[_].selection.focus;\n\t\t\t\tthis.makeVisibleCell(col, row);\n\t\t\t\tthis.focusCell(col, row);\n\t\t\t}\n\t\t}\n\t\tget frozenColCount() {\n\t\t\treturn this[_].frozenColCount;\n\t\t}\n\t\tset frozenColCount(frozenColCount) {\n\t\t\tthis[_].frozenColCount = frozenColCount;\n\t\t}\n\t\tget frozenRowCount() {\n\t\t\treturn this[_].frozenRowCount;\n\t\t}\n\t\tset frozenRowCount(frozenRowCount) {\n\t\t\tthis[_].frozenRowCount = frozenRowCount;\n\t\t}\n\t\tget defaultRowHeight() {\n\t\t\treturn this[_].rowCount;\n\t\t}\n\t\tset defaultRowHeight(defaultRowHeight) {\n\t\t\tthis[_].defaultRowHeight = defaultRowHeight;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget defaultColWidth() {\n\t\t\treturn this[_].defaultColWidth;\n\t\t}\n\t\tset defaultColWidth(defaultColWidth) {\n\t\t\tthis[_].defaultColWidth = defaultColWidth;\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tget font() {\n\t\t\treturn this[_].font;\n\t\t}\n\t\tset font(font) {\n\t\t\tthis[_].font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn this[_].underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tthis[_].underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tconfigure(name, value) {\n\t\t\tconst cfg = this[_].config || (this[_].config = {});\n\t\t\tif (isDef(value)) {\n\t\t\t\tcfg[name] = value;\n\t\t\t}\n\t\t\treturn cfg[name];\n\t\t}\n\t\tupdateSize() {\n\t\t\t//\n\t\t\tthis[_].canvas.style.width = '';\n\t\t\tthis[_].canvas.style.height = '';\n\t\t\tconst width = Math.floor(this[_].canvas.offsetWidth ||\n\t\t\t\t\tthis[_].canvas.parentElement.offsetWidth - style.getScrollBarSize()/*for legacy*/\n\t\t\t);\n\t\t\tconst height = Math.floor(this[_].canvas.offsetHeight ||\n\t\t\t\t\tthis[_].canvas.parentElement.offsetHeight - style.getScrollBarSize()/*for legacy*/\n\t\t\t);\n\n\t\t\tthis[_].canvas.width = width;\n\t\t\tthis[_].canvas.height = height;\n\n\t\t\t//style\n\t\t\tthis[_].canvas.style.width = `${width}px`;\n\t\t\tthis[_].canvas.style.height = `${height}px`;\n\n\t\t\tconst sel = this[_].selection.select;\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n\t\t}\n\t\tupdateScroll() {\n\t\t\tthis[_].scrollable.setScrollSize(_getScrollWidth(this), _getScrollHeight(this));\n\t\t\tthis[_].scroll = {\n\t\t\t\tleft: this[_].scrollable.scrollLeft,\n\t\t\t\ttop: this[_].scrollable.scrollTop,\n\t\t\t};\n\t\t}\n\t\tgetRowHeight(row) {\n\t\t\treturn _getRowHeight(this, row);\n\t\t}\n\t\tsetRowHeight(row, height) {\n\t\t\t_setRowHeight(this, row, height);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetColWidth(col) {\n\t\t\treturn _getColWidth(this, col);\n\t\t}\n\t\tsetColWidth(col, width) {\n\t\t\t_setColWidth(this, col, width);\n\t\t\tthis.updateScroll();\n\t\t}\n\t\tgetMaxColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.max || undefined;\n\t\t}\n\t\tsetMaxColWidth(col, maxwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.max = maxwidth;\n\t\t}\n\t\tgetMinColWidth(col) {\n\t\t\tconst obj = this[_].colWidthsLimit[col];\n\t\t\treturn obj && obj.min || undefined;\n\t\t}\n\t\tsetMinColWidth(col, minwidth) {\n\t\t\tconst obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n\t\t\tobj.min = minwidth;\n\t\t}\n\t\tgetCellRect(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, col - 1);\n\t\t\tconst width = _getColWidth(this, col);\n\t\t\tif (isFrozenCell && isFrozenCell.col) {\n\t\t\t\tabsoluteLeft += this[_].scroll.left;\n\t\t\t}\n\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, row - 1);\n\t\t\tconst height = _getRowHeight(this, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\tabsoluteTop += this[_].scroll.top;\n\t\t\t}\n\t\t\treturn new Rect(\n\t\t\t\t\tabsoluteLeft,\n\t\t\t\t\tabsoluteTop,\n\t\t\t\t\twidth,\n\t\t\t\t\theight\n\t\t\t);\n\t\t}\n\t\tgetCellRelativeRect(col, row) {\n\t\t\treturn _toRelativeRect(this, this.getCellRect(col, row));\n\t\t}\n\t\tgetCellsRect(startCol, startRow, endCol, endRow) {\n\t\t\tconst isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n\t\t\tconst isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n\t\t\tlet absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\t\t\tlet width = _getColsWidth(this, startCol, endCol);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.col) {\n\t\t\t\tconst scrollLeft = this[_].scroll.left;\n\t\t\t\tabsoluteLeft += scrollLeft;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.col) {\n\t\t\t\t\twidth -= scrollLeft;\n\t\t\t\t\twidth = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet absoluteTop = _getRowsHeight(this, 0, startRow - 1);\n\t\t\tlet height = _getRowsHeight(this, startRow, endRow);\n\t\t\tif (isFrozenStartCell && isFrozenStartCell.row) {\n\t\t\t\tconst scrollTop = this[_].scroll.top;\n\t\t\t\tabsoluteTop += scrollTop;\n\t\t\t\tif (!isFrozenEndCell || !isFrozenEndCell.row) {\n\t\t\t\t\theight -= scrollTop;\n\t\t\t\t\theight = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new Rect(\n\t\t\t\t\tabsoluteLeft,\n\t\t\t\t\tabsoluteTop,\n\t\t\t\t\twidth,\n\t\t\t\t\theight\n\t\t\t);\n\t\t}\n\t\tisFrozenCell(col, row) {\n\t\t\tconst isFrozenRow = this[_].frozenRowCount > 0 && row < this[_].frozenRowCount;\n\t\t\tconst isFrozenCol = this[_].frozenColCount > 0 && col < this[_].frozenColCount;\n\t\t\tif (isFrozenRow || isFrozenCol) {\n\t\t\t\treturn {\n\t\t\t\t\trow: isFrozenRow,\n\t\t\t\t\tcol: isFrozenCol,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tgetRowAt(absoluteY) {\n\t\t\tconst frozen = _getTargetFrozenRowAt(this, absoluteY);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.row;\n\t\t\t}\n\t\t\tconst row = _getTargetRowAt(this, absoluteY);\n\t\t\treturn row ? row.row : -1;\n\n\t\t}\n\t\tgetColAt(absoluteX) {\n\t\t\tconst frozen = _getTargetFrozenColAt(this, absoluteX);\n\t\t\tif (frozen) {\n\t\t\t\treturn frozen.col;\n\t\t\t}\n\t\t\tconst col = _getTargetColAt(this, absoluteX);\n\t\t\treturn col ? col.col : -1;\n\t\t}\n\t\tgetCellAt(absoluteX, absoluteY) {\n\t\t\treturn {\n\t\t\t\trow: this.getRowAt(absoluteY),\n\t\t\t\tcol: this.getColAt(absoluteX),\n\t\t\t};\n\t\t}\n\t\tmakeVisibleCell(col, row) {\n\t\t\tconst isFrozenCell = this.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = this.getCellRect(col, row);\n\t\t\tconst visibleRect = _getScrollableVisibleRect(this);\n\t\t\tif (visibleRect.contains(rect)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.col) {\n\t\t\t\tif (rect.left < visibleRect.left) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.left - rect.left;\n\t\t\t\t} else if (visibleRect.right < rect.right) {\n\t\t\t\t\tthis[_].scrollable.scrollLeft -= visibleRect.right - rect.right;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isFrozenCell || !isFrozenCell.row) {\n\t\t\t\tif (rect.top < visibleRect.top) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.top - rect.top;\n\t\t\t\t} else if (visibleRect.bottom < rect.bottom) {\n\t\t\t\t\tthis[_].scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfocusCell(col, row) {\n\t\t\tconst oldEditMode = this[_].focusControl.editMode;\n\t\t\tif (oldEditMode) {\n\t\t\t\tthis[_].focusControl.resetInputStatus();\n\t\t\t}\n\n\t\t\tthis[_].focusControl.setFocusRect(this.getCellRect(col, row));\n\n\t\t\tconst {col: selCol, row: selRow} = this[_].selection.select;\n\t\t\tconst results = this.fireListeners(\n\t\t\t\t\tEVENT_TYPE.EDITABLEINPUT_CELL,\n\t\t\t\t\t{col: selCol, row: selRow}\n\t\t\t);\n\n\t\t\tconst editMode = (array.findIndex(results, (v) => !!v) >= 0);\n\t\t\tthis[_].focusControl.editMode = editMode;\n\n\t\t\tif (editMode) {\n\t\t\t\tthis[_].focusControl.storeInputStatus();\n\t\t\t\tthis[_].focusControl.setDefaultInputStatus();\n\t\t\t\tthis.fireListeners(\n\t\t\t\t\t\tEVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL,\n\t\t\t\t\t\t{col: selCol, row: selRow, input: this[_].focusControl.input}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Failure occurs in IE if focus is not last\n\t\t\tthis[_].focusControl.focus();\n\t\t}\n\t\tinvalidateCell(col, row) {\n\t\t\tthis.invalidateGridRect(col, row);\n\t\t}\n\t\tinvalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n\t\t\tconst offset = this.getOffsetInvalidateCells();\n\t\t\tif (offset > 0) {\n\t\t\t\tstartCol -= offset;\n\t\t\t\tstartRow -= offset;\n\t\t\t\tendCol += offset;\n\t\t\t\tendRow += offset;\n\t\t\t}\n\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\tconst cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n\t\t\tconst invalidateTarget = visibleRect.intersection(cellsRect);\n\t\t\tif (invalidateTarget) {\n\n\t\t\t\tif (this[_].frozenColCount > 0 && endCol >= this[_].frozenColCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenColsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.left = Math.min(frozenRect.right - 1, frozenRect.right);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this[_].frozenRowCount > 0 && endRow >= this[_].frozenRowCount) {\n\t\t\t\t\tconst frozenRect = _getFrozenRowsRect(this);\n\t\t\t\t\tif (frozenRect.intersection(invalidateTarget)) {\n\t\t\t\t\t\tinvalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_invalidateRect(this, invalidateTarget);\n\t\t\t}\n\t\t}\n\t\tinvalidate() {\n\t\t\tconst visibleRect = _getVisibleRect(this);\n\t\t\t_invalidateRect(this, visibleRect);\n\t\t}\n\t\t/**\n\t\t * get cell value at copy action\n\t\t * <p>\n\t\t * Please implement\n\t\t * </p>\n\t\t *\n\t\t * @protected\n\t\t * @param  {number} col Column index of cell.\n\t\t * @param  {number} row Row index of cell.\n\t\t * @return {string}\n\t\t */\n\t\tgetCopyCellValue(col, row) {\n\t\t\t//Please implement get cell value!!\n\t\t}\n\t\t/**\n\t\t * Draw a cell\n\t\t * <p>\n\t\t * Please implement cell drawing.\n\t\t * </p>\n\t\t *\n\t\t * @protected\n\t\t * @param  {number} col Column index of cell.\n\t\t * @param  {number} row Row index of cell.\n\t\t * @param  {DrawCellContext} context context of cell drawing.\n\t\t * @return {void}\n\t\t */\n\t\tonDrawCell(col, row, context) {\n\t\t\t//Please implement cell drawing!!\n\t\t}\n\t\taddDisposable(disposable) {\n\t\t\tif (!disposable || !disposable.dispose || typeof disposable.dispose !== 'function') {\n\t\t\t\tthrow new Error('not disposable!');\n\t\t\t}\n\t\t\tconst disposables = this[_].disposables = this[_].disposables || [];\n\t\t\tdisposables.push(disposable);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t\tthis[_].handler.dispose();\n\t\t\tthis[_].scrollable.dispose();\n\t\t\tthis[_].focusControl.dispose();\n\t\t\tthis[_].columnResizer.dispose();\n\t\t\tthis[_].cellSelector.dispose();\n\t\t\tif (this[_].disposables) {\n\t\t\t\tthis[_].disposables.forEach((disposable) => disposable.dispose());\n\t\t\t\tthis[_].disposables = null;\n\t\t\t}\n\n\t\t\tconst {parentElement} = this[_].element;\n\t\t\tif (parentElement) {\n\t\t\t\tparentElement.removeChild(this[_].element);\n\t\t\t}\n\t\t}\n\t\tgetAttachCellArea(col, row) {\n\t\t\treturn {\n\t\t\t\telement: this.getElement(),\n\t\t\t\trect: _toRelativeRect(this, this.getCellRect(col, row)),\n\t\t\t};\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\t//nop\n\t\t}\n\t\tgetTargetRowAtInternal(absoluteY) {\n\t\t\t// \n\t\t}\n\t\tgetRowsHeightInternal(startRow, endRow) {\n\t\t\t// \n\t\t}\n\t\tgetRowHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetScrollHeightInternal(row) {\n\t\t\t// \n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({col, row}) {\n\t\t\treturn col - 1;\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({col, row}) {\n\t\t\treturn col + 1;\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({col, row}) {\n\t\t\treturn row - 1;\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({col, row}) {\n\t\t\treturn row + 1;\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 0;\n\t\t}\n\t\t_getInitContext() {\n\t\t\tconst ctx = this[_].context;\n\t\t\t//\n\t\t\tctx.fillStyle = 'white';\n\t\t\tctx.strokeStyle = 'black';\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'top';\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.font = this.font || '16px sans-serif';\n\t\t\treturn ctx;\n\t\t}\n\t}\n\n\tmodule.exports = DrawGrid;\n}","'use strict';\n{\n\tconst {obj: {each}} = require('./utils');\n\tlet nextId = 1;\n\n\tclass EventHandler {\n\t\tconstructor() {\n\t\t\tthis._listeners = {};\n\t\t}\n\t\ton(target, type, listener, ...options) {\n\t\t\tif (target.addEventListener) {\n\t\t\t\ttarget.addEventListener(type, listener, ...options);\n\t\t\t}\n\t\t\tconst obj = {\n\t\t\t\ttarget, type, listener, options\n\t\t\t};\n\t\t\tconst id = nextId++;\n\t\t\tthis._listeners[id] = obj;\n\t\t\treturn id;\n\t\t}\n\t\ttryWithOffEvents(target, type, call) {\n\t\t\tconst list = [];\n\t\t\ttry {\n\t\t\t\teach(this._listeners, (obj) => {\n\t\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlist.push(obj);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcall();\n\t\t\t} finally {\n\t\t\t\tlist.forEach((obj) => {\n\t\t\t\t\tif (obj.target.addEventListener) {\n\t\t\t\t\t\tobj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\toff(id) {\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst obj = this._listeners[id];\n\t\t\tif (!obj) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdelete this._listeners[id];\n\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t}\n\t\t}\n\t\tfire(target, type, ...args) {\n\t\t\teach(this._listeners, (obj) => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tobj.listener.call(obj.target, ...args);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListener(target, type) {\n\t\t\tlet result = false;\n\t\t\teach(this._listeners, (obj) => {\n\t\t\t\tif (obj.target === target && obj.type === type) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\t\tclear() {\n\t\t\teach(this._listeners, (obj) => {\n\t\t\t\tif (obj.target.removeEventListener) {\n\t\t\t\t\tobj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._listeners = {};\n\t\t}\n\t\tdispose() {\n\t\t\tthis.clear();\n\t\t\tthis._listeners = null;\n\t\t}\n\t}\n\n\tmodule.exports = EventHandler;\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","'use strict';\n{\n\tconst fontSizeCache = {};\n\tfunction getFontSize(ctx, font) {\n\t\tif (fontSizeCache[font]) {\n\t\t\treturn fontSizeCache[font];\n\t\t}\n\t\tconst bk = ctx.font;\n\t\ttry {\n\t\t\tctx.font = font || ctx.font;\n\t\t\tconst em = ctx.measureText('').width;\n\t\t\treturn (fontSizeCache[font] = {\n\t\t\t\twidth: em,\n\t\t\t\theight: em\n\t\t\t});\n\t\t} finally {\n\t\t\tctx.font = bk;\n\t\t}\n\t}\n\n\tfunction calcBasePosition(ctx, rect,\n\t\t\t{\n\t\t\t\toffset = 0,\n\t\t\t\tpadding: {\n\t\t\t\t\tleft: paddingLeft = 0,\n\t\t\t\t\tright: paddingRight = 0,\n\t\t\t\t\ttop: paddingTop = 0,\n\t\t\t\t\tbottom: paddingBottom = 0,\n\t\t\t\t} = {},\n\t\t\t} = {}) {\n\t\treturn calcStartPosition(ctx, rect, 0, 0, {\n\t\t\toffset,\n\t\t\tpadding: {\n\t\t\t\tleft: paddingLeft,\n\t\t\t\tright: paddingRight,\n\t\t\t\ttop: paddingTop,\n\t\t\t\tbottom: paddingBottom,\n\t\t\t}\n\t\t});\n\t}\n\tfunction calcStartPosition(ctx, rect, width, height,\n\t\t\t{\n\t\t\t\toffset = 0,\n\t\t\t\tpadding: {\n\t\t\t\t\tleft: paddingLeft = 0,\n\t\t\t\t\tright: paddingRight = 0,\n\t\t\t\t\ttop: paddingTop = 0,\n\t\t\t\t\tbottom: paddingBottom = 0,\n\t\t\t\t} = {},\n\t\t\t} = {}) {\n\t\tconst textAlign = ctx.textAlign || 'left';\n\t\tconst textBaseline = ctx.textBaseline || 'middle';\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\n\t\tlet x = rect.left + offset + paddingLeft;\n\t\tif (textAlign === 'right' || textAlign === 'end') {\n\t\t\tx = rect.right - width - offset - paddingRight;\n\t\t} else if (textAlign === 'center') {\n\t\t\tx = rect.left + ((rect.width - width + paddingLeft - paddingRight) / 2);\n\t\t}\n\t\tlet y = rect.top + offset + paddingTop;\n\t\tif (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n\t\t\ty = rect.bottom - height - offset - paddingBottom;\n\t\t} else if (textBaseline === 'middle') {\n\t\t\ty = rect.top + ((rect.height - height + paddingTop - paddingBottom) / 2);\n\t\t}\n\t\treturn {x, y};\n\t}\n\n\tmodule.exports = {\n\t\tcalcBasePosition,\n\t\tcalcStartPosition,\n\t\tgetFontSize,\n\t};\n}","'use strict';\n{\n\tconst styleContents = require('../style');\n\tconst {isPromise, isDef, obj: {setReadonly}} = require('../../internal/utils');\n\tconst animate = require('../../internal/animate');\n\tconst BaseStyle = require('../style/Style');\n\tconst {COLUMN_FADEIN_STATE_ID} = require('../../internal/symbolManager');\n\n\n\tfunction isFadeinWhenCallbackInPromise(column, grid) {\n\t\tif (isDef(column._fadeinWhenCallbackInPromise)) {\n\t\t\treturn column._fadeinWhenCallbackInPromise;\n\t\t}\n\t\treturn !!grid.configure('fadeinWhenCallbackInPromise');\n\t}\n\n\tfunction getFadinState(grid) {\n\t\tif (!grid[COLUMN_FADEIN_STATE_ID]) {\n\t\t\tsetReadonly(grid, COLUMN_FADEIN_STATE_ID, {});\n\t\t}\n\t\treturn grid[COLUMN_FADEIN_STATE_ID];\n\t}\n\tfunction _generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n\t\treturn (point) => {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tconst stateKey = `${col}:${row}`;\n\t\t\tif (point === 1) {\n\t\t\t\tdelete state[stateKey];\n\t\t\t} else {\n\t\t\t\tstate[stateKey] = {\n\t\t\t\t\topacity: point,\n\t\t\t\t};\n\t\t\t}\n\t\t\tdrawCellBase();\n\n\t\t\tdrawInternal();\n\n\t\t\tconst cellState = state[stateKey];\n\t\t\tif (cellState) {\n\t\t\t\t//\n\t\t\t\tconst ctx = context.getContext();\n\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\ttry {\n\t\t\t\t\tdrawCellBase();\n\t\t\t\t} finally {\n\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\tconst fadinMgr = {\n\t\tanimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\t// fadein animation\n\t\t\tconst state = getFadinState(grid);\n\n\t\t\tconst activeFadeins = [\n\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase),\n\t\t\t];\n\t\t\tstate.activeFadeins = activeFadeins;\n\n\t\t\tanimate(500, (point) => {\n\t\t\t\tactiveFadeins.forEach((f) => f(point));\n\t\t\t\tif (point === 1) {\n\t\t\t\t\tdelete state.activeFadeins;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tmargeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n\t\t\tconst state = getFadinState(grid);\n\t\t\tif (state.activeFadeins) {\n\t\t\t\tstate.activeFadeins.push(\n\t\t\t\t\t\t_generateFadinPointAction(grid, col, row, context, drawInternal, drawCellBase)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdrawInternal();\n\t\t\t}\n\t\t},\n\n\t};\n\n\tclass BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\n\n\t\t\t//Promisecallback\n\t\t\tthis._fadeinWhenCallbackInPromise = option.fadeinWhenCallbackInPromise;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn BaseStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst {style, getRecord, drawCellBase} = info;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\n\n\t\t\tconst record = getRecord();\n\t\t\tif (isPromise(record)) {\n\t\t\t\treturn record.then(() => this.onDrawCell(cellValue, info, context, grid));\n\t\t\t}\n\t\t\t//\n\t\t\tif (isPromise(cellValue)) {\n\t\t\t\tconst start = Date.now();\n\t\t\t\treturn cellValue.then((val) => {\n\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst time = Date.now() - start;\n\n\t\t\t\t\tconst drawInternal = () => {\n\t\t\t\t\t\tconst currentContext = context.toCurrentContext();\n\t\t\t\t\t\tconst drawRect = currentContext.getDrawRect();\n\t\t\t\t\t\tif (!drawRect) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst record = getRecord();\n\t\t\t\t\t\tif (isPromise(record)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\t\t\t\tthis.drawInternal(\n\t\t\t\t\t\t\t\tthis.convertInternal(val),\n\t\t\t\t\t\t\t\tcurrentContext,\n\t\t\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\t\t\thelper,\n\t\t\t\t\t\t\t\tgrid,\n\t\t\t\t\t\t\t\tinfo\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.drawMessageInternal(\n\t\t\t\t\t\t\t\tinfo.getMessage(),\n\t\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\t\t\thelper,\n\t\t\t\t\t\t\t\tgrid,\n\t\t\t\t\t\t\t\tinfo\n\t\t\t\t\t\t);\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!isFadeinWhenCallbackInPromise(this, grid)) {\n\t\t\t\t\t\tdrawInternal();//\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst {col, row} = context;\n\t\t\t\t\t\tif (time < 80) {\n\t\t\t\t\t\t\t//80msPromiseCallback\n\t\t\t\t\t\t\tfadinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\tfadinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst actStyle = styleContents.of(style, record, this.StyleClass);\n\t\t\t\tthis.drawInternal(\n\t\t\t\t\t\tthis.convertInternal(cellValue),\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\thelper,\n\t\t\t\t\t\tgrid,\n\t\t\t\t\t\tinfo\n\t\t\t\t);\n\t\t\t\tthis.drawMessageInternal(\n\t\t\t\t\t\tinfo.getMessage(),\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\tactStyle,\n\t\t\t\t\t\thelper,\n\t\t\t\t\t\tgrid,\n\t\t\t\t\t\tinfo\n\t\t\t\t);\n\t\t\t\t//\n\t\t\t\tconst {col, row} = context;\n\t\t\t\tconst stateKey = `${col}:${row}`;\n\t\t\t\tconst cellState = grid[COLUMN_FADEIN_STATE_ID] && grid[COLUMN_FADEIN_STATE_ID][stateKey];\n\t\t\t\tif (cellState) {\n\t\t\t\t\tconst ctx = context.getContext();\n\t\t\t\t\tctx.globalAlpha = 1 - cellState.opacity;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdrawCellBase();\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tctx.globalAlpha = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn isDef(value) ? value : '';\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\n\t\t}\n\t\tdrawMessageInternal(message, context, style, helper, grid, info) {\n\t\t\tinfo.messageHandler.drawCellMessage(message, context, style, helper, info);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseColumn;\n}","'use strict';\n{\n\tconst Style = require('../style/Style');\n\tconst BaseColumn = require('./BaseColumn');\n\tconst utils = require('./columnUtils');\n\n\tclass Column extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Column(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding,\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.text(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = Column;\n}","'use strict';\n\nconst {isDef} = require('../internal/utils');\nclass Inline {\n\tconstructor(content) {\n\t\tthis._content = isDef(content) ? content : '';\n\t}\n\twidth({ctx}) {\n\t\treturn ctx.measureText(this._content).width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(fn) {\n\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom,\n\t}) {\n\t\tcanvashelper.fillTextRect(ctx, this._content,\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t{\n\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\tpadding: {\n\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t}\n\t\t\t\t});\n\t}\n}\nmodule.exports = Inline;","'use strict';\n{\n\tconst {isDef, obj: {each}} = require('../internal/utils');\n\t//private symbol\n\tconst {_} = require('../internal/symbolManager').get();\n\n\tlet nextId = 1;\n\t/**\n\t * event target.\n\t */\n\tclass EventTarget {\n\t\tconstructor() {\n\t\t\tthis[_] = {};\n\t\t\tthis[_].listeners = {};\n\t\t\tthis[_].listenerData = {};\n\t\t}\n\t\t/**\n\t\t * Adds an event listener.\n\t\t * @param  {string} type The event type id.\n\t\t * @param  {function} listener Callback method.\n\t\t * @return {number} unique id for the listener.\n\t\t */\n\t\tlisten(type, listener) {\n\t\t\tconst list = this[_].listeners[type] || (this[_].listeners[type] = []);\n\t\t\tlist.push(listener);\n\n\t\t\tconst id = nextId++;\n\t\t\tthis[_].listenerData[id] = {\n\t\t\t\ttype,\n\t\t\t\tlistener,\n\t\t\t\tremove: () => {\n\t\t\t\t\tdelete this[_].listenerData[id];\n\t\t\t\t\tconst index = list.indexOf(listener);\n\t\t\t\t\tlist.splice(index, 1);\n\t\t\t\t\tif (!this[_].listeners[type].length) {\n\t\t\t\t\t\tdelete this[_].listeners[type];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\t\t\treturn id;\n\n\t\t}\n\t\t/**\n\t\t * Removes an event listener which was added with listen() by the id returned by listen().\n\t\t * @param  {number} id the id returned by listen().\n\t\t * @return {void}\n\t\t */\n\t\tunlisten(id) {\n\t\t\tthis[_].listenerData[id].remove();\n\t\t}\n\t\taddEventListener(type, listener) {\n\t\t\tthis.listen(type, listener);\n\t\t}\n\t\tremoveEventListener(type, listener) {\n\t\t\teach(this[_].listenerData, (obj, id) => {\n\t\t\t\tif (obj.type === type && obj.listener === listener) {\n\t\t\t\t\tthis.unlisten(id);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\thasListeners(type) {\n\t\t\treturn !!this[_].listeners[type];\n\t\t}\n\t\t/**\n\t\t * Fires all registered listeners\n\t\t * @param  {string}    type The type of the listeners to fire.\n\t\t * @param  {...*} args fire arguments\n\t\t * @return {*} the result of the last listener\n\t\t */\n\t\tfireListeners(type, ...args) {\n\t\t\tconst list = this[_].listeners[type];\n\t\t\tif (!list) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\treturn list.\n\t\t\t\tmap((listener) => listener.call(this, ...args)).\n\t\t\t\tfilter(isDef);\n\t\t}\n\t\tdispose() {\n\t\t\tdelete this[_];\n\t\t}\n\t}\n\n\tmodule.exports = EventTarget;\n}","'use strict';\n{\n\n\tconst BaseAction = require('./BaseAction');\n\tclass Editor extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._readOnly = option.readOnly;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t\tset readOnly(readOnly) {\n\t\t\tthis._readOnly = !!readOnly;\n\t\t\tthis.onChangeReadOnlyInternal();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Editor(this);\n\t\t}\n\t\tonChangeReadOnlyInternal() {}\n\t}\n\tmodule.exports = Editor;\n}","'use strict';\n\nconst {isDef} = require('./utils');\n\nfunction createElement(tagName, {classList, text, html} = {}) {\n\tconst element = document.createElement(tagName);\n\tif (classList) {\n\t\tif (Array.isArray(classList)) {\n\t\t\telement.classList.add(...classList);\n\t\t} else {\n\t\t\telement.classList.add(classList);\n\t\t}\n\t}\n\tif (text) {\n\t\telement.textContent = text;\n\t} else if (html) {\n\t\telement.innerHTML = html;\n\t}\n\treturn element;\n}\n\nfunction empty(dom) {\n\tlet c;\n\twhile ((c = dom.firstChild)) {\n\t\tdom.removeChild(c);\n\t}\n}\nfunction isNode(arg) {\n\treturn !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n\tif (isNode(arg)) {\n\t\treturn arg;\n\t}\n\tconst dom = createElement('div', {html: arg});\n\treturn Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n\tif ((window.jQuery && arg instanceof window.jQuery)) {\n\t\treturn Array.prototype.map.call(arg, (a) => a);\n\t}\n\tif (Array.isArray(arg)) {\n\t\treturn arg.map(toNode);\n\t}\n\tconst node = toNode(arg);\n\treturn Array.isArray(node) ? node : [toNode(arg)];\n}\n\nfunction appendHtml(dom, inner) {\n\ttoNodeList(inner).forEach((node) => {\n\t\tdom.appendChild(node);\n\t});\n}\n\nfunction disableFocus(el) {\n\tel.dataset.disableBeforeTabIndex = el.tabIndex;\n\tel.tabIndex = -1;\n\tArray.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nfunction enableFocus(el) {\n\tif ('disableBeforeTabIndex' in el.dataset) {\n\t\tel.tabIndex = el.dataset.disableBeforeTabIndex;\n\t}\n\tArray.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nfunction isFocusable(el) {\n\treturn isDef(el.tabIndex) && el.tabIndex > -1;\n}\nfunction findPrevSiblingFocusable(el) {\n\tlet n = el.previousSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.previousSibling;\n\t}\n\treturn n;\n}\nfunction findNextSiblingFocusable(el) {\n\tlet n = el.nextSibling;\n\twhile (n && !isFocusable(n)) {\n\t\tn = n.nextSibling;\n\t}\n\treturn n;\n}\n\nmodule.exports = {\n\tcreateElement,\n\tempty,\n\tisNode,\n\ttoNode,\n\ttoNodeList,\n\tappendHtml,\n\tdisableFocus,\n\tenableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable,\n};","'use strict';\n{\n\tconst {isPromise} = require('../../internal/utils');\n\tconst icons = require('../../internal/icons');\n\tmodule.exports = {\n\t\tloadIcons(icon, context, helper, callback) {\n\t\t\tif (icon) {\n\t\t\t\tif (isPromise(icon)) {\n\t\t\t\t\ticon.then((i) => {\n\t\t\t\t\t\tthis.loadIcon(i, context.toCurrentContext(), callback);\n\t\t\t\t\t});\n\t\t\t\t\ticon = null;\n\t\t\t\t} else {\n\t\t\t\t\tconst iconList = icons.toNormarizeArray(icon);\n\t\t\t\t\ticonList.forEach((i) => {\n\t\t\t\t\t\thelper.testFontLoad(i.font, i.content, context);\n\t\t\t\t\t});\n\t\t\t\t\ticon = iconList;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcallback(icon, context);\n\t\t},\n\t};\n}","'use strict';\n{\n\tconst BaseStyle = require('./style/BaseStyle');\n\tconst Style = require('./style/Style');\n\n\tconst style = {\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tof(columnStyle, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(), StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}","'use strict';\n{\n\tclass Rect {\n\t\tconstructor(left, top, width, height) {\n\t\t\tthis._left = left;\n\t\t\tthis._top = top;\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t}\n\t\tstatic bounds(left, top, right, bottom) {\n\t\t\treturn new Rect(left, top, right - left, bottom - top);\n\t\t}\n\t\tstatic max(rect1, rect2) {\n\t\t\treturn Rect.bounds(\n\t\t\t\t\tMath.min(rect1.left, rect2.left),\n\t\t\t\t\tMath.min(rect1.top, rect2.top),\n\t\t\t\t\tMath.max(rect1.right, rect2.right),\n\t\t\t\t\tMath.max(rect1.bottom, rect2.bottom)\n\t\t\t);\n\t\t}\n\t\tget left() {\n\t\t\treturn this._left;\n\t\t}\n\t\tset left(left) {\n\t\t\tconst {right} = this;\n\t\t\tthis._left = left;\n\t\t\tthis.right = right;\n\t\t}\n\t\tget top() {\n\t\t\treturn this._top;\n\t\t}\n\t\tset top(top) {\n\t\t\tconst {bottom} = this;\n\t\t\tthis._top = top;\n\t\t\tthis.bottom = bottom;\n\t\t}\n\t\tget width() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset width(width) {\n\t\t\tthis._width = width;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\tget height() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset height(height) {\n\t\t\tthis._height = height;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tget right() {\n\t\t\treturn this._right !== undefined ? this._right : (this._right = this.left + this.width);\n\t\t}\n\t\tset right(right) {\n\t\t\tthis._right = right;\n\t\t\tthis.width = right - this.left;\n\t\t}\n\t\tget bottom() {\n\t\t\treturn this._bottom !== undefined ? this._bottom : (this._bottom = this.top + this.height);\n\t\t}\n\t\tset bottom(bottom) {\n\t\t\tthis._bottom = bottom;\n\t\t\tthis.height = bottom - this.top;\n\t\t}\n\t\toffsetLeft(offset) {\n\t\t\tthis._left += offset;\n\t\t\tthis._right = undefined;\n\t\t}\n\t\toffsetTop(offset) {\n\t\t\tthis._top += offset;\n\t\t\tthis._bottom = undefined;\n\t\t}\n\t\tcopy() {\n\t\t\treturn new Rect(this.left, this.top, this.width, this.height);\n\t\t}\n\t\tintersection(rect) {\n\t\t\tconst x0 = Math.max(this.left, rect.left);\n\t\t\tconst x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\t\t\tif (x0 <= x1) {\n\t\t\t\tconst y0 = Math.max(this.top, rect.top);\n\t\t\t\tconst y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\t\t\t\tif (y0 <= y1) {\n\t\t\t\t\treturn Rect.bounds(x0, y0, x1, y1);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tcontains(another) {\n\t\t\treturn this.left <= another.left &&\n\t\t\t\t\tthis.left + this.width >= another.left + another.width &&\n\t\t\t\t\tthis.top <= another.top &&\n\t\t\t\t\tthis.top + this.height >= another.top + another.height;\n\t\t}\n\t\tinPoint(x, y) {\n\t\t\treturn this.left <= x &&\n\t\t\t\t\tthis.left + this.width >= x &&\n\t\t\t\t\tthis.top <= y &&\n\t\t\t\t\tthis.top + this.height >= y;\n\t\t}\n\t}\n\tmodule.exports = Rect;\n}","'use strict';\n\nfunction parse(calcStr) {\n\tfunction replacer(match, num, unit) {\n\t\tswitch (unit) {\n\t\tcase '%':\n\t\t\treturn `(${num} * this.full / 100)`;\n\t\tcase 'em':\n\t\t\treturn `(${num} * this.em)`;\n\t\tcase 'px':\n\t\t\treturn `(${num})`;\n\t\tdefault:\n\t\t\tthrow new Error('calc error');\n\t\t}\n\t}\n\tconst script = calcStr.replace(/^calc\\((.*)\\)$/, '$1').\n\t\treplace(/(\\d+)([A-Za-z%]+)/g, replacer).\n\t\treplace(/(\\d*\\.\\d+)([A-Za-z%]+)/g, replacer);\n\treturn {\n\t\teval(context) {\n\t\t\tfunction fn() {\n\t\t\t\tfunction calc(v) { // eslint-disable-line no-unused-vars\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t\treturn eval(script);// eslint-disable-line no-eval\n\t\t\t}\n\t\t\treturn fn.call(context);\n\t\t}\n\t};\n}\nfunction toPx(value, context) {\n\tif (/^calc\\(.*\\)$/.test(value)) {\n\t\treturn parse(value).eval(context);\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*%$/.test(value)) {\n\t\treturn context.full * value.substr(0, value.length - 1) / 100;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*px$/.test(value)) {\n\t\treturn value.substr(0, value.length - 2) - 0;\n\t}\n\tif (/^[+-]?\\d+\\.?\\d*em$/.test(value)) {\n\t\treturn context.em * (value.substr(0, value.length - 2) - 0);\n\t}\n\treturn value - 0;\n}\n\nmodule.exports = {\n\tparse,\n\ttoPx(value, context) {\n\t\tif (typeof value === 'string') {\n\t\t\treturn toPx(value.trim(), context);\n\t\t}\n\t\treturn value - 0;\n\t}\n};","'use strict';\n{\n\n\n\tclass BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tthis._disabled = option.disabled;\n\t\t}\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tset disabled(disabled) {\n\t\t\tthis._disabled = !!disabled;\n\t\t\tthis.onChangeDisabledInternal();\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseAction(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t\tonChangeDisabledInternal() {}\n\t}\n\tmodule.exports = BaseAction;\n}","'use strict';\n{\n\tconst BaseStyle = require('./BaseStyle');\n\n\tlet defaultStyle;\n\tclass StdBaseStyle extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._textAlign = style.textAlign || 'left';\n\t\t\tthis._textBaseline = style.textBaseline || 'middle';\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new StdBaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = StdBaseStyle;\n}","'use strict';\n{\n\tconst EventTarget = require('../../core/EventTarget');\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style',\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n\t\t}\n\t\tconstructor(\n\t\t\t\t{\n\t\t\t\t\tbgColor\n\t\t\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}","'use strict';\n\nconst {isDef} = require('./utils');\n\nconst ICON_PROP_KEYS = [\n\t'content',\n\t'font',\n\t'color',\n\t'className',\n\t'isLiga',\n\t'width',\n\t'src',\n\t'svg',\n\t'name',\n\t'path'\n];\n\nfunction quote(name) {\n\tconst quoted = [];\n\tconst split = name.split(/,\\s*/);\n\tfor (let i = 0; i < split.length; i++) {\n\t\tconst part = split[i].replace(/['\"]/g, '');\n\t\tif (part.indexOf(' ') === -1 && !(/^\\d/.test(part))) {\n\t\t\tquoted.push(part);\n\t\t} else {\n\t\t\tquoted.push(`'${part}'`);\n\t\t}\n\t}\n\treturn quoted.join(',');\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n\tconst tagProps = props[tagName] || (props[tagName] = {});\n\tif (tagProps[className]) {\n\t\treturn tagProps[className];\n\t}\n\tconst dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n\tdom.className = className;\n\tdocument.body.appendChild(dom);\n\ttry {\n\t\tconst beforeStyle = document.defaultView.getComputedStyle(dom, '::before');\n\t\tlet content = beforeStyle.getPropertyValue('content');\n\t\tif (content.length >= 3 && (content[0] === '\"' || content[0] === '\\'')) {\n\t\t\tif (content[0] === content[content.length - 1]) {\n\t\t\t\tcontent = content.substr(1, content.length - 2);\n\t\t\t}\n\t\t}\n\t\tlet font = beforeStyle.getPropertyValue('font');\n\t\tif (!font) {\n\t\t\tfont = `${beforeStyle.getPropertyValue('font-style')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-variant')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-weight')} ${\n\t\t\t\tbeforeStyle.getPropertyValue('font-size')}/${\n\t\t\t\tbeforeStyle.getPropertyValue('line-height')} ${\n\t\t\t\tquote(beforeStyle.getPropertyValue('font-family'))}`;\n\t\t}\n\t\tconst color = beforeStyle.getPropertyValue('color');\n\t\tconst width = dom.clientWidth;\n\t\tconst isLiga = (beforeStyle.getPropertyValue('font-feature-settings') || '').indexOf('liga') > -1;\n\n\t\treturn (tagProps[className] = {\n\t\t\tcontent,\n\t\t\tfont,\n\t\t\tcolor,\n\t\t\twidth,\n\t\t\tisLiga,\n\t\t});\n\t} finally {\n\t\tdocument.body.removeChild(dom);\n\t}\n}\n\nfunction toPropArray(prop, count) {\n\tconst result = [];\n\tif (Array.isArray(prop)) {\n\t\tresult.push(...prop);\n\t\tfor (let i = prop.length; i < count; i++) {\n\t\t\tresult.push(null);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tresult.push(prop);\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction toSimpleArray(iconProps) {\n\tif (!iconProps) {\n\t\treturn iconProps;\n\t} else if (Array.isArray(iconProps)) {\n\t\treturn iconProps;\n\t}\n\n\tconst workData = {};\n\n\tlet count = 0;\n\tICON_PROP_KEYS.forEach((k) => {\n\t\tif (iconProps[k]) {\n\t\t\tif (Array.isArray(iconProps[k])) {\n\t\t\t\tcount = Math.max(count, iconProps[k].length);\n\t\t\t} else {\n\t\t\t\tcount = Math.max(count, 1);\n\t\t\t}\n\t\t}\n\t});\n\n\tICON_PROP_KEYS.forEach((k) => {\n\t\tworkData[k] = toPropArray(iconProps[k], count);\n\t});\n\n\tconst result = [];\n\tfor (let i = 0; i < count; i++) {\n\t\tconst data = {};\n\t\tICON_PROP_KEYS.forEach((k) => {\n\t\t\tdata[k] = workData[k][i];\n\t\t});\n\t\tresult.push(data);\n\t}\n\treturn result;\n}\n\nfunction normarize(iconProps) {\n\tconst data = {};\n\tfor (const k in iconProps) {\n\t\tif (k === 'className') {\n\t\t\tcontinue;\n\t\t}\n\t\tdata[k] = iconProps[k];\n\t}\n\tif (iconProps.className) {\n\t\tconst prop = getIconProps(iconProps.tagName || 'i', iconProps.className);\n\t\tfor (const k in prop) {\n\t\t\tif (!isDef(iconProps[k])) {\n\t\t\t\tdata[k] = prop[k];\n\t\t\t}\n\t\t}\n\t}\n\treturn data;\n}\n\nmodule.exports = {\n\ttoNormarizeArray(iconProps) {\n\t\tconst icons = toSimpleArray(iconProps);\n\t\tif (!icons) {\n\t\t\treturn icons;\n\t\t}\n\t\treturn icons.map((icon) => normarize(icon));\n\t},\n\tget iconPropKeys() {\n\t\treturn ICON_PROP_KEYS;\n\t},\n\tgetIconProps,\n};\n\n\n","'use strict';\n{\n\tconst {extend, getIgnoreCase} = require('./internal/utils');\n\tconst theme = require('./themes/theme');\n\tconst plugins = require('./plugins/themes');\n\tconst BASIC = theme.create(require('./themes/BASIC'));\n\tconst MATERIAL_DESIGN = theme.create(require('./themes/MATERIAL_DESIGN'));\n\n\tconst builtin = {\n\t\tBASIC,\n\t\tMATERIAL_DESIGN,\n\t};\n\tlet defTheme = theme.create({});\n\t/**\n\t * themes\n\t * @type {Object}\n\t * @namespace cheetahGrid.themes\n\t * @memberof cheetahGrid\n\t */\n\tconst themes = {\n\t\tget default() {\n\t\t\treturn defTheme;\n\t\t},\n\t\tset default(defaultTheme) {\n\t\t\tdefTheme = defaultTheme;\n\t\t},\n\t\ttheme,\n\t\tof(value) {\n\t\t\tif (!value) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (typeof value === 'string') {\n\t\t\t\tconst t = getIgnoreCase(themes.choices, value);\n\t\t\t\tif (t) {\n\t\t\t\t\treturn t;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\t/**\n\t\t * @namespace cheetahGrid.themes.choices\n\t\t */\n\t\tget choices() {\n\t\t\treturn extend(builtin, plugins);\n\t\t},\n\t};\n\tmodule.exports = themes;\n}","'use strict';\n{\n\tconst {array, isDef, isPromise, getOrApply, applyChainSafe, emptyFn} = require('../internal/utils');\n\tconst sort = require('../internal/sort');\n\tconst EventTarget = require('../core/EventTarget');\n\n\tconst EVENT_TYPE = {\n\t\tUPDATE_LENGTH: 'update_length',\n\t\tUPDATED_LENGTH: 'updated_length',\n\t\tUPDATED_ORDER: 'updated_order',\n\t};\n\n\tfunction getValue(value, setPromiseBack) {\n\t\tvalue = getOrApply(value);\n\t\tif (isPromise(value)) {\n\t\t\tvalue = value.then((r) => {\n\t\t\t\tif (!isPromise(r)) {\n\t\t\t\t\tsetPromiseBack(r);\n\t\t\t\t}\n\t\t\t\treturn getValue(r, setPromiseBack);\n\t\t\t});\n\t\t\t//\n\t\t\tsetPromiseBack(value);\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction getField(record, field, setPromiseBack) {\n\t\tif (!isDef(record)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (isPromise(record)) {\n\t\t\treturn record.then((r) => getField(r, field, setPromiseBack));\n\t\t}\n\t\tif (field in record) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\tif (typeof field === 'function') {\n\t\t\treturn getValue(field(record), setPromiseBack);\n\t\t}\n\n\t\tconst ss = (`${field}`).split('.');\n\t\tif (ss.length <= 1) {\n\t\t\treturn getValue(record[field], setPromiseBack);\n\t\t}\n\t\treturn getValue(applyChainSafe(record, (val, name) => getField(val, name, emptyFn), ...ss), setPromiseBack);\n\t}\n\tfunction setField(record, field, value) {\n\t\tif (field in record) {\n\t\t\trecord[field] = value;\n\t\t} else if (typeof field === 'function') {\n\t\t\treturn field(record, value);\n\t\t} else if (typeof field === 'string') {\n\t\t\tconst ss = (`${field}`).split('.');\n\t\t\tlet obj = record;\n\t\t\tconst {length} = ss;\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst f = ss[i];\n\t\t\t\tif (i === length - 1) {\n\t\t\t\t\tobj[f] = value;\n\t\t\t\t} else {\n\t\t\t\t\tobj = obj[f] || (obj[f] = {});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\trecord[field] = value;\n\t\t}\n\t\treturn true;\n\t}\n\tfunction _getIndex(dataSource, index) {\n\t\tif (!dataSource._sortedIndexMap) {\n\t\t\treturn index;\n\t\t}\n\t\tconst mapIndex = dataSource._sortedIndexMap[index];\n\t\treturn isDef(mapIndex) ? mapIndex : index;\n\t}\n\n\t/**\n\t * grid data source\n\t *\n\t * @classdesc cheetahGrid.data.DataSource\n\t * @extends EventTarget\n\t * @memberof cheetahGrid.data\n\t */\n\tclass DataSource extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new DataSource({\n\t\t\t\tget: (index) => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor(obj = {}) {\n\t\t\tsuper();\n\t\t\tthis._get = obj.get && obj.get.bind(obj) || undefined;\n\t\t\tthis._length = obj.length || 0;\n\t\t\tthis._sortedIndexMap = false;\n\t\t}\n\t\tget(index) {\n\t\t\treturn this.getOriginal(_getIndex(this, index));\n\t\t}\n\t\tgetField(index, field) {\n\t\t\treturn this.getOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\thasField(index, field) {\n\t\t\treturn this.hasOriginalField(_getIndex(this, index), field);\n\t\t}\n\t\tsetField(index, field, value) {\n\t\t\treturn this.setOriginalField(_getIndex(this, index), field, value);\n\t\t}\n\t\tsort(field, order) {\n\t\t\tconst sortedIndexMap = new Array(this._length);\n\n\t\t\tconst orderFn = order !== 'desc'\n\t\t\t\t? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1\n\t\t\t\t: (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n\n\t\t\treturn sort.sortPromise(\n\t\t\t\t\t(index) => isDef(sortedIndexMap[index])\n\t\t\t\t\t\t? sortedIndexMap[index]\n\t\t\t\t\t\t: (sortedIndexMap[index] = index),\n\t\t\t\t\t(index, rel) => {\n\t\t\t\t\t\tsortedIndexMap[index] = rel;\n\t\t\t\t\t},\n\t\t\t\t\tthis._length,\n\t\t\t\t\torderFn,\n\t\t\t\t\t(index) => this.getOriginalField(index, field)\n\t\t\t).then(() => {\n\t\t\t\tthis._sortedIndexMap = sortedIndexMap;\n\t\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n\t\t\t});\n\t\t}\n\t\tget length() {\n\t\t\treturn this._length;\n\t\t}\n\t\tset length(length) {\n\t\t\tif (this._length === length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\t\t\tif (array.findIndex(results, (v) => !v) >= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._length = length;\n\t\t\tthis.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\treturn getValue(this._get(index), (val) => {\n\t\t\t\tthis.recordPromiseCallBackInternal(index, val);\n\t\t\t});\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn getField(record, field, (val) => {\n\t\t\t\tthis.fieldPromiseCallBackInternal(index, field, val);\n\t\t\t});\n\t\t}\n\t\thasOriginalField(index, field) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (typeof field === 'function') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn field in record;\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tif (!isDef(field)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = this.getOriginal(index);\n\t\t\treturn setField(record, field, value);\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t//\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\t//\n\t\t}\n\t}\n\tDataSource.EMPTY = new DataSource({\n\t\tlength: 0,\n\t});\n\n\tmodule.exports = DataSource;\n}","'use strict';\n\nfunction getPath2D() {\n\t//return require('./legacy/canvas/Path2D');\n\treturn window.Path2D || require('./legacy/canvas/Path2D');\n}\n\nmodule.exports = {\n\tfill(module, ctx, x, y, w, h) {\n\t\tctx.save();\n\t\ttry {\n\t\t\tconst {width, height} = module;\n\t\t\tconst {ud: upsideDown, x: offsetX = 0, y: offsetY = 0} = module;\n\t\t\tw = w || width;\n\t\t\th = h || height;\n\t\t\tconst xrate = w / width;\n\t\t\tconst yrate = h / (upsideDown ? -height : height);\n\t\t\tx = x || 0;\n\t\t\ty = upsideDown ? ((y || 0) + (-height * yrate)) : (y || 0);\n\n\t\t\tctx.translate(x, y);\n\t\t\tctx.scale(xrate, yrate);\n\t\t\tif (offsetX !== 0 || offsetY !== 0) {\n\t\t\t\tctx.translate(offsetX, offsetY);\n\t\t\t}\n\t\t\tconst Path2D = getPath2D();\n\t\t\tmodule.path2d = module.path2d || (new Path2D(module.d));\n\t\t\tctx.fill(module.path2d);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t},\n\tget Path2D() {\n\t\treturn getPath2D();\n\t},\n};\n","'use strict';\n\nclass BaseMessage {\n\tconstructor(grid) {\n\t\tthis._grid = grid;\n\t}\n\tdispose() {\n\t\tthis.detachMessageElement();\n\t\tif (this._messageElement) {\n\t\t\tthis._messageElement.dispose();\n\t\t}\n\t\tthis._messageElement = null;\n\t}\n\t_getMessageElement() {\n\t\treturn this._messageElement || (this._messageElement = this.createMessageElementInternal());\n\t}\n\tcreateMessageElementInternal() {\n\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\n\t}\n\tattachMessageElement(col, row, message) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.attach(this._grid, col, row, message);\n\t}\n\tmoveMessageElement(col, row) {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement.move(this._grid, col, row);\n\t}\n\tdetachMessageElement() {\n\t\tconst messageElement = this._getMessageElement();\n\t\tmessageElement._detach();\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\t\tthis.drawCellMessageInternal(message, context, style, helper, info);\n\t}\n}\n\nmodule.exports = BaseMessage;","'use strict';\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createMessageDomElement() {\n\trequire('./MessageElement.css');\n\tconst rootElement = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst messageElement = createElement('span', {classList: [MESSAGE_CLASSNAME]});\n\trootElement.appendChild(messageElement);\n\treturn rootElement;\n}\n\n\nclass MessageElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tconst rootElement = this._rootElement = createMessageDomElement();\n\t\tthis._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._rootElement = null;\n\t\tthis._messageElement = null;\n\t}\n\tattach(grid, col, row, message) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst messageElement = this._messageElement;\n\n\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\n\t\tif (this._attachCell(grid, col, row)) {\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\n\t\t\tmessageElement.textContent = message.message;\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tmove(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tif (this._attachCell(grid, col, row)) {\n\n\t\t\trootElement.classList.add(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.remove(HIDDEN_CLASSNAME);\n\t\t} else {\n\t\t\tthis._detach();\n\t\t}\n\t}\n\tdetach() {\n\t\tthis._detach();\n\t}\n\t_detach() {\n\t\tconst rootElement = this._rootElement;\n\t\tif (rootElement.parentElement) {\n\t\t\trootElement.parentElement.removeChild(rootElement);\n\t\t\trootElement.classList.remove(SHOWN_CLASSNAME);\n\t\t\trootElement.classList.add(HIDDEN_CLASSNAME);\n\t\t}\n\t}\n\t_attachCell(grid, col, row) {\n\t\tconst rootElement = this._rootElement;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t\tconst {bottom: top, left, width} = rect;\n\t\tconst {frozenRowCount, frozenColCount} = grid;\n\t\tif (row >= frozenRowCount && frozenRowCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(col, frozenRowCount - 1);\n\t\t\tif (top < frozenRect.bottom) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (top < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tif (col >= frozenColCount && frozenColCount > 0) {\n\t\t\tconst {rect: frozenRect} = grid.getAttachCellArea(frozenColCount - 1, row);\n\t\t\tif (left < frozenRect.right) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t} else {\n\t\t\tif (left < 0) {\n\t\t\t\treturn false;//\n\t\t\t}\n\t\t}\n\t\tconst {offsetHeight, offsetWidth} = element;\n\t\tif (offsetHeight < top) {\n\t\t\treturn false;//\n\t\t}\n\t\tif (offsetWidth < left) {\n\t\t\treturn false;//\n\t\t}\n\n\t\trootElement.style.top = `${top.toFixed()}px`;\n\t\trootElement.style.left = `${left.toFixed()}px`;\n\t\trootElement.style.width = `${width.toFixed()}px`;\n\t\tif (rootElement.parentElement !== element) {\n\t\t\telement.appendChild(rootElement);\n\t\t}\n\t\treturn true;\n\t}\n}\n\nmodule.exports = MessageElement;","'use strict';\n\nconst Rect = require('../../internal/Rect');\nmodule.exports = {\n\tdrawExclamationMarkBox(context, style, helper) {\n\n\t\tconst {bgColor, color} = style;\n\t\tconst ctx = context.getContext();\n\t\tconst rect = context.getRect();\n\t\t// draw box\n\t\tctx.fillStyle = bgColor;\n\t\tconst boxRect = rect.copy();\n\t\tboxRect.left = boxRect.right - 24;\n\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t// draw exclamation mark\n\t\tconst fillColor = color;\n\t\tconst height = 20;\n\t\tconst width = height / 5;\n\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5 * 3),\n\t\t\t\tcontext, {fillColor});\n\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 4, width, height / 5),\n\t\t\t\tcontext, {fillColor});\n\t},\n\tdrawInfomationMarkBox(context, style, helper) {\n\n\t\tconst {bgColor, color} = style;\n\t\tconst ctx = context.getContext();\n\t\tconst rect = context.getRect();\n\t\t// draw box\n\t\tctx.fillStyle = bgColor;\n\t\tconst boxRect = rect.copy();\n\t\tboxRect.left = boxRect.right - 24;\n\t\tctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n\n\t\t// draw i mark\n\t\tconst fillColor = color;\n\t\tconst height = 20;\n\t\tconst width = height / 5;\n\t\tconst left = boxRect.left + (boxRect.width - width) / 2;\n\t\tconst top = boxRect.top + (boxRect.height - height) / 2;\n\t\thelper.fillRectWithState(new Rect(left, top, width, height / 5),\n\t\t\t\tcontext, {fillColor});\n\t\thelper.fillRectWithState(new Rect(left, top + height / 5 * 2, width, height / 5 * 3),\n\t\t\t\tcontext, {fillColor});\n\t},\n};\n","'use strict';\n{\n\tfunction getScrollBarWidth() {\n\t\tconst dummy = document.createElement('div');\n\t\tconst {style} = dummy;\n\t\tstyle.position = 'absolute';\n\t\tstyle.height = '9999px';\n\t\tstyle.width = 'calc(100vw - 100%)';\n\t\tstyle.opacity = 0;\n\t\tdummy.textContent = 'x';\n\t\tdocument.body.appendChild(dummy);\n\t\tconst {width} = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn parseInt(width, 10);\n\t}\n\n\tlet SCROLLBAR_SIZE;\n\tconst initDocument = () => {\n\t\trequire('./style.css');\n\t\tSCROLLBAR_SIZE = getScrollBarWidth() || 10;\n\t\tconst style = document.createElement('style');\n\t\tstyle.setAttribute('type', 'text/css');\n\t\tstyle.setAttribute('data-name', 'cheetah-grid');\n\t\tstyle.innerHTML =\n\t\t`\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n\n\t\tdocument.head.appendChild(style);\n\t};\n\n\tconst style = {\n\t\tinitDocument() {\n\t\t\tstyle.initDocument = () => {};\n\t\t\tinitDocument();\n\t\t},\n\t\tgetScrollBarSize() {\n\t\t\treturn SCROLLBAR_SIZE;\n\t\t}\n\t};\n\n\tmodule.exports = style;\n}","'use strict';\n{\n\tconst {calcBasePosition, calcStartPosition, getFontSize} = require('../internal/canvases');\n\tconst {ceil, PI} = Math;\n\n\tfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n\t\tfunction strokeRectLines(positions) {\n\t\t\tfor (let i = 0; i < borderColors.length; i++) {\n\t\t\t\tconst color = borderColors[i];\n\t\t\t\tconst preColor = borderColors[i - 1];\n\t\t\t\tif (color) {\n\t\t\t\t\tif (preColor !== color) {\n\t\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst pos1 = positions[i];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(pos1.x, pos1.y);\n\t\t\t\t\t}\n\t\t\t\t\tconst pos2 = positions[i + 1];\n\t\t\t\t\tctx.lineTo(pos2.x, pos2.y);\n\t\t\t\t} else {\n\t\t\t\t\tif (preColor) {\n\t\t\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst preColor = borderColors[borderColors.length - 1];\n\t\t\tif (preColor) {\n\t\t\t\tctx.strokeStyle = preColor;\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t\tif (borderColors[0] === borderColors[1] &&\n\t\t\tborderColors[0] === borderColors[2] &&\n\t\t\tborderColors[0] === borderColors[3]) {\n\t\t\tif (borderColors[0]) {\n\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tstrokeRectLines([\n\t\t\t\t{x: left, y: top},\n\t\t\t\t{x: left + width, y: top},\n\t\t\t\t{x: left + width, y: top + height},\n\t\t\t\t{x: left, y: top + height},\n\t\t\t\t{x: left, y: top},\n\t\t\t]);\n\t\t}\n\t}\n\tfunction roundRect(ctx, left, top, width, height, radius) {\n\t\tctx.beginPath();\n\t\tctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n\t\tctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n\t\tctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n\t\tctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n\t\tctx.closePath();\n\t}\n\tfunction fillRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.fill();\n\t}\n\tfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n\t\troundRect(ctx, left, top, width, height, radius);\n\t\tctx.stroke();\n\t}\n\tfunction fillTextRect(ctx, text, left, top, width, height,\n\t\t\t{\n\t\t\t\toffset = 2,\n\t\t\t\tpadding,\n\t\t\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height,\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcBasePosition(ctx, rect, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.fillText(text, pos.x, pos.y);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawInlineImageRect(ctx, image,\n\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\n\t\t\tdestWidth, destHeight,\n\t\t\tleft, top, width, height,\n\t\t\t{\n\t\t\t\toffset = 2,\n\t\t\t\tpadding,\n\t\t\t} = {}) {\n\t\tconst rect = {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tright: left + width,\n\t\t\tbottom: top + height,\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, destWidth, destHeight, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\n\t\t\tctx.drawImage(image,\n\t\t\t\t\tsrcLeft, srcTop, srcWidth, srcHeight,\n\t\t\t\t\tpos.x, pos.y, destWidth, destHeight\n\t\t\t);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\n\t * Returns an object containing the width of the checkbox.\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @return {Object} Object containing the width of the checkbox\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\n\tfunction measureCheckbox(ctx) {\n\t\treturn {\n\t\t\twidth: getFontSize(ctx, null).width\n\t\t};\n\t}\n\n\t/**\n\t * draw Checkbox\n\t * @param  {CanvasRenderingContext2D} ctx canvas context\n\t * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n\t * @param  {boolean|number} check checkbox check status\n\t * @param  {object} option option\n\t * @return {void}\n\t * @memberof cheetahGrid.tools.canvashelper\n\t */\n\tfunction drawCheckbox(ctx, x, y, check,\n\t\t\t{\n\t\t\t\tuncheckBgColor = '#FFF',\n\t\t\t\tcheckBgColor = 'rgb(76, 73, 72)',\n\t\t\t\tborderColor = '#000',\n\t\t\t\tboxSize = measureCheckbox(ctx).width,\n\t\t\t} = {}) {\n\t\tconst checkPoint = typeof check === 'number' ? (check > 1 ? 1 : check) : 1;\n\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n\n\t\t\tfillRoundRect(\n\t\t\t\t\tctx,\n\t\t\t\t\tceil(x) - 1,\n\t\t\t\t\tceil(y) - 1,\n\t\t\t\t\tceil(boxSize + 1),\n\t\t\t\t\tceil(boxSize + 1),\n\t\t\t\t\tboxSize / 5\n\t\t\t);\n\t\t\tctx.lineWidth = 1;\n\t\t\tctx.strokeStyle = borderColor;\n\t\t\tstrokeRoundRect(\n\t\t\t\t\tctx,\n\t\t\t\t\tceil(x) - 0.5,\n\t\t\t\t\tceil(y) - 0.5,\n\t\t\t\t\tceil(boxSize),\n\t\t\t\t\tceil(boxSize),\n\t\t\t\t\tboxSize / 5\n\t\t\t);\n\t\t\tif (check) {\n\t\t\t\tctx.lineWidth = ceil(boxSize / 10);\n\t\t\t\tctx.strokeStyle = uncheckBgColor;\n\t\t\t\tlet leftWidth = boxSize / 4;\n\t\t\t\tlet rightWidth = boxSize / 2 * 0.9;\n\t\t\t\tconst leftLeftPos = x + boxSize * 0.2;\n\t\t\t\tconst leftTopPos = y + boxSize / 2;\n\n\t\t\t\tif (checkPoint < 0.5) {\n\t\t\t\t\tleftWidth *= (checkPoint * 2);\n\t\t\t\t}\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(leftLeftPos, leftTopPos);\n\t\t\t\tctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\t\t\t\tif (checkPoint > 0.5) {\n\t\t\t\t\tif (checkPoint < 1) {\n\t\t\t\t\t\trightWidth *= ((checkPoint - 0.5) * 2);\n\t\t\t\t\t}\n\t\t\t\t\tctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n\t\t\t\t}\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\tfunction drawButton(ctx, left, top, width, height, option = {}) {\n\t\tconst {\n\t\t\tbackgroundColor = '#FFF',\n\t\t\tbgColor = backgroundColor,\n\t\t\tradius = 4,\n\t\t\tshadow = {},\n\t\t} = option;\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.fillStyle = bgColor;\n\n\t\t\tif (shadow) {\n\t\t\t\tconst {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, 0.24)',\n\t\t\t\t\tblur = 1,\n\t\t\t\t\toffsetX = 0,\n\t\t\t\t\toffsetY = 2,\n\t\t\t\t\toffset: {\n\t\t\t\t\t\tx: ox = offsetX,\n\t\t\t\t\t\ty: oy = offsetY\n\t\t\t\t\t} = {},\n\t\t\t\t} = shadow;\n\t\t\t\tctx.shadowColor = color;\n\t\t\t\tctx.shadowBlur = blur; //\n\t\t\t\tctx.shadowOffsetX = ox;\n\t\t\t\tctx.shadowOffsetY = oy;\n\t\t\t}\n\n\t\t\tfillRoundRect(\n\t\t\t\t\tctx,\n\t\t\t\t\tceil(left),\n\t\t\t\t\tceil(top),\n\t\t\t\t\tceil(width),\n\t\t\t\t\tceil(height),\n\t\t\t\t\tradius\n\t\t\t);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n\n\t/**\n\t * canvashelper\n\t * @type {Object}\n\t * @namespace cheetahGrid.tools.canvashelper\n\t * @memberof cheetahGrid.tools\n\t */\n\tconst canvashelper = {\n\t\troundRect,\n\t\tfillRoundRect,\n\t\tstrokeRoundRect,\n\t\tdrawCheckbox,\n\t\tmeasureCheckbox,\n\t\tfillTextRect,\n\t\tdrawButton,\n\t\tdrawInlineImageRect,\n\t\tstrokeColorsRect,\n\t};\n\n\n\tmodule.exports = canvashelper;\n}","'use strict';\n{\n\tconst action = require('./columns/action');\n\tconst type = require('./columns/type');\n\tconst style = require('./columns/style');\n\n\t/**\n\t * columns\n\t * @type {Object}\n\t * @namespace cheetahGrid.columns\n\t * @memberof cheetahGrid\n\t */\n\tmodule.exports = {\n\t\taction,\n\t\ttype,\n\t\tstyle,\n\t};\n}","'use strict';\n{\n\n\tconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\n\n\tconst BaseAction = require('./BaseAction');\n\n\tclass Action extends BaseAction {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._action = option.action;\n\t\t}\n\t\tget action() {\n\t\t\treturn this._action;\n\t\t}\n\t\tset action(action) {\n\t\t\tthis._action = action;\n\t\t}\n\t\tclone() {\n\t\t\treturn new Action(this);\n\t\t}\n\t\tgetState(grid) {\n\t\t\treturn {};\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst state = this.getState(grid);\n\t\t\tconst action = (cell) => {\n\t\t\t\tif (this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst record = grid.getRowRecord(cell.row);\n\t\t\t\tthis._action(record);\n\t\t\t};\n\n\t\t\treturn [\n\t\t\t\t...bindCellClickAction(grid, col, util, {\n\t\t\t\t\taction,\n\t\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\t\trow: e.row\n\t\t\t\t\t\t};\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\t\t\t\t\tmouseOut: (e) => {\n\t\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\t...bindCellKeyAction(grid, col, util, {\n\t\t\t\t\taction\n\t\t\t\t})\n\t\t\t];\n\t\t}\n\t}\n\n\tmodule.exports = Action;\n}","'use strict';\n{\n\n\tconst {isPromise, event: {cancel}} = require('../../internal/utils');\n\tconst {EVENT_TYPE: {\n\t\tCLICK_CELL,\n\t\tMOUSEOVER_CELL,\n\t\tMOUSEOUT_CELL,\n\t\tKEYDOWN,\n\t}} = require('../../core/DrawGrid');\n\tconst KEY_ENTER = 13;\n\tfunction bindCellClickAction(grid, col, util, {\n\t\taction,\n\t\tmouseOver,\n\t\tmouseOut\n\t}) {\n\t\treturn [\n\t\t\t// click\n\t\t\tgrid.listen(CLICK_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\taction({\n\t\t\t\t\tcol: e.col,\n\t\t\t\t\trow: e.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isPromise(grid.getRowRecord(e.row))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (mouseOver) {\n\t\t\t\t\tif (!mouseOver({\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t})) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (mouseOut) {\n\t\t\t\t\tmouseOut({\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t}),\n\t\t];\n\t}\n\tfunction bindCellKeyAction(grid, col, util, {action, acceptKeys = []}) {\n\t\tacceptKeys = [...acceptKeys, KEY_ENTER];\n\t\treturn [\n\t\t\t// enter key down\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (acceptKeys.indexOf(keyCode) === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isPromise(grid.getRowRecord(sel.row))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\taction({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t\tcancel(e);\n\t\t\t}),\n\n\t\t];\n\t}\n\n\tmodule.exports = {\n\t\tbindCellClickAction,\n\t\tbindCellKeyAction,\n\t};\n}","'use strict';\n{\n\tfunction cubicBezier(x2, y2, x3, y3) {\n\t\tlet step;\n\t\tconst err = 0.0001;\n\n\t\tx2 *= 3;\n\t\ty2 *= 3;\n\t\tx3 *= 3;\n\t\ty3 *= 3;\n\n\t\treturn function(t) {\n\t\t\tlet p,\n\t\t\t\ta,\n\t\t\t\tb,\n\t\t\t\tc,\n\t\t\t\td,\n\t\t\t\tx,\n\t\t\t\ts;\n\t\t\tif (t < 0 || 1 < t) {\n\t\t\t\tthrow new Error(t);\n\t\t\t}\n\n\t\t\tp = step || t;\n\n\t\t\tdo {\n\t\t\t\ta = 1 - p;\n\t\t\t\tb = a * a;\n\t\t\t\tc = p * p;\n\t\t\t\td = c * p;\n\n\t\t\t\tx = x2 * b * p + x3 * a * c + d;\n\t\t\t\ts = t - x;\n\t\t\t\tp += s * 0.5;\n\t\t\t} while (err < Math.abs(s));\n\n\t\t\tstep = p;\n\t\t\treturn\ty2 * b * p + y3 * a * c + d;\n\t\t};\n\t}\n\tconst EASINGS = {\n\t\tlinear(p) {\n\t\t\treturn p;\n\t\t},\n\t\teaseIn: cubicBezier(0.420, 0.000, 1.000, 1.000),\n\t\teaseOut: cubicBezier(0.000, 0.000, 0.580, 1.000),\n\t\teaseInOut: cubicBezier(0.420, 0.000, 0.580, 1.000),\n\t};\n\n\tconst raf = window.requestAnimationFrame || setTimeout;\n\n\tfunction now() {\n\t\treturn Date.now();\n\t}\n\t/**\n\t * <pre>\n\t * Animates.\n\t * </pre>\n\t * @function\n\t * @param {number} duration animation time.\n\t * @param {function} step\n\t * @param {function|string} easing\n\t * @returns {object} Deferred object.\n\t */\n\tmodule.exports = (duration, step, easing) => {\n\t\tconst startedAt = now();\n\n\t\tif (!easing) {\n\t\t\teasing = EASINGS.easeInOut;\n\t\t} else if (typeof easing === 'string') {\n\t\t\teasing = EASINGS[easing];\n\t\t}\n\n\t\tlet canceledFlg = false;\n\t\tconst createAnim = (resolve, reject) => {\n\t\t\tconst anim = () => {\n\t\t\t\tconst point = now() - startedAt;\n\t\t\t\tif (canceledFlg) {\n\t\t\t\t\t//cancel\n\t\t\t\t\tif (reject) { reject(); }\n\t\t\t\t} else if (point >= duration) {\n\t\t\t\t\t//end\n\t\t\t\t\tstep(1);\n\t\t\t\t\tif (resolve) { resolve(); }\n\t\t\t\t} else {\n\t\t\t\t\tstep(easing(point / duration));\n\n\t\t\t\t\traf(anim, 1);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn anim;\n\t\t};\n\t\tconst cancel = () => {\n\t\t\tcanceledFlg = true;\n\t\t};\n\t\tif (window.Promise) {\n\t\t\tconst result = new window.Promise((resolve, reject) => {\n\t\t\t\tconst anim = createAnim(resolve, reject);\n\t\t\t\tstep(0);\n\t\t\t\tanim();\n\t\t\t});\n\t\t\tresult.cancel = cancel;\n\t\t\treturn result;\n\t\t} else {\n\t\t\tconst anim = createAnim(() => {}, () => {});\n\t\t\tstep(0);\n\t\t\tanim();\n\t\t\treturn {\n\t\t\t\tcancel,\n\t\t\t};\n\t\t}\n\t};\n}","'use strict';\n{\n\n\tconst Editor = require('./Editor');\n\tconst {EVENT_TYPE: {\n\t\tINPUT_CELL,\n\t\tEDITABLEINPUT_CELL,\n\t\tSELECTED_CELL,\n\t\tDBLCLICK_CELL,\n\t\tDBLTAP_CELL,\n\t\tKEYDOWN,\n\t\tMODIFY_STATUS_EDITABLEINPUT_CELL,\n\t\tSCROLL\n\t}} = require('../../core/DrawGrid');\n\tconst KEY_ENTER = 13;\n\tconst KEY_F2 = 113;\n\n\tclass BaseInputEditor extends Editor {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseInputEditor(this);\n\t\t}\n\t\tonInputCellInternal(grid, cell, inputValue) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonOpenCellInternal(grid, cell) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonSetInputAttrsInternal(grid, cell, input) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tonGridScrollInternal(grid) {\n\t\t\tthrow new Error();\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tconst open = (cell) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onOpenCellInternal(grid, cell);\n\t\t\t};\n\n\t\t\tconst input = (cell, value) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onInputCellInternal(grid, cell, value);\n\t\t\t};\n\t\t\treturn [\n\t\t\t\tgrid.listen(INPUT_CELL, (e) => {\n\t\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tinput({\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t}, e.value);\n\t\t\t\t}),\n\t\t\t\tgrid.listen(DBLCLICK_CELL, (cell) => {\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\topen({\n\t\t\t\t\t\tcol: cell.col,\n\t\t\t\t\t\trow: cell.row\n\t\t\t\t\t});\n\t\t\t\t}),\n\t\t\t\tgrid.listen(DBLTAP_CELL, (e) => {\n\t\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\topen({\n\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\trow: e.row\n\t\t\t\t\t});\n\n\t\t\t\t\te.event.preventDefault();\n\t\t\t\t\te.event.stopPropagation();\n\t\t\t\t}),\n\t\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\topen({\n\t\t\t\t\t\tcol: sel.col,\n\t\t\t\t\t\trow: sel.row\n\t\t\t\t\t});\n\t\t\t\t}),\n\t\t\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\t\t\tthis.onChangeSelectCellInternal(grid, {col: e.col, row: e.row}, e.selected);\n\t\t\t\t}),\n\t\t\t\tgrid.listen(SCROLL, () => {\n\t\t\t\t\tthis.onGridScrollInternal(grid);\n\t\t\t\t}),\n\t\t\t\tgrid.listen(EDITABLEINPUT_CELL, (cell) => {\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}),\n\t\t\t\tgrid.listen(MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\n\t\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.onSetInputAttrsInternal(grid, {\n\t\t\t\t\t\tcol: cell.col,\n\t\t\t\t\t\trow: cell.row\n\t\t\t\t\t}, cell.input);\n\t\t\t\t}),\n\n\t\t\t];\n\t\t}\n\t}\n\n\tmodule.exports = BaseInputEditor;\n}","'use strict';\n\nfunction normalize(options) {\n\tif (!options) {\n\t\treturn [];\n\t}\n\tif (Array.isArray(options)) {\n\t\treturn options;\n\t}\n\tif (typeof options === 'string') {\n\t\treturn normalize(JSON.parse(options));\n\t}\n\tconst result = [];\n\tfor (const k in options) {\n\t\tresult.push({\n\t\t\tvalue: k,\n\t\t\tcaption: options[k]\n\t\t});\n\t}\n\treturn result;\n}\n\nmodule.exports = {\n\tnormalize,\n};\n","'use strict';\n{\n\tconst BaseStyle = require('./style/BaseStyle');\n\tconst Style = require('./style/Style');\n\tconst NumberStyle = require('./style/NumberStyle');\n\tconst CheckStyle = require('./style/CheckStyle');\n\tconst ButtonStyle = require('./style/ButtonStyle');\n\tconst ImageStyle = require('./style/ImageStyle');\n\tconst IconStyle = require('./style/IconStyle');\n\tconst PercentCompleteBarStyle = require('./style/PercentCompleteBarStyle');\n\n\t/**\n\t * column styles\n\t * @type {Object}\n\t * @namespace cheetahGrid.columns.style\n\t * @memberof cheetahGrid.columns\n\t */\n\tconst style = {\n\t\tget EVENT_TYPE() {\n\t\t\treturn BaseStyle.EVENT_TYPE;\n\t\t},\n\t\tget BaseStyle() {\n\t\t\treturn BaseStyle;\n\t\t},\n\t\tget Style() {\n\t\t\treturn Style;\n\t\t},\n\t\tget NumberStyle() {\n\t\t\treturn NumberStyle;\n\t\t},\n\t\tget CheckStyle() {\n\t\t\treturn CheckStyle;\n\t\t},\n\t\tget ButtonStyle() {\n\t\t\treturn ButtonStyle;\n\t\t},\n\t\tget ImageStyle() {\n\t\t\treturn ImageStyle;\n\t\t},\n\t\tget IconStyle() {\n\t\t\treturn IconStyle;\n\t\t},\n\t\tget PercentCompleteBarStyle() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t},\n\t\tof(columnStyle, record, StyleClass) {\n\t\t\tif (columnStyle) {\n\t\t\t\tif (columnStyle instanceof Style) {\n\t\t\t\t\treturn columnStyle;\n\t\t\t\t} else if (typeof columnStyle === 'function') {\n\t\t\t\t\treturn style.of(columnStyle(record), record, StyleClass);\n\t\t\t\t} else if (record && columnStyle in record) {\n\t\t\t\t\treturn style.of(record[columnStyle], record, StyleClass);\n\t\t\t\t}\n\t\t\t\treturn new StyleClass(columnStyle);\n\t\t\t} else {\n\t\t\t\treturn StyleClass.DEFAULT;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = style;\n}","'use strict';\n{\n\tconst Style = require('./Style');\n\n\tfunction adj(style) {\n\t\tconst {textAlign = 'right'} = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass NumberStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberStyle(this);\n\t\t}\n\t}\n\n\n\tmodule.exports = NumberStyle;\n}","'use strict';\n{\n\tconst StdBaseStyle = require('./StdBaseStyle');\n\n\tfunction adj(style) {\n\t\tconst {textAlign = 'center'} = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass CheckStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tuncheckBgColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tborderColor,\n\t\t\t} = style;\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis._borderColor = borderColor;\n\t\t}\n\t\tget uncheckBgColor() {\n\t\t\treturn this._uncheckBgColor;\n\t\t}\n\t\tset uncheckBgColor(uncheckBgColor) {\n\t\t\tthis._uncheckBgColor = uncheckBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget checkBgColor() {\n\t\t\treturn this._checkBgColor;\n\t\t}\n\t\tset checkBgColor(checkBgColor) {\n\t\t\tthis._checkBgColor = checkBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget borderColor() {\n\t\t\treturn this._borderColor;\n\t\t}\n\t\tset borderColor(borderColor) {\n\t\t\tthis._borderColor = borderColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckStyle(this);\n\t\t}\n\t}\n\n\n\tmodule.exports = CheckStyle;\n}","'use strict';\n{\n\tconst Style = require('./Style');\n\n\tfunction adj(style) {\n\t\tconst {textAlign = 'center'} = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass ButtonStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tconst {\n\t\t\t\tbuttonBgColor,\n\t\t\t} = style;\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t}\n\t\tget buttonBgColor() {\n\t\t\treturn this._buttonBgColor;\n\t\t}\n\t\tset buttonBgColor(buttonBgColor) {\n\t\t\tthis._buttonBgColor = buttonBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonStyle(this);\n\t\t}\n\t}\n\n\n\tmodule.exports = ButtonStyle;\n}","'use strict';\n{\n\tconst StdBaseStyle = require('./StdBaseStyle');\n\tlet defaultStyle;\n\tfunction adj(style) {\n\t\tconst {textAlign = 'center'} = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tclass ImageStyle extends StdBaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tthis._imageSizing = style.imageSizing;\n\t\t\tthis._margin = style.margin || 4;\n\t\t}\n\t\tget imageSizing() {\n\t\t\treturn this._imageSizing;\n\t\t}\n\t\tset imageSizing(imageSizing) {\n\t\t\tthis._imageSizing = imageSizing;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget margin() {\n\t\t\treturn this._margin;\n\t\t}\n\t\tset margin(margin) {\n\t\t\tthis._margin = margin;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageStyle(this);\n\t\t}\n\t}\n\tmodule.exports = ImageStyle;\n}","'use strict';\n{\n\tconst Style = require('./Style');\n\n\tfunction adj(style) {\n\t\tconst {textAlign = 'center'} = style;\n\t\tstyle.textAlign = textAlign;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass IconStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconStyle(this);\n\t\t}\n\t}\n\n\n\tmodule.exports = IconStyle;\n}","'use strict';\n{\n\tconst Style = require('./Style');\n\tlet defaultStyle;\n\tconst DEFAULT_BAR_COLOR = (num) => {\n\t\tif (num > 80) {\n\t\t\treturn '#20a8d8';\n\t\t}\n\t\tif (num > 50) {\n\t\t\treturn '#4dbd74';\n\t\t}\n\t\tif (num > 20) {\n\t\t\treturn '#ffc107';\n\t\t}\n\t\treturn '#f86c6b';\n\t};\n\tclass PercentCompleteBarStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new PercentCompleteBarStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._barColor = style.barColor || DEFAULT_BAR_COLOR;\n\t\t\tthis._barBgColor = style.barBgColor || '#f0f3f5';\n\t\t\tthis._barHeight = style.barHeight || 3;\n\t\t}\n\t\tget barColor() {\n\t\t\treturn this._barColor;\n\t\t}\n\t\tset barColor(barColor) {\n\t\t\tthis._barColor = barColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barBgColor() {\n\t\t\treturn this._barBgColor;\n\t\t}\n\t\tset barBgColor(barBgColor) {\n\t\t\tthis._barBgColor = barBgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget barHeight() {\n\t\t\treturn this._barHeight;\n\t\t}\n\t\tset barHeight(barHeight) {\n\t\t\tthis._barHeight = barHeight;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarStyle(this);\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarStyle;\n}","'use strict';\n\nconst {then} = require('./utils');\nconst LRUCache = require('./LRUCache');\n\nconst allCache = {};\n\nfunction isDataUrl(url) {\n\treturn url.search(/^(data:)/) !== -1;\n}\n\nfunction loadImage(src) {\n\tif (!window.Promise) {\n\t\tconsole.error('Promise is not loaded. load Promise before this process.');\n\t\treturn {\n\t\t\tthen() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t}\n\tconst img = new Image();\n\tconst result = new window.Promise((resolve) => {\n\t\timg.onload = () => {\n\t\t\tresolve(img);\n\t\t};\n\t});\n\timg.onerror = (e) => {\n\t\tconst url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n\t\tconsole.warn(`cannot load: ${url}`);\n\t\tthrow new Error(`IMAGE LOAD ERROR: ${url}`);\n\t};\n\timg.src = isDataUrl(src) ? src : `${src}?${Date.now()}`;\n\treturn result;\n}\n\nfunction getCacheOrLoad0(cache, src) {\n\treturn then(src, (src) => {\n\t\tconst c = cache.get(src);\n\t\tif (c) {\n\t\t\treturn c;\n\t\t}\n\t\tconst result = loadImage(src).then((img) => {\n\t\t\tcache.put(src, img);\n\t\t\treturn img;\n\t\t});\n\t\tcache.put(src, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n\tconst cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache(cacheSize));\n\treturn getCacheOrLoad0(cache, src);\n}\n\nmodule.exports = {\n\tloadImage,\n\tgetCacheOrLoad,\n};\n","/*eslint no-bitwise:0*/\n'use strict';\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: {frozenRowCount}\n\t} = args;\n\tif (frozenRowCount - 1 === row) {\n\t\treturn ['#f2f2f2', '#f2f2f2', '#ccc7c7', '#f2f2f2'];\n\t} else {\n\t\treturn ['#f2f2f2'];\n\t}\n}\nfunction BORDER_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid: {colCount}\n\t} = args;\n\tif (colCount - 1 === col) {\n\t\treturn ['#ccc7c7', '#f2f2f2', '#ccc7c7', null];\n\t} else {\n\t\treturn ['#ccc7c7', null];\n\t}\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: 'rgba(0, 0, 0, 0.87)',\n\tdefaultBgColor: '#FFF',\n\tfrozenRowsBgColor: '#FFF',\n\tfrozenRowsColor: 'rgba(0, 0, 0, 0.54)',\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: BORDER_COLOR,\n\tfrozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t\tborderColor: 'rgba(0, 0, 0, 0.26)',\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3',\n\t},\n\tunderlayBackgroundColor: '#FFF',\n};","'use strict';\n\nmodule.exports = {};","'use strict';\n{\n\tconst DataSource = require('./data/DataSource');\n\tconst CachedDataSource = require('./data/CachedDataSource');\n\tconst FilterDataSource = require('./data/FilterDataSource');\n\n\n\t/**\n\t * data modules\n\t * @type {Object}\n\t * @namespace cheetahGrid.data\n\t * @memberof cheetahGrid\n\t */\n\tmodule.exports = {\n\t\tDataSource,\n\t\tCachedDataSource,\n\t\tFilterDataSource\n\t};\n}","'use strict';\n{\n\tconst {isPromise} = require('./utils');\n\n\tfunction wait(val) {\n\t\treturn val.then((v) => {\n\t\t\tif (isPromise(v)) {\n\t\t\t\treturn wait(v);\n\t\t\t} else {\n\t\t\t\treturn v;\n\t\t\t}\n\t\t});\n\t}\n\tfunction createArray(get, length) {\n\t\tconst array = new Array(length);\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tarray[i] = get(i);\n\t\t}\n\t\treturn array;\n\t}\n\tfunction createArrayPromise(get, getField, length) {\n\t\treturn new Promise((resolve) => {\n\t\t\tconst plist = [];\n\t\t\tconst array = new Array(length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst data = get(i);\n\t\t\t\tconst record = {\n\t\t\t\t\tv: data,\n\t\t\t\t\tf: data\n\t\t\t\t};\n\t\t\t\tarray[i] = record;\n\t\t\t\tif (isPromise(data)) {\n\t\t\t\t\tplist.push(wait(data).then((v) => {\n\t\t\t\t\t\trecord.v = v;\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(\n\t\t\t\t\t() => setArrayField(array, getField)\n\t\t\t).then(resolve);\n\t\t});\n\t}\n\tfunction setArrayField(array, getField) {\n\t\tif (!getField) {\n\t\t\treturn Promise.resolve(array);\n\t\t}\n\t\treturn new Promise((resolve) => {\n\t\t\tconst {length} = array;\n\t\t\tconst plist = [];\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst record = array[i];\n\t\t\t\trecord.f = getField(record.v);\n\t\t\t\tif (isPromise(record.f)) {\n\t\t\t\t\tplist.push(wait(record.f).then((v) => {\n\t\t\t\t\t\trecord.f = v;\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tPromise.all(plist).then(() => resolve(array));\n\t\t});\n\t}\n\tconst sort = {\n\t\tsort(get, set, length, compare, getField) {\n\t\t\tconst old = createArray(get, length);\n\t\t\tif (getField) {\n\t\t\t\told.sort((r1, r2) => compare(getField(r1), getField(r2)));\n\t\t\t} else {\n\t\t\t\told.sort(compare);\n\t\t\t}\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tset(i, old[i]);\n\t\t\t}\n\t\t},\n\t\tsortArray(array, compare) {\n\t\t\tArray.prototype.sort.call(array, compare);\n\t\t},\n\t\tsortPromise(get, set, length, compare, getField) {\n\t\t\tif (window.Promise) {\n\t\t\t\treturn createArrayPromise(get, getField, length).then((array) => {\n\t\t\t\t\tarray.sort((r1, r2) => compare(r1.f, r2.f));\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tset(i, array[i].v);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tsort.sort(get, set, length, compare, getField);\n\t\t\t\tconst dummyPromise = {\n\t\t\t\t\tthen(fn) {\n\t\t\t\t\t\tfn();\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t},\n\t\t\t\t\tcatch() {\n\t\t\t\t\t\treturn dummyPromise;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn dummyPromise;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = sort;\n}","/*eslint no-bitwise:0*/\n'use strict';\n{\n\tconst {calcStartPosition, getFontSize} = require('./internal/canvases');\n\tconst inlines = require('./element/inlines');\n\tconst canvashelper = require('./tools/canvashelper');\n\tconst themes = require('./themes');\n\tconst {colorToRGB} = require('./internal/color');\n\tconst Rect = require('./internal/Rect');\n\tconst {getChainSafe, getOrApply, style: {toBoxArray}} = require('./internal/utils');\n\tconst fonts = require('./internal/fonts');\n\tconst calc = require('./internal/calc');\n\n\tfunction invalidateCell(context, grid) {\n\t\tconst {col, row} = context;\n\t\tgrid.invalidateCell(col, row);\n\t}\n\tfunction getColor(color, col, row, grid, context) {\n\t\treturn getOrApply(color, {\n\t\t\tcol,\n\t\t\trow,\n\t\t\tgrid,\n\t\t\tcontext,\n\t\t});\n\t}\n\tfunction getThemeColor(grid, ...names) {\n\t\treturn getChainSafe(grid.theme, ...names) || getChainSafe(themes.default, ...names);\n\t}\n\tfunction testFontLoad(font, value, context, grid) {\n\t\tif (font) {\n\t\t\tif (!fonts.check(font, value)) {\n\t\t\t\tfonts.load(font, value, () => invalidateCell(context, grid));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n\t\tfunction drawInline(inline, offsetLeft, offsetRight) {\n\t\t\tif (inline.canDraw()) {\n\t\t\t\tctx.save();\n\t\t\t\ttry {\n\t\t\t\t\tctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n\t\t\t\t\tctx.font = inline.font() || ctx.font;\n\t\t\t\t\tinline.draw({\n\t\t\t\t\t\tctx,\n\t\t\t\t\t\tcanvashelper,\n\t\t\t\t\t\trect,\n\t\t\t\t\t\toffset,\n\t\t\t\t\t\toffsetLeft,\n\t\t\t\t\t\toffsetRight,\n\t\t\t\t\t\toffsetTop,\n\t\t\t\t\t\toffsetBottom,\n\t\t\t\t\t});\n\t\t\t\t} finally {\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tinline.onReady(() => grid.invalidateCell(col, row));\n\t\t\t\t//noop\n\t\t\t}\n\t\t}\n\t\tif (inlines.length === 1) {\n\t\t\t//1\n\t\t\tconst inline = inlines[0];\n\t\t\tdrawInline(inline, 0, 0);\n\t\t} else {\n\t\t\tconst inlineWidths = inlines.map((inline) => (inline.width({ctx}) || 0) - 0);\n\t\t\tlet offsetRight = inlineWidths.reduce((a, b) => a + b);\n\n\t\t\tlet offsetLeft = 0;\n\t\t\tinlines.forEach((inline, index) => {\n\t\t\t\tconst inlineWidth = inlineWidths[index];\n\t\t\t\toffsetRight -= inlineWidth;\n\t\t\t\tdrawInline(inline, offsetLeft, offsetRight);\n\t\t\t\toffsetLeft += inlineWidth;\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction _inlineRect(grid, ctx, inline, rect, col, row,\n\t\t\t{\n\t\t\t\toffset,\n\t\t\t\tcolor,\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tfont,\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\n\t\t//style\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tctx.font = font || ctx.font;\n\n\t\tconst actInlines = inlines.buildInlines(icons, inline);\n\t\tdrawInlines(ctx, actInlines, rect, offset, 0, 0, col, row, grid);\n\t}\n\n\tfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row,\n\t\t\t{\n\t\t\t\toffset,\n\t\t\t\tcolor,\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tfont,\n\t\t\t\tlineHeight,\n\t\t\t\ticons,\n\t\t\t} = {}) {\n\t\t//style\n\t\tctx.fillStyle = getColor(color, col, row, grid, ctx);\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tctx.font = font || ctx.font;\n\n\t\tmultiInlines = [...multiInlines];\n\n\n\t\tlet paddingTop = 0;\n\t\tlet paddingBottom = lineHeight * (multiInlines.length - 1);\n\n\t\tif (ctx.textBaseline === 'top' || ctx.textBaseline === 'hanging') {\n\t\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\t\tconst pad = (lineHeight - em) / 2;\n\t\t\tpaddingTop += pad;\n\t\t\tpaddingBottom -= pad;\n\t\t} else if (ctx.textBaseline === 'bottom' || ctx.textBaseline === 'alphabetic' || ctx.textBaseline === 'ideographic') {\n\t\t\tconst em = getFontSize(ctx, ctx.font).height;\n\t\t\tconst pad = (lineHeight - em) / 2;\n\t\t\tpaddingTop -= pad;\n\t\t\tpaddingBottom += pad;\n\t\t}\n\t\tconst line = multiInlines.shift() || '';\n\t\tconst actInlines = inlines.buildInlines(icons, line);\n\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\tpaddingTop += lineHeight;\n\t\tpaddingBottom -= lineHeight;\n\t\twhile (multiInlines.length) {\n\t\t\tconst line = multiInlines.shift();\n\t\t\tconst actInlines = inlines.buildInlines(undefined, line);\n\t\t\tdrawInlines(ctx, actInlines, rect, offset, paddingTop, paddingBottom, col, row, grid);\n\t\t\tpaddingTop += lineHeight;\n\t\t\tpaddingBottom -= lineHeight;\n\t\t}\n\n\t}\n\n\n\tfunction drawCheckbox(ctx, rect, check, helper,\n\t\t\t{\n\t\t\t\tanimElapsedTime = 1,\n\t\t\t\tuncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n\t\t\t\tcheckBgColor = helper.theme.checkbox.checkBgColor,\n\t\t\t\tborderColor = helper.theme.checkbox.borderColor,\n\t\t\t\ttextAlign = 'center',\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t} = {}) {\n\t\tconst boxWidth = canvashelper.measureCheckbox(ctx).width;\n\t\tctx.textAlign = textAlign;\n\t\tctx.textBaseline = textBaseline;\n\t\tconst pos = calcStartPosition(ctx, rect, boxWidth + 1/*+1*/, boxWidth + 1/*+1*/);\n\t\tif (0 < animElapsedTime && animElapsedTime < 1) {\n\t\t\tconst uncheckBgRGB = colorToRGB(uncheckBgColor);\n\t\t\tconst checkBgRGB = colorToRGB(checkBgColor);\n\t\t\tconst checkRGB = (colorName) => {\n\t\t\t\tconst start = uncheckBgRGB[colorName];\n\t\t\t\tconst end = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = start - end;\n\t\t\t\treturn Math.ceil(start - diff * animElapsedTime);\n\t\t\t};\n\t\t\tconst uncheckRGB = (colorName) => {\n\t\t\t\tconst end = uncheckBgRGB[colorName];\n\t\t\t\tconst start = checkBgRGB[colorName];\n\t\t\t\tif (animElapsedTime >= 1) {\n\t\t\t\t\treturn end;\n\t\t\t\t}\n\t\t\t\tconst diff = end - start;\n\t\t\t\treturn Math.ceil(start + diff * animElapsedTime);\n\t\t\t};\n\t\t\tuncheckBgColor = check ? uncheckBgColor : `rgb(${uncheckRGB('r')} , ${uncheckRGB('g')}, ${uncheckRGB('b')})`;\n\t\t\tcheckBgColor = `rgb(${checkRGB('r')} , ${checkRGB('g')}, ${checkRGB('b')})`;\n\t\t}\n\n\t\tcanvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n\t\t\tuncheckBgColor,\n\t\t\tcheckBgColor,\n\t\t\tborderColor,\n\t\t});\n\t}\n\n\tclass Theme {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t}\n\t\tgetThemeColor(...name) {\n\t\t\treturn getThemeColor(this._grid, ...name);\n\t\t}\n\t\tget font() {\n\t\t\treturn getThemeColor(this._grid, 'font');\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn getThemeColor(this._grid, 'underlayBackgroundColor');\n\t\t}\n\t\t// color\n\t\tget color() {\n\t\t\treturn getThemeColor(this._grid, 'color');\n\t\t}\n\t\tget frozenRowsColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsColor');\n\t\t}\n\t\t// background\n\t\tget defaultBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'defaultBgColor');\n\t\t}\n\t\tget frozenRowsBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBgColor');\n\t\t}\n\t\tget selectionBgColor() {\n\t\t\treturn getThemeColor(this._grid, 'selectionBgColor');\n\t\t}\n\t\t// border\n\t\tget borderColor() {\n\t\t\treturn getThemeColor(this._grid, 'borderColor');\n\t\t}\n\t\tget frozenRowsBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'frozenRowsBorderColor');\n\t\t}\n\t\tget hiliteBorderColor() {\n\t\t\treturn getThemeColor(this._grid, 'hiliteBorderColor');\n\t\t}\n\t\tget checkbox() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'uncheckBgColor');\n\t\t\t\t},\n\t\t\t\tget checkBgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'checkBgColor');\n\t\t\t\t},\n\t\t\t\tget borderColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'checkbox', 'borderColor');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tget button() {\n\t\t\tconst grid = this._grid;\n\t\t\treturn this._button || (this._button = {\n\t\t\t\tget color() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'color');\n\t\t\t\t},\n\t\t\t\tget bgColor() {\n\t\t\t\t\treturn getThemeColor(grid, 'button', 'bgColor');\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t}\n\n\n\tfunction strokeRect(ctx, color, left, top, width, height) {\n\t\tif (!Array.isArray(color)) {\n\t\t\tif (color) {\n\t\t\t\tctx.strokeStyle = color;\n\t\t\t\tctx.strokeRect(left, top, width, height);\n\t\t\t}\n\t\t} else {\n\t\t\tconst borderColors = toBoxArray(color);\n\t\t\tcanvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n\t\t}\n\t}\n\n\tclass GridCanvasHelper {\n\t\tconstructor(grid) {\n\t\t\tthis._grid = grid;\n\t\t\tthis._theme = new Theme(grid);\n\t\t}\n\t\tcreateCalculator(context, font) {\n\t\t\treturn {\n\t\t\t\tcalcWidth(width) {\n\t\t\t\t\treturn calc.toPx(width, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.width;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\treturn getFontSize(context.getContext(), font).width;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tcalcHeight(height) {\n\t\t\t\t\treturn calc.toPx(height, {\n\t\t\t\t\t\tget full() {\n\t\t\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\t\t\treturn rect.height;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget em() {\n\t\t\t\t\t\t\treturn getFontSize(context.getContext(), font).height;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tgetColor(color, col, row, ctx) {\n\t\t\treturn getColor(color, col, row, this._grid, ctx);\n\t\t}\n\t\ttoBoxArray(obj) {\n\t\t\treturn toBoxArray(obj);\n\t\t}\n\t\ttoBoxPixelArray(value, context, font) {\n\t\t\tif (typeof value === 'string' || Array.isArray(value)) {\n\t\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\t\tconst box = toBoxArray(value);\n\t\t\t\treturn [\n\t\t\t\t\tcalculator.calcHeight(box[0]),\n\t\t\t\t\tcalculator.calcWidth(box[1]),\n\t\t\t\t\tcalculator.calcHeight(box[2]),\n\t\t\t\t\tcalculator.calcWidth(box[3]),\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn toBoxArray(value);\n\t\t}\n\t\tget theme() {\n\t\t\treturn this._theme;\n\t\t}\n\t\tdrawWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ctx = context.getContext();\n\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n\t\t\t\t//clip\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tdrawBorderWithClip(context, draw) {\n\t\t\tconst drawRect = context.getDrawRect();\n\t\t\tif (!drawRect) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst rect = context.getRect();\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\t//clip\n\t\t\t\tctx.beginPath();\n\t\t\t\tlet clipLeft = drawRect.left;\n\t\t\t\tlet clipWidth = drawRect.width;\n\t\t\t\tif (drawRect.left === rect.left) {\n\t\t\t\t\tclipLeft += -1;\n\t\t\t\t\tclipWidth += 1;\n\t\t\t\t}\n\t\t\t\tlet clipTop = drawRect.top;\n\t\t\t\tlet clipHeight = drawRect.height;\n\t\t\t\tif (drawRect.top === rect.top) {\n\t\t\t\t\tclipTop += -1;\n\t\t\t\t\tclipHeight += 1;\n\t\t\t\t}\n\t\t\t\tctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n\t\t\t\tctx.clip();\n\n\t\t\t\tdraw(ctx);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\ttext(text, context,\n\t\t\t\t{\n\t\t\t\t\tpadding,\n\t\t\t\t\toffset = 2,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign = 'left',\n\t\t\t\t\ttextBaseline = 'middle',\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t} = {}) {\n\t\t\tlet rect = context.getRect();\n\n\t\t\tconst {col, row} = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({color} = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\t\tif (padding) {\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t\t}\n\t\t\t\t_inlineRect(this._grid, ctx, text, rect, col, row,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toffset,\n\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\t\tfont,\n\t\t\t\t\t\t\ticons,\n\t\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tmultilineText(multilines, context,\n\t\t\t\t{\n\t\t\t\t\tpadding,\n\t\t\t\t\toffset = 2,\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign = 'left',\n\t\t\t\t\ttextBaseline = 'middle',\n\t\t\t\t\tfont,\n\t\t\t\t\tlineHeight = '1em',\n\t\t\t\t\ticons,\n\t\t\t\t} = {}) {\n\t\t\tlet rect = context.getRect();\n\n\t\t\tconst {col, row} = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({color} = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\t\tif (padding) {\n\t\t\t\t\tpadding = this.toBoxPixelArray(padding, context, font);\n\t\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\t\t\t\t\trect = new Rect(left, top, width, height);\n\t\t\t\t}\n\t\t\t\tconst calculator = this.createCalculator(context, font);\n\t\t\t\tlineHeight = calculator.calcHeight(lineHeight);\n\t\t\t\t_multiInlineRect(this._grid, ctx, multilines, rect, col, row,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toffset,\n\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\t\tfont,\n\t\t\t\t\t\t\tlineHeight,\n\t\t\t\t\t\t\ticons,\n\t\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tfillText(text, x, y, context,\n\t\t\t\t{\n\t\t\t\t\tcolor,\n\t\t\t\t\ttextAlign = 'left',\n\t\t\t\t\ttextBaseline = 'top',\n\t\t\t\t\tfont,\n\t\t\t\t} = {}) {\n\n\t\t\tconst {col, row} = context;\n\n\t\t\tif (!color) {\n\t\t\t\t({color} = this.theme);\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\tcolor = this.theme.frozenRowsColor;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\tctx.font = font || ctx.font;\n\t\t\t\tctx.fillText(text, x, y);\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tfillCell(context,\n\t\t\t\t{\n\t\t\t\t\tfillColor = this.theme.defaultBgColor,\n\t\t\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\t\tconst {col, row} = context;\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t\tfillCellWithState(context, option = {}) {\n\t\t\toption.fillColor = this.getFillColorState(context, option);\n\t\t\tthis.fillCell(context, option);\n\t\t}\n\t\tfillRect(rect, context,\n\t\t\t\t{\n\t\t\t\t\tfillColor = this.theme.defaultBgColor,\n\t\t\t\t} = {}) {\n\n\t\t\tconst ctx = context.getContext();\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tconst {col, row} = context;\n\t\t\t\tctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t\tctx.fill();\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\tfillRectWithState(rect, context, option = {}) {\n\t\t\toption.fillColor = this.getFillColorState(context, option);\n\n\t\t\tthis.fillRect(rect, context, option);\n\t\t}\n\t\tgetFillColorState(context, option = {}) {\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst {col, row} = context;\n\t\t\tif (!state.selected && state.selection) {\n\t\t\t\treturn this.theme.selectionBgColor;\n\t\t\t} else {\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\treturn this.theme.frozenRowsBgColor;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn option.fillColor || this.theme.defaultBgColor;\n\t\t}\n\t\tborder(context,\n\t\t\t\t{\n\t\t\t\t\tborderColor = this.theme.borderColor,\n\t\t\t\t\tlineWidth = 1,\n\t\t\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\t\tconst {col, row} = context;\n\t\t\t\tconst borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n\t\t\t\tif (lineWidth === 1) {\n\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n\t\t\t\t} else if (lineWidth === 2) {\n\t\t\t\t\tctx.lineWidth = 2;\n\t\t\t\t\tstrokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n\t\t\t\t} else {\n\t\t\t\t\tctx.lineWidth = lineWidth;\n\t\t\t\t\tconst startOffset = (lineWidth / 2) - 1;\n\t\t\t\t\tstrokeRect(ctx, borderColors,\n\t\t\t\t\t\t\trect.left + startOffset,\n\t\t\t\t\t\t\trect.top + startOffset,\n\t\t\t\t\t\t\trect.width - lineWidth + 1,\n\t\t\t\t\t\t\trect.height - lineWidth + 1\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tborderWithState(context, option = {}) {\n\t\t\tconst rect = context.getRect();\n\t\t\tconst state = context.getSelectState();\n\t\t\tconst {col, row} = context;\n\n\t\t\t//\n\t\t\tif (state.selected) {\n\t\t\t\toption.borderColor = this.theme.hiliteBorderColor;\n\t\t\t\toption.lineWidth = 2;\n\t\t\t\tthis.border(context, option);\n\t\t\t} else {\n\t\t\t\t// header color\n\t\t\t\tconst isFrozenCell = this._grid.isFrozenCell(col, row);\n\t\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\t\toption.borderColor = this.theme.frozenRowsBorderColor;\n\t\t\t\t}\n\n\t\t\t\toption.lineWidth = 1;\n\t\t\t\tthis.border(context, option);\n\n\t\t\t\t//\n\t\t\t\tconst sel = this._grid.selection.select;\n\t\t\t\tif (sel.col + 1 === col && sel.row === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(\n\t\t\t\t\t\t\t\tgetColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t} else if (sel.col === col && sel.row + 1 === row) {\n\t\t\t\t\t//\n\t\t\t\t\tthis.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\t\tconst borderColors = toBoxArray(\n\t\t\t\t\t\t\t\tgetColor(this.theme.hiliteBorderColor, sel.col, sel.row, this._grid, ctx)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcheckbox(check, context, option = {}) {\n\t\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\t\tdrawCheckbox(ctx, context.getRect(), check, this, option);\n\t\t\t});\n\t\t}\n\t\tbutton(caption, context,\n\t\t\t\t{\n\t\t\t\t\tbgColor = this.theme.button.bgColor,\n\t\t\t\t\tpadding,\n\t\t\t\t\toffset = 2,\n\t\t\t\t\tcolor = this.theme.button.color,\n\t\t\t\t\ttextAlign = 'center',\n\t\t\t\t\ttextBaseline = 'middle',\n\t\t\t\t\tshadow,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t} = {}) {\n\t\t\tconst rect = context.getRect();\n\n\t\t\tthis.drawWithClip(context, (ctx) => {\n\t\t\t\tconst {col, row} = context;\n\t\t\t\tpadding = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n\t\t\t\tconst left = rect.left + padding[3];\n\t\t\t\tconst top = rect.top + padding[0];\n\t\t\t\tconst width = rect.width - padding[1] - padding[3];\n\t\t\t\tconst height = rect.height - padding[0] - padding[2];\n\n\t\t\t\tcanvashelper.drawButton(ctx, left, top, width, height, {\n\t\t\t\t\tbgColor,\n\t\t\t\t\tradius: rect.height / 8,\n\t\t\t\t\toffset,\n\t\t\t\t\tshadow,\n\t\t\t\t});\n\t\t\t\t_inlineRect(this._grid, ctx, caption, new Rect(left, top, width, height),\n\t\t\t\t\t\tcol, row,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toffset,\n\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\ttextAlign,\n\t\t\t\t\t\t\ttextBaseline,\n\t\t\t\t\t\t\tfont,\n\t\t\t\t\t\t\ticons,\n\t\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\ttestFontLoad(font, value, context) {\n\t\t\treturn testFontLoad(font, value, context, this._grid);\n\t\t}\n\t}\n\n\tmodule.exports = GridCanvasHelper;\n}","'use strict';\n{\n\tconst loads = {};\n\tconst legacy = !document.fonts;\n\tconst load = legacy ? function(font, testStr, callback) {\n\t\t//for legacy(IE)\n\t\tif (loads[`${font} @ ${testStr}`]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\trequire('./legacy/fontwatch/FontWatchRunner').load(font, testStr, () => {\n\t\t\tloads[`${font} @ ${testStr}`] = true;\n\t\t\tcallback();\n\t\t}, () => {\n\t\t\tloads[`${font} @ ${testStr}`] = true;\n\t\t\tcallback();\n\t\t});\n\t} : function(font, testStr, callback) {\n\t\tif (loads.all || loads[font]) {\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\t\tdocument.fonts.ready.then(() => {\n\t\t\tloads.all = true;\n\t\t});\n\t\tdocument.fonts.load(font).then(() => {\n\t\t\tloads[font] = true;\n\t\t\tcallback();\n\t\t});\n\t};\n\tconst check = legacy ? function(font, testStr) {\n\t\t//for legacy(IE)\n\t\tif (loads[`${font} @ ${testStr}`]) {\n\t\t\treturn true;\n\t\t}\n\t\tload(font, testStr, () => {});\n\t\treturn false;\n\t} : function(font, testStr) {\n\t\tif (loads.all || loads[font]) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!document.fonts.check(font)) {\n\t\t\tload(font, testStr, () => {});\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\n\tmodule.exports = {\n\t\tcheck,\n\t\tload\n\t};\n}","'use strict';\n\nconst Inline = require('./Inline');\nconst {getCacheOrLoad} = require('../internal/imgs');\nconst {isPromise} = require('../internal/utils');\n\nclass InlineImage extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tsrc,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\timageLeft,\n\t\t\t\timageTop,\n\t\t\t\timageWidth,\n\t\t\t\timageHeight,\n\t\t\t}) {\n\t\tsuper();\n\t\tthis._src = src;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._imageLeft = imageLeft;\n\t\tthis._imageTop = imageTop;\n\t\tthis._imageWidth = imageWidth;\n\t\tthis._imageHeight = imageHeight;\n\n\t\tthis._onloaded = [];\n\n\n\t\tthis._loaded = false;\n\t\tif (isPromise(src)) {\n\t\t\tsrc.then((s) => {\n\t\t\t\tthis._src = s;\n\t\t\t\tthis._loadImage(s);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loadImage(src);\n\t\t}\n\n\t}\n\t_loadImage(src) {\n\t\tconst img = this._inlineImg = getCacheOrLoad('InlineImage', 50, src);\n\t\tif (isPromise(img)) {\n\t\t\timg.then((i) => {\n\t\t\t\tthis._loaded = true;\n\t\t\t\tthis._inlineImg = i;\n\n\t\t\t\tthis._onloaded.forEach((fn) => fn());\n\t\t\t});\n\t\t} else {\n\t\t\tthis._loaded = true;\n\t\t}\n\t}\n\twidth({ctx}) {\n\t\treturn this._width || (this._loaded ? this._inlineImg.width : 0);\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn null;\n\t}\n\tcanDraw() {\n\t\treturn this._loaded;\n\t}\n\tonReady(callback) {\n\t\tif (isPromise(this._src) || isPromise(this._inlineImg)) {\n\t\t\tthis._onloaded.push(() => callback());\n\t\t}\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tconst img = this._inlineImg;\n\t\tcanvashelper.drawInlineImageRect(ctx, img,\n\t\t\t\tthis._imageLeft || 0, this._imageTop || 0,\n\t\t\t\tthis._imageWidth || img.width, this._imageHeight || img.height,\n\t\t\t\tthis._width || img.width, this._height || img.height,\n\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t{\n\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\tpadding: {\n\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t}\n}\n\nmodule.exports = InlineImage;","/*eslint-disable camelcase*/\n'use strict';\n\nconst {extend} = require('./internal/utils');\nconst plugins = require('./plugins/icons');\nconst builtins = {\n\tget arrow_upward() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg');\n\t},\n\tget arrow_downward() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg');\n\t},\n\tget edit() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/image/svg/production/ic_edit_48px.svg');\n\t},\n\tget add() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/content/svg/production/ic_add_48px.svg');\n\t},\n\tget star() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg');\n\t},\n\tget star_border() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg');\n\t},\n\tget star_half() {\n\t\treturn require('../../webpack-loader/svg-to-icon-js-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg');\n\t},\n};\n\nmodule.exports = {\n\tget() {\n\t\treturn extend(builtins, plugins);\n\t}\n};","'use strict';\n\nmodule.exports = {};","'use strict';\n{\n\tconst rgbMap = {};\n\tfunction styleColorToRGB(color) {\n\t\tconst dummy = document.createElement('div');\n\t\tconst {style} = dummy;\n\t\tstyle.color = color;\n\t\tstyle.position = 'fixed';\n\t\tstyle.height = '1px';\n\t\tstyle.width = '1px';\n\t\tstyle.opacity = 0;\n\t\tdocument.body.appendChild(dummy);\n\t\tconst {color: styleColor} = document.defaultView.getComputedStyle(dummy, '');\n\t\tdocument.body.removeChild(dummy);\n\t\treturn colorToRGB0(styleColor);\n\t}\n\n\tfunction hexToNum(hex) {\n\t\treturn parseInt(hex, 16);\n\t}\n\tfunction createRGB(r, g, b, a = 1) {\n\t\treturn {r, g, b, a};\n\t}\n\tfunction tripleHexToRGB({1: r, 2: g, 3: b}) {\n\t\treturn createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n\t}\n\tfunction sextupleHexToRGB({1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2}) {\n\t\treturn createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n\t}\n\n\tfunction testRGB({r, g, b, a}) {\n\t\treturn 0 <= r && r <= 255 &&\n\t\t0 <= g && g <= 255 &&\n\t\t0 <= b && b <= 255 &&\n\t\t0 <= a && a <= 1;\n\t}\n\tfunction rateToByte(r) {\n\t\treturn Math.ceil(r * 255 / 100);\n\t}\n\tfunction colorToRGB0(color) {\n\t\tif (color.match(/^#[0-9a-f]{3}$/i)) {\n\t\t\treturn tripleHexToRGB(color);\n\t\t}\n\t\tif (color.match(/^#[0-9a-f]{6}$/i)) {\n\t\t\treturn sextupleHexToRGB(color);\n\t\t}\n\t\tlet ret = color.match(/^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(ret[1] - 0, ret[2] - 0, ret[3] - 0, ret[4] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]));\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\tret = color.match(/^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i);\n\t\tif (ret) {\n\t\t\tconst rgb = createRGB(rateToByte(ret[1]), rateToByte(ret[3]), rateToByte(ret[5]), ret[7] - 0);\n\t\t\tif (testRGB(rgb)) {\n\t\t\t\treturn rgb;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfunction colorToRGB(color) {\n\t\tif (typeof color !== 'string') {\n\t\t\treturn createRGB(0, 0, 0, 0);\n\t\t}\n\t\tcolor = color.toLowerCase().trim();\n\t\tif (rgbMap[color]) {\n\t\t\treturn rgbMap[color];\n\t\t}\n\t\treturn colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n\t}\n\n\tmodule.exports = {\n\t\tcolorToRGB\n\t};\n}","'use strict';\n{\n\tconst EventTarget = require('../../core/EventTarget');\n\n\tconst EVENT_TYPE = {\n\t\tCHANGE_STYLE: 'change_style',\n\t};\n\n\tlet defaultStyle;\n\tclass BaseStyle extends EventTarget {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n\t\t}\n\t\tconstructor(\n\t\t\t\t{\n\t\t\t\t\ttextAlign = 'left',\n\t\t\t\t\ttextBaseline = 'middle',\n\t\t\t\t\tbgColor\n\t\t\t\t} = {}) {\n\t\t\tsuper();\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis._bgColor = bgColor;\n\t\t}\n\t\tget textAlign() {\n\t\t\treturn this._textAlign;\n\t\t}\n\t\tset textAlign(textAlign) {\n\t\t\tthis._textAlign = textAlign;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget textBaseline() {\n\t\t\treturn this._textBaseline;\n\t\t}\n\t\tset textBaseline(textBaseline) {\n\t\t\tthis._textBaseline = textBaseline;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tget bgColor() {\n\t\t\treturn this._bgColor;\n\t\t}\n\t\tset bgColor(bgColor) {\n\t\t\tthis._bgColor = bgColor;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tdoChangeStyle() {\n\t\t\tthis.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n\t\t}\n\t\tclone() {\n\t\t\treturn new BaseStyle(this);\n\t\t}\n\t}\n\tmodule.exports = BaseStyle;\n}","'use strict';\n{\n\tconst styleContents = require('../style');\n\tconst {Style} = styleContents;\n\n\tclass BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tthis._headerCell = headerCell;\n\t\t\tthis.onDrawCell = this.onDrawCell.bind(this);//\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\tconst {style, drawCellBase} = info;\n\t\t\tdelete info.getRecord;\n\t\t\tdelete info.style;\n\t\t\tconst helper = grid.getGridCanvasHelper();\n\t\t\tdrawCellBase();\n\t\t\t//\n\t\t\tthis.drawInternal(\n\t\t\t\t\tcellValue,\n\t\t\t\t\tcontext,\n\t\t\t\t\tstyleContents.of(style, this.StyleClass),\n\t\t\t\t\thelper,\n\t\t\t\t\tgrid,\n\t\t\t\t\tinfo\n\t\t\t);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = BaseHeader;\n}","'use strict';\n\nconst {extend} = require('../internal/utils');\nconst DrawGrid = require('../core/DrawGrid');\nconst EVENT_TYPE = extend(DrawGrid.EVENT_TYPE, {\n\tCHANGED_VALUE: 'changed_value',\n});\nmodule.exports = EVENT_TYPE;","'use strict';\n\n{\n\tconst core = require('./core');\n\tconst tools = require('./tools');\n\tconst columns = require('./columns');\n\tconst themes = require('./themes');\n\tconst data = require('./data');\n\n\tconst ListGrid = require('./ListGrid');\n\tconst GridCanvasHelper = require('./GridCanvasHelper');\n\n\tconst icons = require('./icons');\n\tconst register = require('./register');\n\n\t/**\n\t * Cheetah Grid\n\t * @type {Object}\n\t * @namespace cheetahGrid\n\t */\n\tmodule.exports = {\n\t\tcore,\n\t\ttools,\n\n\t\t// impl Grids\n\t\tListGrid,\n\n\t\t// objects\n\t\tcolumns,\n\t\tthemes,\n\t\tdata,\n\n\t\t// helper\n\t\tGridCanvasHelper,\n\t\tget icons() {\n\t\t\treturn icons.get();\n\t\t},\n\n\t\t//plugin registers\n\t\tregister,\n\n\t\tget _internal() {\n\t\t\tconsole.warn('use internal!!');\n\t\t\treturn {\n\t\t\t\tcolor: require('./internal/color'),\n\t\t\t\tsort: require('./internal/sort'),\n\t\t\t\tcalc: require('./internal/calc'),\n\t\t\t\tsymbolManager: require('./internal/symbolManager'),\n\t\t\t\tpath2DManager: require('./internal/path2DManager'),\n\t\t\t};\n\t\t}\n\t};\n}","'use strict';\n{\n\tconst DrawGrid = require('./core/DrawGrid');\n\n\t/**\n\t * core modules\n\t * @type {Object}\n\t * @namespace cheetahGrid.core\n\t * @memberof cheetahGrid\n\t */\n\tmodule.exports = {\n\t\tDrawGrid\n\t};\n}","'use strict';\n{\n\tconst EventHandler = require('./EventHandler');\n\tconst style = require('./style');\n\tconst {browser} = require('./utils');\n\n\tconst MAX_SCROLL = browser.heightLimit - 1000;\n\n\tfunction _update(scrollable) {\n\t\tlet domHeight;\n\t\tif (scrollable._height > MAX_SCROLL) {\n\t\t\tconst sbSize = style.getScrollBarSize();\n\t\t\tconst {offsetHeight} = scrollable._scrollable;\n\t\t\tconst vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n\t\t\tconst rScrollRange = scrollable._height - offsetHeight + sbSize;\n\t\t\tscrollable._p = vScrollRange / rScrollRange;\n\t\t\tdomHeight = MAX_SCROLL;\n\t\t} else {\n\t\t\tscrollable._p = 1;\n\t\t\tdomHeight = scrollable._height;\n\t\t}\n\n\t\tscrollable._endPointElement.style.top = `${domHeight.toFixed()}px`;\n\t\tscrollable._endPointElement.style.left = `${scrollable._width.toFixed()}px`;\n\n\t}\n\n\tclass Scrollable {\n\t\tconstructor() {\n\t\t\tthis._handler = new EventHandler();\n\n\t\t\tthis._scrollable = document.createElement('div');\n\t\t\tthis._scrollable.classList.add('grid-scrollable');\n\t\t\tthis._height = 0;\n\t\t\tthis._width = 0;\n\n\t\t\tthis._endPointElement = document.createElement('div');\n\t\t\tthis._endPointElement.classList.add('grid-scroll-end-point');\n\t\t\t_update(this);\n\t\t\tthis._scrollable.appendChild(this._endPointElement);\n\n\t\t\t// const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n\t\t\t// this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n\t\t\t// const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n\t\t\t// const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n\t\t\t// this.scrollTop += delta < 0 ? point : -point;\n\t\t\t// });\n\t\t}\n\t\tcalcTop(top) {\n\t\t\tconst relativeTop = top - this.scrollTop;\n\t\t\treturn this._scrollable.scrollTop + relativeTop;\n\t\t}\n\t\tgetElement() {\n\t\t\treturn this._scrollable;\n\t\t}\n\t\tsetScrollSize(width, height) {\n\t\t\tthis._width = width;\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollWidth() {\n\t\t\treturn this._width;\n\t\t}\n\t\tset scrollWidth(width) {\n\t\t\tthis._width = width;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollHeight() {\n\t\t\treturn this._height;\n\t\t}\n\t\tset scrollHeight(height) {\n\t\t\tthis._height = height;\n\t\t\t_update(this);\n\t\t}\n\t\tget scrollLeft() {\n\t\t\treturn Math.ceil(this._scrollable.scrollLeft);\n\t\t}\n\t\tset scrollLeft(scrollLeft) {\n\t\t\tthis._scrollable.scrollLeft = scrollLeft;\n\t\t}\n\t\tget scrollTop() {\n\t\t\treturn Math.ceil(this._scrollable.scrollTop / this._p);\n\t\t}\n\t\tset scrollTop(scrollTop) {\n\t\t\tthis._scrollable.scrollTop = scrollTop * this._p;\n\t\t}\n\t\tonScroll(fn) {\n\t\t\tthis._handler.on(this._scrollable, 'scroll', fn);\n\t\t}\n\t\tdispose() {\n\t\t\tthis._handler.dispose();\n\t\t}\n\t}\n\n\n\tmodule.exports = Scrollable;\n}","\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?minimize!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n\n// exports\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","'use strict';\n{\n\tconst indexFirst = (ary, elm) => {\n\t\tlet low = 0;\n\t\tlet high = ary.length - 1;\n\t\twhile (low <= high) {\n\t\t\tconst i = Math.floor((low + high) / 2);\n\t\t\tif (ary[i] === elm) {\n\t\t\t\treturn i;\n\t\t\t} else if (ary[i] > elm) {\n\t\t\t\thigh = i - 1;\n\t\t\t} else {\n\t\t\t\tlow = i + 1;\n\t\t\t}\n\t\t}\n\t\treturn high < 0 ? 0 : high;\n\t};\n\n\n\tclass NumberMap {\n\t\tconstructor() {\n\t\t\tthis._keys = [];\n\t\t\tthis._vals = {};\n\t\t\tthis._sorted = false;\n\t\t}\n\t\tput(key, value) {\n\t\t\tif (!(key in this._vals)) {\n\t\t\t\tthis._keys.push(key);\n\t\t\t\tthis._sorted = false;\n\t\t\t}\n\t\t\tthis._vals[key] = value;\n\t\t}\n\t\tget(key) {\n\t\t\treturn this._vals[key];\n\t\t}\n\t\teachAll(fn) {\n\t\t\tthis._keys.forEach((key) => {\n\t\t\t\tfn(this.get(key), key);\n\t\t\t});\n\t\t}\n\t\teach(keyFrom, keyTo, fn) {\n\t\t\tconst {_keys: keys} = this;\n\t\t\tconst {length} = keys;\n\t\t\tif (!this._sorted) {\n\t\t\t\tkeys.sort((a, b) => {\n\t\t\t\t\tif (a < b) { return -1; }\n\t\t\t\t\tif (a > b) { return 1; }\n\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t\tthis._sorted = true;\n\t\t\t}\n\n\t\t\tfor (let i = indexFirst(keys, keyFrom); i < length; i++) {\n\t\t\t\tconst key = keys[i];\n\t\t\t\tif (keyFrom <= key && key <= keyTo) {\n\t\t\t\t\tfn(this.get(key), key);\n\t\t\t\t} else if (keyTo < key) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tmodule.exports = NumberMap;\n}","'use strict';\n\nconst EventHandler = require('./EventHandler');\nconst handler = new EventHandler();\n\nlet ratio;\nfunction setRatio() {\n\tratio = Math.ceil(window.devicePixelRatio || 1);\n\tif (ratio > 1 && (ratio % 2) !== 0) {\n\t\tratio += 1;\n\t}\n}\nsetRatio();\nhandler.on(window, 'resize', setRatio);\n\nmodule.exports = {\n\ttransform(canvas) {\n\t\tconst ctx = canvas.getContext('2d');\n\n\t\tconst {getAttribute, setAttribute} = canvas;\n\t\tcanvas.getAttribute = function(name, ...args) {\n\t\t\tlet result = getAttribute.call(this, name, ...args);\n\t\t\tif (name === 'width' || name === 'height') {\n\t\t\t\tresult /= ratio;\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\t\tcanvas.setAttribute = function(name, val, ...args) {\n\t\t\tconst wh = name === 'width' || name === 'height';\n\t\t\tif (wh) {\n\t\t\t\tval *= ratio;\n\t\t\t}\n\t\t\tconst result = setAttribute.call(this, name, val, ...args);\n\t\t\tif (wh) {\n\t\t\t\tctx.scale(ratio, ratio);\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tObject.defineProperty(canvas, 'width', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('width');\n\t\t\t},\n\t\t\tset: (val) => {\n\t\t\t\tcanvas.setAttribute('width', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t\tObject.defineProperty(canvas, 'height', {\n\t\t\tget() {\n\t\t\t\treturn canvas.getAttribute('height');\n\t\t\t},\n\t\t\tset: (val) => {\n\t\t\t\tcanvas.setAttribute('height', Math.floor(val));\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t});\n\t\tconst {drawImage} = ctx;\n\t\tctx.drawImage = function(img, ...args) {\n\t\t\tif (img !== canvas || ratio === 1) {\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t}\n\t\t\tthis.save();\n\t\t\ttry {\n\t\t\t\tthis.scale(1 / ratio, 1 / ratio);\n\t\t\t\tif (args.length > 4) {\n\t\t\t\t\targs[4] *= ratio;\n\t\t\t\t\targs[5] *= ratio;\n\t\t\t\t} else {\n\t\t\t\t\targs[0] *= ratio;\n\t\t\t\t\targs[1] *= ratio;\n\t\t\t\t}\n\t\t\t\treturn drawImage.call(this, img, ...args);\n\t\t\t} finally {\n\t\t\t\tthis.restore();\n\t\t\t}\n\t\t};\n\n\t\treturn canvas;\n\t}\n};","'use strict';\n{\n\tconst canvashelper = require('./tools/canvashelper');\n\n\t/**\n\t * tools\n\t * @type {Object}\n\t * @namespace cheetahGrid.tools\n\t * @memberof cheetahGrid\n\t */\n\tmodule.exports = {\n\t\tcanvashelper,\n\t};\n}","'use strict';\n{\n\tconst BaseAction = require('./action/BaseAction');\n\tconst Action = require('./action/Action');\n\tconst Editor = require('./action/Editor');\n\tconst CheckEditor = require('./action/CheckEditor');\n\tconst ButtonAction = require('./action/ButtonAction');\n\tconst SmallDialogInputEditor = require('./action/SmallDialogInputEditor');\n\tconst InlineInputEditor = require('./action/InlineInputEditor');\n\tconst InlineMenuEditor = require('./action/InlineMenuEditor');\n\n\tclass ImmutableCheckEditor extends CheckEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\tclass ImmutableInputEditor extends SmallDialogInputEditor {\n\t\tget disabled() {\n\t\t\treturn this._disabled;\n\t\t}\n\t\tget readOnly() {\n\t\t\treturn this._readOnly;\n\t\t}\n\t}\n\n\t/**\n\t * column actions\n\t * @type {Object}\n\t * @namespace cheetahGrid.columns.action\n\t * @memberof cheetahGrid.columns\n\t */\n\tconst action = {\n\t\tACTIONS: {\n\t\t\tCHECK: new ImmutableCheckEditor(),\n\t\t\tINPUT: new ImmutableInputEditor(),\n\t\t},\n\t\tget BaseAction() {\n\t\t\treturn BaseAction;\n\t\t},\n\t\tget Editor() {\n\t\t\treturn Editor;\n\t\t},\n\t\tget Action() {\n\t\t\treturn Action;\n\t\t},\n\t\tget CheckEditor() {\n\t\t\treturn CheckEditor;\n\t\t},\n\t\tget ButtonAction() {\n\t\t\treturn ButtonAction;\n\t\t},\n\t\tget SmallDialogInputEditor() {\n\t\t\treturn SmallDialogInputEditor;\n\t\t},\n\t\tget InlineInputEditor() {\n\t\t\tconsole.warn('InlineInputEditor is an experiment stage');\n\t\t\treturn InlineInputEditor;\n\t\t},\n\t\tget InlineMenuEditor() {\n\t\t\treturn InlineMenuEditor;\n\t\t},\n\t\tof(columnAction) {\n\t\t\tif (!columnAction) {\n\t\t\t\treturn action.ACTIONS.DEFAULT;\n\t\t\t} else if (typeof columnAction === 'string') {\n\t\t\t\treturn action.ACTIONS[columnAction.toUpperCase()] || action.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnAction;\n\t\t\t}\n\t\t},\n\t};\n\tmodule.exports = action;\n}","'use strict';\n{\n\tconst {obj: {setReadonly}, isPromise} = require('../../internal/utils');\n\tconst {bindCellClickAction, bindCellKeyAction} = require('./actionBind');\n\tconst animate = require('../../internal/animate');\n\n\tconst Editor = require('./Editor');\n\tconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\n\tconst KEY_ENTER = 13;\n\tconst KEY_SPACE = 32;\n\n\tfunction toggleValue(val) {\n\t\tif (typeof val === 'number') {\n\t\t\tif (val === 0) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t} else if (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn 'true';\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn 'on';\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn val.replace(/^(0*)0$/, '$11');\n\t\t\t} else if (val === 'true') {\n\t\t\t\treturn 'false';\n\t\t\t} else if (val === 'on') {\n\t\t\t\treturn 'off';\n\t\t\t} else if (val.match(/^0*1$/)) {\n\t\t\t\treturn val.replace(/^(0*)1$/, '$10');\n\t\t\t}\n\t\t}\n\t\treturn !val;\n\t}\n\n\tclass CheckEditor extends Editor {\n\t\tclone() {\n\t\t\treturn new CheckEditor(this);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\tif (!grid[CHECK_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, CHECK_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID];\n\n\t\t\tconst action = (cell) => {\n\t\t\t\tconst key = `${cell.col}:${cell.row}`;\n\t\t\t\tconst blockKey = `${key}::block`;\n\t\t\t\tif (this.readOnly || this.disabled || state[blockKey]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst ret = grid.doChangeValue(cell.col, cell.row, toggleValue);\n\t\t\t\tif (ret) {\n\n\t\t\t\t\tconst onChange = () => {\n\t\t\t\t\t\t// checkbox animation\n\t\t\t\t\t\tanimate(200, (point) => {\n\t\t\t\t\t\t\tif (point === 1) {\n\t\t\t\t\t\t\t\tdelete state[key];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstate[key] = {\n\t\t\t\t\t\t\t\t\telapsed: point,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgrid.invalidateCell(cell.col, cell.row);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tif (isPromise(ret)) {\n\t\t\t\t\t\tstate[blockKey] = true;\n\t\t\t\t\t\tret.then(() => {\n\t\t\t\t\t\t\tdelete state[blockKey];\n\t\t\t\t\t\t\tonChange();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonChange();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn [\n\t\t\t\t...bindCellClickAction(grid, col, util, {\n\t\t\t\t\taction,\n\t\t\t\t\tmouseOver: (e) => {\n\t\t\t\t\t\tif (this.disabled) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstate.mouseActiveCell = {\n\t\t\t\t\t\t\tcol: e.col,\n\t\t\t\t\t\t\trow: e.row\n\t\t\t\t\t\t};\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\t\t\t\t\tmouseOut: (e) => {\n\t\t\t\t\t\tdelete state.mouseActiveCell;\n\t\t\t\t\t\tgrid.invalidateCell(e.col, e.row);\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t\t...bindCellKeyAction(grid, col, util, {\n\t\t\t\t\taction: (e) => {\n\t\t\t\t\t\tconst selrange = grid.selection.range;\n\t\t\t\t\t\tconst {col} = grid.selection.select;\n\t\t\t\t\t\tfor (let {row} = selrange.start; row <= selrange.end.row; row++) {\n\t\t\t\t\t\t\tif (!util.isTarget(col, row)) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taction({\n\t\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tacceptKeys: [KEY_ENTER, KEY_SPACE],\n\t\t\t\t})\n\t\t\t];\n\t\t}\n\t}\n\n\tmodule.exports = CheckEditor;\n}","'use strict';\n{\n\tconst {obj: {setReadonly}} = require('../../internal/utils');\n\tconst Action = require('./Action');\n\tconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\tclass ButtonAction extends Action {\n\t\tgetState(grid) {\n\t\t\tif (!grid[BUTTON_COLUMN_STATE_ID]) {\n\t\t\t\tsetReadonly(grid, BUTTON_COLUMN_STATE_ID, {});\n\t\t\t}\n\t\t\treturn grid[BUTTON_COLUMN_STATE_ID];\n\t\t}\n\t}\n\n\tmodule.exports = ButtonAction;\n}","'use strict';\nconst {obj: {setReadonly}} = require('../../internal/utils');\n\nconst SmallDialogInputElement = require('./internal/SmallDialogInputElement');\nconst {SMALL_DIALOG_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new SmallDialogInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nconst BaseInputEditor = require('./BaseInputEditor');\nclass SmallDialogInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._helperText = option.helperText;\n\t\tthis._inputValidator = option.inputValidator;\n\t\tthis._validator = option.validator;\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tdispose() {\n\t\tthis._inputDialogManager.dispose();\n\t\tthis._inputDialogManager = null;\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tget helperText() {\n\t\treturn this._helperText;\n\t}\n\tget inputValidator() {\n\t\treturn this._inputValidator;\n\t}\n\tget validator() {\n\t\treturn this._validator;\n\t}\n\tclone() {\n\t\treturn new SmallDialogInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\t// cancel input\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tSmallDialogInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = SmallDialogInputEditor;","'use strict';\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t},\n\tthen,\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\n\nconst CLASSNAME = 'cheetah-grid__small-dialog-input';\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n\tconst focus = () => {\n\t\tinput.focus();\n\n\t\tconst end = input.value.length;\n\t\ttry {\n\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\n\t\t\t\tinput.selectionStart = end;\n\t\t\t\tinput.selectionEnd = end;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t//ignore\n\t\t}\n\t\tif (document.selection) {\n\t\t\tconst range = input.createTextRange();\n\t\t\trange.collapse();\n\t\t\trange.moveEnd('character', end);\n\t\t\trange.moveStart('character', end);\n\t\t\trange.select();\n\t\t}\n\t};\n\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\tfocus();\n\t});\n}\n\nfunction createDialogElement() {\n\trequire('./SmallDialogInputElement.css');\n\tconst element = createElement('div', {classList: [CLASSNAME, HIDDEN_CLASSNAME]});\n\tconst input = createElement('input', {classList: INPUT_CLASSNAME});\n\tinput.readonly = true;\n\tinput.tabIndex = -1;\n\telement.appendChild(input);\n\treturn element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n\tconst {classList, helperText} = editor;\n\tif (classList) {\n\t\tdialog.classList.add(...classList);\n\t}\n\tif (helperText && typeof helperText !== 'function') {\n\t\tdialog.dataset.helperText = helperText;\n\t}\n\tsetInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(grid, dialog, input, editor) {\n\tconst {classList} = editor;\n\tif (classList) {\n\t\tdialog.classList.remove(...classList);\n\t}\n\tdelete dialog.dataset.helperText;\n\tinput.type = '';\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst {type} = editor;\n\tinput.type = type || '';\n}\n\nclass SmallDialogInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._dialog = createDialogElement();\n\t\tthis._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n\t\tthis._bindDialogEvents();\n\t}\n\tdispose() {\n\t\tconst dialog = this._dialog;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._dialog = null;\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (dialog.parentElement) {\n\t\t\tdialog.parentElement.removeChild(dialog);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tunbindProps(grid, dialog, input, this._beforePropEditor);\n\t\t}\n\n\t\tdelete dialog.dataset.errorMessage;\n\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\tinput.readonly = false;\n\t\tinput.tabIndex = 0;\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\t\tdialog.style.top = `${rect.top.toFixed()}px`;\n\t\tdialog.style.left = `${rect.left.toFixed()}px`;\n\t\tdialog.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(dialog);\n\n\t\tinput.value = value;\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\t\tconst activeData = {grid, col, row, editor};\n\t\tthis._onInputValue(input, activeData);\n\t\t_focus(input, handler);\n\t\tdialog.classList.add(SHOWN_CLASSNAME);\n\t\tdialog.classList.remove(HIDDEN_CLASSNAME);\n\t\tinput.readonly = true;\n\n\n\t\tbindProps(grid, dialog, input, editor);\n\n\t\tthis._activeData = activeData;\n\t\tthis._beforePropEditor = editor;\n\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst dialog = this._dialog;\n\t\t\tconst input = this._input;\n\n\t\t\tdialog.classList.remove(SHOWN_CLASSNAME);\n\t\t\tdialog.classList.add(HIDDEN_CLASSNAME);\n\t\t\tinput.readonly = false;\n\t\t\tinput.tabIndex = -1;\n\n\t\t\tconst {grid, col, row} = this._activeData;\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t\tthis._beforeValue = null;\n\t}\n\t_doChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn false;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst {value} = input;\n\t\treturn then(this._validate(value), (res) => {\n\t\t\tif (res && value === input.value) {\n\t\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\t\tgrid.doChangeValue(col, row, () => value);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t}\n\t_isActive() {\n\t\tconst dialog = this._dialog;\n\t\tif (!dialog || !dialog.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindDialogEvents() {\n\t\tconst handler = this._handler;\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\t\thandler.on(dialog, 'click', stopPropagationOnly);\n\t\thandler.on(dialog, 'dblclick', stopPropagationOnly);\n\t\thandler.on(dialog, 'mousedown', stopPropagationOnly);\n\t\thandler.on(dialog, 'touchstart', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', (e) => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', (e) => {\n\t\t\tinput.classList.remove('composition');\n\t\t\tthis._onInputValue(input);\n\t\t});\n\t\tconst onKeyupAndPress = (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._onInputValue(input);\n\t\t};\n\t\thandler.on(input, 'keyup', onKeyupAndPress);\n\t\thandler.on(input, 'keypress', onKeyupAndPress);\n\t\thandler.on(input, 'keydown', (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ENTER && !this._attaching) {\n\t\t\t\tconst input = this._input;\n\t\t\t\tconst {value} = input;\n\t\t\t\tthen(this._doChangeValue(), (r) => {\n\t\t\t\t\tif (r && value === input.value) {\n\t\t\t\t\t\tthis.detach(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcancelEvent(e);\n\t\t\t} else {\n\t\t\t\tthis._onInputValue(input);\n\t\t\t}\n\t\t});\n\t}\n\t_onInputValue(input, activeData) {\n\t\tconst before = this._beforeValue;\n\t\tconst {value} = input;\n\t\tif (before !== value) {\n\t\t\tthis._onInputValueChange(value, before, activeData);\n\t\t}\n\t\tthis._beforeValue = value;\n\t}\n\t_onInputValueChange(after, before, activeData) {\n\t\tactiveData = activeData || this._activeData;\n\t\tconst dialog = this._dialog;\n\t\tconst {grid, col, row, editor} = activeData;\n\t\tif (typeof editor.helperText === 'function') {\n\t\t\tconst helperText = editor.helperText(after, {grid, col, row});\n\t\t\tif (helperText) {\n\t\t\t\tdialog.dataset.helperText = helperText;\n\t\t\t} else {\n\t\t\t\tdelete dialog.dataset.helperText;\n\t\t\t}\n\t\t}\n\t\tif ('errorMessage' in dialog.dataset) {\n\t\t\tthis._validate(after, true);\n\t\t}\n\t}\n\t_validate(value, inputOnly) {\n\t\tconst dialog = this._dialog;\n\t\tconst input = this._input;\n\t\tconst {grid, col, row, editor} = this._activeData;\n\t\tlet message = null;\n\t\tif (editor.inputValidator) {\n\t\t\tmessage = editor.inputValidator(value, {grid, col, row});\n\t\t}\n\t\treturn then(message, (message) => {\n\t\t\tif (!message && editor.validator && !inputOnly) {\n\t\t\t\tmessage = editor.validator(value, {grid, col, row});\n\t\t\t}\n\t\t\treturn then(message, (message) => {\n\t\t\t\tif (message && value === input.value) {\n\t\t\t\t\tdialog.dataset.errorMessage = message;\n\t\t\t\t} else {\n\t\t\t\t\tdelete dialog.dataset.errorMessage;\n\t\t\t\t}\n\t\t\t\treturn !message;\n\t\t\t});\n\t\t});\n\t}\n}\n\nmodule.exports = SmallDialogInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./SmallDialogInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;transition:padding .15s ease-out,box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{box-shadow:none;padding:0;pointer-events:none;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst BaseInputEditor = require('./BaseInputEditor');\nconst InlineInputElement = require('./internal/InlineInputElement');\nconst {INLINE_INPUT_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineInputElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\nfunction doChangeValue(grid) {\n\tif (globalElement) {\n\t\tglobalElement.doChangeValue();\n\t}\n}\n\n\nclass InlineInputEditor extends BaseInputEditor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._type = option.type;\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget type() {\n\t\treturn this._type;\n\t}\n\tset type(type) {\n\t\tthis._type = type;\n\t}\n\tclone() {\n\t\treturn new InlineInputEditor(this);\n\t}\n\tonInputCellInternal(grid, cell, inputValue) {\n\t\tattachInput(grid, cell, this, inputValue);\n\t}\n\tonOpenCellInternal(grid, cell) {\n\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\tattachInput(grid, cell, this, value);\n\t\t});\n\t}\n\tonChangeSelectCellInternal(grid, cell, selected) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput();\n\t}\n\tonGridScrollInternal(grid) {\n\t\tdoChangeValue(grid);\n\t\tdetachInput(true);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachInput(true);\n\t}\n\tonSetInputAttrsInternal(grid, cell, input) {\n\t\tInlineInputElement.setInputAttrs(this, grid, input);\n\t}\n}\n\nmodule.exports = InlineInputEditor;","'use strict';\nconst {\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t},\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n} = require('../../../internal/dom');\nconst KEY_ENTER = 13;\n\nconst CLASSNAME = 'cheetah-grid__inline-input';\n\nfunction createInputElement() {\n\trequire('./InlineInputElement.css');\n\treturn createElement('input', {classList: CLASSNAME});\n}\n\nfunction setInputAttrs(editor, grid, input) {\n\tconst {classList, type} = editor;\n\tif (classList) {\n\t\tinput.classList.add(...classList);\n\t}\n\tinput.type = type || '';\n}\n\nclass InlineInputElement {\n\tstatic setInputAttrs(...args) {\n\t\tsetInputAttrs(...args);\n\t}\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._input = createInputElement();\n\t\tthis._bindInputEvents();\n\t}\n\tdispose() {\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._input = null;\n\t\tthis._beforePropEditor = null;\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst input = this._input;\n\t\tconst handler = this._handler;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst {classList} = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tinput.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\tinput.style.font = grid.font || '16px sans-serif';\n\n\t\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\t\tinput.style.top = `${rect.top.toFixed()}px`;\n\t\tinput.style.left = `${rect.left.toFixed()}px`;\n\t\tinput.style.width = `${rect.width.toFixed()}px`;\n\t\tinput.style.height = `${rect.height.toFixed()}px`;\n\t\telement.appendChild(input);\n\n\t\tsetInputAttrs(editor, grid, input);\n\t\tinput.value = value;\n\n\t\tthis._activeData = {grid, col, row, editor};\n\t\tthis._beforePropEditor = editor;\n\n\t\tconst focus = () => {\n\t\t\tinput.focus();\n\n\t\t\tconst end = input.value.length;\n\t\t\ttry {\n\t\t\t\tif (typeof (input.selectionStart) !== 'undefined') {\n\t\t\t\t\tinput.selectionStart = end;\n\t\t\t\t\tinput.selectionEnd = end;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t//ignore\n\t\t\t}\n\t\t\tif (document.selection) {\n\t\t\t\tconst range = input.createTextRange();\n\t\t\t\trange.collapse();\n\t\t\t\trange.moveEnd('character', end);\n\t\t\t\trange.moveStart('character', end);\n\t\t\t\trange.select();\n\t\t\t}\n\t\t};\n\t\thandler.tryWithOffEvents(input, 'blur', () => {\n\t\t\tfocus();\n\t\t});\n\n\t\tthis._attaching = true;\n\t\tsetTimeout(() => {\n\t\t\tdelete this._attaching;\n\t\t});\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\tconst input = this._input;\n\t\t\tthis._handler.tryWithOffEvents(input, 'blur', () => {\n\t\t\t\tinput.parentElement.removeChild(input);\n\t\t\t});\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\tdoChangeValue() {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst input = this._input;\n\t\tconst {value} = input;\n\t\tconst {grid, col, row} = this._activeData;\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst input = this._input;\n\t\tif (!input || !input.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindInputEvents() {\n\t\tconst handler = this._handler;\n\t\tconst input = this._input;\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\t\thandler.on(input, 'click', stopPropagationOnly);\n\t\thandler.on(input, 'mousedown', stopPropagationOnly);\n\t\thandler.on(input, 'touchstart', stopPropagationOnly);\n\t\thandler.on(input, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(input, 'compositionstart', (e) => {\n\t\t\tinput.classList.add('composition');\n\t\t});\n\t\thandler.on(input, 'compositionend', (e) => {\n\t\t\tinput.classList.remove('composition');\n\t\t});\n\t\thandler.on(input, 'keydown', (e) => {\n\t\t\tif (input.classList.contains('composition')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (getKeyCode(e) === KEY_ENTER) {\n\t\t\t\tif (!this._isActive() || this._attaching) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst {grid} = this._activeData;\n\n\t\t\t\tthis.doChangeValue();\n\t\t\t\tif (grid) {\n\t\t\t\t\tgrid.focus();\n\t\t\t\t}\n\t\t\t\tthis.detach();\n\t\t\t\tcancelEvent(e);\n\t\t\t}\n\t\t});\n\t\thandler.on(input, 'blur', (e) => {\n\t\t\tthis.doChangeValue();\n\t\t\tthis.detach();\n\t\t});\n\t}\n}\n\nmodule.exports = InlineInputElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineInputElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;box-sizing:border-box}\", \"\"]);\n\n// exports\n","'use strict';\nconst {obj: {setReadonly}} = require('../../internal/utils');\nconst {normalize} = require('../../internal/menu-items');\n\nconst Editor = require('./Editor');\nconst {EVENT_TYPE: {\n\tSELECTED_CELL,\n\tCLICK_CELL,\n\tKEYDOWN,\n\tSCROLL,\n\tMOUSEOVER_CELL,\n\tMOUSEOUT_CELL,\n\tMOUSEMOVE_CELL,\n}} = require('../../core/DrawGrid');\nconst InlineMenuElement = require('./internal/InlineMenuElement');\nconst {INLINE_MENU_EDITOR_STATE_ID: _} = require('../../internal/symbolManager');\n\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value) {\n\tif (!grid[_]) {\n\t\tsetReadonly(grid, _, {});\n\t}\n\tif (!globalElement) {\n\t\tglobalElement = new InlineMenuElement();\n\t}\n\tconst state = grid[_];\n\tif (!state.element) {\n\t\tstate.element = globalElement;\n\t\tbindGridCount++;\n\t\tgrid.addDisposable({\n\t\t\tdispose() {\n\t\t\t\tbindGridCount--;\n\t\t\t\tif (!bindGridCount) {\n\t\t\t\t\tglobalElement.dispose();\n\t\t\t\t\tglobalElement = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tglobalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachMenu(gridFocus) {\n\tif (globalElement) {\n\t\tglobalElement.detach(gridFocus);\n\t}\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._classList = option.classList;\n\t\tthis._options = normalize(option.options);\n\t}\n\tdispose() {\n\t}\n\tget classList() {\n\t\treturn this._classList && (Array.isArray(this._classList) ? this._classList : [this._classList]);\n\t}\n\tset classList(classList) {\n\t\tthis._classList = classList;\n\t}\n\tget options() {\n\t\treturn this._options;\n\t}\n\tset options(options) {\n\t\tthis._options = normalize(options);\n\t}\n\tclone() {\n\t\treturn new InlineMenuEditor(this);\n\t}\n\tonChangeDisabledInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tonChangeReadOnlyInternal() {\n\t\t// cancel input\n\t\tdetachMenu(true);\n\t}\n\tbindGridEvent(grid, col, util) {\n\t\tconst open = (cell) => {\n\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgrid.doGetCellValue(cell.col, cell.row, (value) => {\n\t\t\t\tattachMenu(grid, cell, this, value);\n\t\t\t});\n\t\t};\n\n\t\treturn [\n\t\t\tgrid.listen(CLICK_CELL, (cell) => {\n\t\t\t\tif (!util.isTarget(cell.col, cell.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: cell.col,\n\t\t\t\t\trow: cell.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(KEYDOWN, (keyCode, e) => {\n\t\t\t\tif (keyCode !== KEY_F2 && keyCode !== KEY_ENTER) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst sel = grid.selection.select;\n\t\t\t\tif (!util.isTarget(sel.col, sel.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topen({\n\t\t\t\t\tcol: sel.col,\n\t\t\t\t\trow: sel.row\n\t\t\t\t});\n\t\t\t}),\n\t\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\t\tdetachMenu();\n\t\t\t}),\n\t\t\tgrid.listen(SCROLL, () => {\n\t\t\t\tdetachMenu(true);\n\t\t\t}),\n\n\t\t\t// mouse move\n\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\n\t\t\t\tif (this.readOnly || this.disabled) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}\n\t\t\t}),\n\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\t\tif (!util.isTarget(e.col, e.row)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t}),\n\t\t];\n\t}\n}\n\nmodule.exports = InlineMenuEditor;","'use strict';\nconst {\n\tisDef,\n\tevent: {\n\t\tgetKeyCode,\n\t\tcancel: cancelEvent,\n\t}\n} = require('../../../internal/utils');\n\nconst EventHandler = require('../../../internal/EventHandler');\nconst {\n\tcreateElement,\n\tappendHtml,\n\tempty,\n\tdisableFocus,\n\tisFocusable,\n\tfindPrevSiblingFocusable,\n\tfindNextSiblingFocusable,\n} = require('../../../internal/dom');\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\n\nconst CLASSNAME = 'cheetah-grid__inline-menu';\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\n\nfunction findItemParents(target) {\n\tlet el = target;\n\twhile (!el.classList.contains(ITEM_CLASSNAME)) {\n\t\tel = el.parentElement;\n\t\tif (!el || el.classList.contains(CLASSNAME)) {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\treturn el;\n}\n\nfunction createMenuElement() {\n\trequire('./InlineMenuElement.css');\n\treturn createElement('ul', {classList: CLASSNAME});\n}\nfunction attachElement(element, rect, menu) {\n\tmenu.style.top = `${rect.top.toFixed()}px`;\n\tmenu.style.left = `${rect.left.toFixed()}px`;\n\tmenu.style.width = `${rect.width.toFixed()}px`;\n\tmenu.style['line-height'] = `${rect.height.toFixed()}px`;\n\telement.appendChild(menu);\n}\n\nfunction optionToLi({classList, caption, value, html}, index) {\n\tconst item = createElement('li', {classList: ITEM_CLASSNAME});\n\titem.tabIndex = 0;\n\titem.dataset.valueindex = index;\n\tif (classList) {\n\t\titem.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n\t}\n\n\tif (caption) {\n\t\tconst span = createElement('span', {text: caption});\n\t\titem.appendChild(span);\n\t} else if (html) {\n\t\tappendHtml(item, html);\n\t}\n\n\tif (value === '' || !isDef(value)) {\n\t\titem.classList.add(EMPTY_ITEM_CLASSNAME);\n\t}\n\n\treturn item;\n}\n\nfunction openMenu(grid, editor, col, row, value, menu) {\n\tconst {options, classList} = editor;\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tempty(menu);\n\tmenu.style.font = grid.font || '16px sans-serif';\n\tlet emptyItemEl = null;\n\tlet valueItemEl = null;\n\n\toptions.forEach((option, i) => {\n\t\tconst item = optionToLi(option, i);\n\t\tmenu.appendChild(item);\n\t\tif (option.value === value) {\n\t\t\tvalueItemEl = item;\n\t\t\titem.dataset.select = true;\n\t\t}\n\t\tif (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n\t\t\temptyItemEl = item;\n\t\t}\n\t});\n\tconst focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\tif (classList) {\n\t\tmenu.classList.add(...classList);\n\t}\n\tconst children = Array.prototype.slice.call(menu.children, 0);\n\tconst focusIndex = children.indexOf(focusEl);\n\tconst {element, rect} = grid.getAttachCellArea(col, row);\n\n\t// Cover the right line\n\trect.width++;\n\n\t// append for calculation\n\tattachElement(element, rect, menu);\n\n\t// Make the selection item at the middle\n\tlet offset = 0;\n\tlet allHeight = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst {offsetHeight} = children[i];\n\t\tif (i < focusIndex) {\n\t\t\toffset += offsetHeight;\n\t\t}\n\t\tallHeight += offsetHeight;\n\t}\n\trect.offsetTop(-offset);\n\tmenu.style['transform-origin'] = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n\tattachElement(element, rect, menu);\n\n\t// Control not to overflow the screen range\n\tconst menuClientRect = menu.getBoundingClientRect();\n\tconst scaleDiff = ((allHeight - menuClientRect.height) / 2);\n\tconst orgMenuTop = menuClientRect.top - scaleDiff;\n\tlet menuTop = orgMenuTop;\n\tconst menuBottom = menuTop + allHeight;\n\tconst winBottom = window.innerHeight;\n\tconst winMargin = 20;\n\tif (menuBottom > (winBottom - winMargin)) {\n\t\tconst diff = menuBottom - winBottom + winMargin;\n\t\tmenuTop -= diff;\n\t}\n\tif (menuTop < 0/*winTop*/ + winMargin) {\n\t\tmenuTop = winMargin;\n\t}\n\tif (menuTop !== orgMenuTop) {\n\t\trect.offsetTop(-(orgMenuTop - menuTop));\n\t\t// re update\n\t\tattachElement(element, rect, menu);\n\t}\n\n\tif (focusEl) {\n\t\tfocusEl.focus();\n\t}\n\tmenu.classList.remove(HIDDEN_CLASSNAME);\n\tmenu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(grid, col, row, menu) {\n\tmenu.classList.remove(SHOWN_CLASSNAME);\n\tmenu.classList.add(HIDDEN_CLASSNAME);\n\tdisableFocus(menu);\n}\n\nclass InlineMenuElement {\n\tconstructor() {\n\t\tthis._handler = new EventHandler();\n\t\tthis._menu = createMenuElement();\n\t\tthis._bindMenuEvents();\n\t}\n\tdispose() {\n\t\tconst menu = this._menu;\n\t\tthis.detach();\n\t\tthis._handler.dispose();\n\t\tthis._menu = null;\n\t\tthis._beforePropEditor = null;\n\t\tif (menu.parentElement) {\n\t\t\tmenu.parentElement.removeChild(menu);\n\t\t}\n\t}\n\tattach(grid, editor, col, row, value) {\n\t\tconst menu = this._menu;\n\n\t\tif (this._beforePropEditor) {\n\t\t\tconst {classList} = this._beforePropEditor;\n\t\t\tif (classList) {\n\t\t\t\tmenu.classList.remove(...classList);\n\t\t\t}\n\t\t}\n\n\t\topenMenu(grid, editor, col, row, value, menu);\n\t\tthis._activeData = {grid, col, row, editor};\n\t\tthis._beforePropEditor = editor;\n\t}\n\tdetach(gridFocus) {\n\t\tif (this._isActive()) {\n\t\t\tconst {grid, col, row} = this._activeData;\n\t\t\tconst menu = this._menu;\n\t\t\tcloseMenu(grid, col, row, menu);\n\n\t\t\tgrid.invalidateCell(col, row);\n\t\t\tif (gridFocus) {\n\t\t\t\tgrid.focus();\n\t\t\t}\n\t\t}\n\t\tthis._activeData = null;\n\t}\n\t_doChangeValue(valueindex) {\n\t\tif (!this._isActive()) {\n\t\t\treturn;\n\t\t}\n\t\tconst {grid, col, row, editor} = this._activeData;\n\t\tconst {value} = editor.options[valueindex];\n\t\tgrid.doChangeValue(col, row, () => value);\n\t}\n\t_isActive() {\n\t\tconst menu = this._menu;\n\t\tif (!menu || !menu.parentElement) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this._activeData) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t_bindMenuEvents() {\n\t\tconst handler = this._handler;\n\t\tconst menu = this._menu;\n\n\t\tconst stopPropagationOnly = (e) => e.stopPropagation();// grid\n\n\t\thandler.on(menu, 'mousedown', stopPropagationOnly);\n\t\thandler.on(menu, 'touchstart', stopPropagationOnly);\n\t\thandler.on(menu, 'dblclick', stopPropagationOnly);\n\n\t\thandler.on(menu, 'click', (e) => {\n\t\t\te.stopPropagation();\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {valueindex} = item.dataset;\n\t\t\tthis._doChangeValue(valueindex);\n\t\t\tthis.detach(true);\n\t\t});\n\t\thandler.on(menu, 'keydown', (e) => {\n\t\t\tconst item = findItemParents(e.target);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst keyCode = getKeyCode(e);\n\t\t\tif (keyCode === KEY_ENTER) {\n\t\t\t\tconst {valueindex} = item.dataset;\n\t\t\t\tthis._doChangeValue(valueindex);\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_ESC) {\n\t\t\t\tthis.detach(true);\n\t\t\t\tcancelEvent(e);\n\t\t\t} else if (keyCode === KEY_UP) {\n\t\t\t\tconst n = findPrevSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_DOWN) {\n\t\t\t\tconst n = findNextSiblingFocusable(item);\n\t\t\t\tif (n) {\n\t\t\t\t\tn.focus();\n\t\t\t\t\tcancelEvent(e);\n\t\t\t\t}\n\t\t\t} else if (keyCode === KEY_TAB) {\n\t\t\t\tif (!e.shiftKey) {\n\t\t\t\t\tif (!findNextSiblingFocusable(item)) {\n\t\t\t\t\t\tlet n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findNextSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!findPrevSiblingFocusable(item)) {\n\t\t\t\t\t\tconst items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n\t\t\t\t\t\tlet n = items[items.length - 1];\n\t\t\t\t\t\tif (!isFocusable(n)) {\n\t\t\t\t\t\t\tn = findPrevSiblingFocusable(n);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (n) {\n\t\t\t\t\t\t\tn.focus();\n\t\t\t\t\t\t\tcancelEvent(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InlineMenuElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./InlineMenuElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{transform:scale(.9);box-shadow:none;opacity:0;pointer-events:none;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{transform:translateY(-7px);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n\n// exports\n","'use strict';\n{\n\tconst Column = require('./type/Column');\n\tconst NumberColumn = require('./type/NumberColumn');\n\tconst CheckColumn = require('./type/CheckColumn');\n\tconst ButtonColumn = require('./type/ButtonColumn');\n\tconst ImageColumn = require('./type/ImageColumn');\n\tconst PercentCompleteBarColumn = require('./type/PercentCompleteBarColumn');\n\tconst IconColumn = require('./type/IconColumn');\n\tconst BranchGraphColumn = require('./type/BranchGraphColumn');\n\tconst MenuColumn = require('./type/MenuColumn');\n\tconst MultilineTextColumn = require('./type/MultilineTextColumn');\n\n\t/**\n\t * column types\n\t * @type {Object}\n\t * @namespace cheetahGrid.columns.type\n\t * @memberof cheetahGrid.columns\n\t */\n\tconst type = {\n\t\tTYPES: {\n\t\t\tDEFAULT: new Column(),\n\t\t\tNUMBER: new NumberColumn(),\n\t\t\tCHECK: new CheckColumn(),\n\t\t\tBUTTON: new ButtonColumn(),\n\t\t\tIMAGE: new ImageColumn(),\n\t\t\tMULTILINETEXT: new MultilineTextColumn(),\n\t\t},\n\t\tget Column() {\n\t\t\treturn Column;\n\t\t},\n\t\tget NumberColumn() {\n\t\t\treturn NumberColumn;\n\t\t},\n\t\tget CheckColumn() {\n\t\t\treturn CheckColumn;\n\t\t},\n\t\tget ButtonColumn() {\n\t\t\treturn ButtonColumn;\n\t\t},\n\t\tget ImageColumn() {\n\t\t\treturn ImageColumn;\n\t\t},\n\t\tget PercentCompleteBarColumn() {\n\t\t\treturn PercentCompleteBarColumn;\n\t\t},\n\t\tget IconColumn() {\n\t\t\treturn IconColumn;\n\t\t},\n\t\tget BranchGraphColumn() {\n\t\t\treturn BranchGraphColumn;\n\t\t},\n\t\tget MenuColumn() {\n\t\t\treturn MenuColumn;\n\t\t},\n\t\tget MultilineTextColumn() {\n\t\t\treturn MultilineTextColumn;\n\t\t},\n\t\tof(columnType) {\n\t\t\tif (!columnType) {\n\t\t\t\treturn type.TYPES.DEFAULT;\n\t\t\t} else if (typeof columnType === 'string') {\n\t\t\t\treturn type.TYPES[columnType.toUpperCase()] || type.of(null);\n\t\t\t} else {\n\t\t\t\treturn columnType;\n\t\t\t}\n\t\t}\n\t};\n\tmodule.exports = type;\n}","'use strict';\n{\n\tconst Column = require('./Column');\n\tconst NumberStyle = require('../style/NumberStyle');\n\tlet defaultFotmat;\n\tclass NumberColumn extends Column {\n\t\tstatic get defaultFotmat() {\n\t\t\treturn defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n\t\t}\n\t\tstatic set defaultFotmat(fmt) {\n\t\t\tdefaultFotmat = fmt;\n\t\t}\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._format = option.format;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn NumberStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new NumberColumn(this);\n\t\t}\n\t\tget format() {\n\t\t\treturn this._format;\n\t\t}\n\t\twithFormat(format) {\n\t\t\tconst c = this.clone();\n\t\t\tc._format = format;\n\t\t\treturn c;\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\tif (isNaN(value - 0)) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tconst format = this._format || NumberColumn.defaultFotmat;\n\t\t\treturn format.format(value - 0);\n\t\t}\n\t}\n\n\tmodule.exports = NumberColumn;\n}","'use strict';\n{\n\tconst BaseColumn = require('./BaseColumn');\n\tconst CheckStyle = require('../style/CheckStyle');\n\tconst {CHECK_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\n\n\tfunction toBoolean(val) {\n\t\tif (typeof val === 'string') {\n\t\t\tif (val === 'false') {\n\t\t\t\treturn false;\n\t\t\t} else if (val === 'off') {\n\t\t\t\treturn false;\n\t\t\t} else if (val.match(/^0+$/)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn val;\n\t}\n\n\tclass CheckColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn CheckStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new CheckColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn toBoolean(value);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor,\n\t\t\t\tbgColor,\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst {col, row} = context;\n\t\t\tconst key = `${col}:${row}`;\n\t\t\tconst state = grid[CHECK_COLUMN_STATE_ID] && grid[CHECK_COLUMN_STATE_ID][key];\n\n\t\t\tconst opt = {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tborderColor,\n\t\t\t\tcheckBgColor,\n\t\t\t\tuncheckBgColor,\n\t\t\t};\n\t\t\tif (state) {\n\t\t\t\topt.animElapsedTime = state.elapsed;\n\t\t\t}\n\t\t\thelper.checkbox(value, context, opt);\n\t\t}\n\t\tbindGridEvent(grid, col, util) {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tmodule.exports = CheckColumn;\n}","'use strict';\n{\n\tconst Column = require('./Column');\n\tconst ButtonStyle = require('../style/ButtonStyle');\n\tconst {BUTTON_COLUMN_STATE_ID} = require('../../internal/symbolManager');\n\tconst utils = require('./columnUtils');\n\n\n\tclass ButtonColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._caption = option.caption;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn ButtonStyle;\n\t\t}\n\t\tget caption() {\n\t\t\treturn this._caption;\n\t\t}\n\t\twithCaption(caption) {\n\t\t\tconst c = this.clone();\n\t\t\tc._caption = caption;\n\t\t\treturn c;\n\t\t}\n\t\tclone() {\n\t\t\treturn new ButtonColumn(this);\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn this._caption || value;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\t\tconst {textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tconst {col, row} = context;\n\t\t\tlet active = false;\n\t\t\tconst state = grid[BUTTON_COLUMN_STATE_ID];\n\t\t\tif (state) {\n\t\t\t\tif (state.mouseActiveCell &&\n\t\t\t\t\tstate.mouseActiveCell.col === col &&\n\t\t\t\t\tstate.mouseActiveCell.row === row) {\n\t\t\t\t\tactive = true;\n\t\t\t\t} else if (context.getSelectState().selected) {\n\t\t\t\t\tactive = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.button(value, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tbgColor: buttonBgColor,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\tpadding,\n\t\t\t\t\tshadow: active ? {\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.48)',\n\t\t\t\t\t\tblur: 6,\n\t\t\t\t\t\toffsetY: 3,\n\t\t\t\t\t} : true,\n\t\t\t\t\ticons,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tmodule.exports = ButtonColumn;\n}","'use strict';\n{\n\tconst ImageStyle = require('../style/ImageStyle');\n\tconst {getCacheOrLoad} = require('../../internal/imgs');\n\tconst {calcStartPosition} = require('../../internal/canvases');\n\tconst BaseColumn = require('./BaseColumn');\n\n\tconst MAX_LRU_CACHE_SIZE = 50;\n\tfunction getImage(url) {\n\t\treturn getCacheOrLoad('ImageColumn', MAX_LRU_CACHE_SIZE, url);\n\t}\n\n\tfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n\t\tlet newWidth = width;\n\t\tlet newHeight = height;\n\t\tif (newWidth > maxWidth) {\n\t\t\tnewWidth = maxWidth;\n\t\t\tnewHeight = (newWidth * height) / width;\n\t\t}\n\t\tif (newHeight > maxHeight) {\n\t\t\tnewHeight = maxHeight;\n\t\t\tnewWidth = (newHeight * width) / height;\n\t\t}\n\t\treturn {\n\t\t\twidth: newWidth,\n\t\t\theight: newHeight,\n\t\t};\n\t}\n\n\tclass ImageColumn extends BaseColumn {\n\t\tget StyleClass() {\n\t\t\treturn ImageStyle;\n\t\t}\n\t\tonDrawCell(cellValue, info, context, grid) {\n\t\t\treturn super.onDrawCell(getImage(cellValue), info, context, grid);\n\t\t}\n\t\tclone() {\n\t\t\treturn new ImageColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\t\tif (value) {\n\t\t\t\tconst {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tmargin,\n\t\t\t\t\tbgColor,\n\t\t\t\t} = style;\n\t\t\t\tif (bgColor) {\n\t\t\t\t\tdrawCellBase({\n\t\t\t\t\t\tbgColor,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\thelper.drawWithClip(context, (ctx) => {\n\n\t\t\t\t\tctx.textAlign = textAlign;\n\t\t\t\t\tctx.textBaseline = textBaseline;\n\t\t\t\t\tconst rect = context.getRect();\n\t\t\t\t\tif (style.imageSizing === 'keep-aspect-ratio') {\n\t\t\t\t\t\tconst {width, height} = calcKeepAspectRatioSize(\n\t\t\t\t\t\t\t\tvalue.width, value.height,\n\t\t\t\t\t\t\t\trect.width - margin * 2, rect.height - margin * 2\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst pos = calcStartPosition(ctx, rect, width, height, {\n\t\t\t\t\t\t\toffset: margin,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tctx.drawImage(value,\n\t\t\t\t\t\t\t\t0, 0, value.width, value.height,\n\t\t\t\t\t\t\t\tpos.x, pos.y, width, height\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.drawImage(value,\n\t\t\t\t\t\t\t\t0, 0, value.width, value.height,\n\t\t\t\t\t\t\t\trect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tmodule.exports = ImageColumn;\n}","'use strict';\n\nclass LRUCache {\n\tconstructor(cacheSize) {\n\t\tthis._list = [];\n\t\tthis._map = {};\n\t\tthis._cacheSize = cacheSize || 50;\n\t}\n\tget(key) {\n\t\tconst val = this._map[key];\n\t\tif (val) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t\tthis._list.push(key);\n\t\t}\n\t\treturn val;\n\t}\n\tput(key, value) {\n\t\tif (this._map[key]) {\n\t\t\tconst idx = this._list.indexOf(key);\n\t\t\tthis._list.splice(idx, 1);\n\t\t}\n\t\tthis._map[key] = value;\n\t\tthis._list.push(key);\n\t\tif (this._list.length > this._cacheSize) {\n\t\t\tconst remKey = this._list.shift();\n\t\t\tdelete this._map[remKey];\n\t\t}\n\t}\n}\nmodule.exports = LRUCache;","'use strict';\n{\n\tconst PercentCompleteBarStyle = require('../style/PercentCompleteBarStyle');\n\tconst {getOrApply, str} = require('../../internal/utils');\n\tconst Column = require('./Column');\n\n\n\tconst MARGIN = 2;\n\n\tclass PercentCompleteBarColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._min = option.min || 0;\n\t\t\tthis._max = option.max || (this._min + 100);\n\t\t\tthis._formatter = option.formatter || ((v) => v);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn PercentCompleteBarStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new PercentCompleteBarColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tsuper.drawInternal(this._formatter(value), context, style, helper, grid, info);\n\t\t\tconst {\n\t\t\t\tbarColor,\n\t\t\t\tbarBgColor,\n\t\t\t\tbarHeight,\n\t\t\t} = style;\n\n\t\t\tlet svalue = `${value}`;\n\t\t\tif (str.endsWith(svalue, '%')) {\n\t\t\t\tsvalue = svalue.substr(0, svalue.length - 1);\n\t\t\t}\n\t\t\tconst num = svalue - 0;\n\t\t\tconst rate = num < this._min ? 0\n\t\t\t\t: num > this._max ? 1\n\t\t\t\t: (num - this._min) / (this._max - this._min);\n\n\t\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\t\tconst rect = context.getRect();\n\n\t\t\t\tconst barMaxWidth = rect.width - MARGIN * 2 - 1/**/;\n\t\t\t\tconst barTop = rect.bottom - MARGIN - barHeight - 1/**/;\n\t\t\t\tconst barLeft = rect.left + MARGIN;\n\t\t\t\tctx.fillStyle = getOrApply(barBgColor, rate * 100) || '#f0f3f5';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n\t\t\t\tctx.fill();\n\n\n\t\t\t\tconst barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n\t\t\t\tctx.fillStyle = getOrApply(barColor, rate * 100) || '#20a8d8';\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(barLeft, barTop, barSize, barHeight);\n\t\t\t\tctx.fill();\n\t\t\t});\n\t\t}\n\t}\n\tmodule.exports = PercentCompleteBarColumn;\n}","'use strict';\n{\n\tconst IconStyle = require('../style/IconStyle');\n\tconst Column = require('./Column');\n\tconst icons = require('../../internal/icons');\n\n\tfunction repeatArray(val, count) {\n\t\tif (count === Infinity) {\n\t\t\tcount = 0;\n\t\t}\n\t\tconst a = [];\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\ta.push(val);\n\t\t}\n\t\treturn a;\n\t}\n\n\tclass IconColumn extends Column {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._tagName = option.tagName || 'i';\n\t\t\tthis._className = option.className;\n\t\t\tthis._content = option.content;\n\t\t\tthis._name = option.name;\n\t\t\tthis._iconWidth = option.iconWidth;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn IconStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new IconColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, info) {\n\t\t\tconst num = value - 0;\n\t\t\tif (!isNaN(num)) {\n\t\t\t\tconst icon = {};\n\t\t\t\ticons.iconPropKeys.forEach((k) => {\n\t\t\t\t\ticon[k] = style[k];\n\t\t\t\t});\n\t\t\t\ticon.className = this._className;\n\t\t\t\ticon.tagName = this._tagName;\n\t\t\t\ticon.content = this._content;\n\t\t\t\ticon.name = this._name;\n\t\t\t\tif (this._iconWidth) {\n\t\t\t\t\ticon.width = this._iconWidth;\n\t\t\t\t}\n\n\t\t\t\tinfo.getIcon = () => repeatArray(icon, num);\n\t\t\t} else {\n\t\t\t\tinfo.getIcon = () => null;\n\t\t\t}\n\t\t\tsuper.drawInternal('', context, style, helper, grid, info);\n\t\t}\n\t}\n\tmodule.exports = IconColumn;\n}","'use strict';\nconst {isDef, getOrApply, isPromise, obj: {isObject}} = require('../../internal/utils');\nconst BranchGraphStyle = require('../style/BranchGraphStyle');\nconst BaseColumn = require('./BaseColumn');\nconst {BRANCH_GRAPH_COLUMN_STATE_ID: _} = require('../../internal/symbolManager');\n\nfunction getAllColumnData(grid, col, callback) {\n\tconst {dataSource} = grid;\n\tlet field = grid.getField(col);\n\tif (isObject(field) && field.get && field.set) {\n\t\tfield = field.get;\n\t}\n\tconst allData = [];\n\tlet promise;\n\tfor (let index = 0; index < dataSource.length; index++) {\n\t\tconst data = dataSource.getField(index, field);\n\t\tif (isPromise(data)) {\n\t\t\tconst dataIndex = allData.length;\n\t\t\tallData.push(data);\n\t\t\tif (!promise) {\n\t\t\t\tpromise = data.then((d) => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tpromise = promise.then(() => data).then((d) => {\n\t\t\t\t\tallData[dataIndex] = d;\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tallData.push(data);\n\t\t}\n\t}\n\n\tif (promise) {\n\t\tpromise.then(() => callback(allData));\n\t} else {\n\t\tcallback(allData);\n\t}\n}\n\nclass BranchLine {\n\tconstructor({fromIndex, toIndex, colorIndex, point}) {\n\t\tthis.fromIndex = fromIndex;\n\t\tthis.toIndex = toIndex;\n\t\tthis.colorIndex = colorIndex;\n\t\tthis.point = point;\n\t}\n}\nclass BranchPoint {\n\tconstructor({index, commit = false, lines = [], tag}) {\n\t\tthis.index = index;\n\t\tthis.commit = commit;\n\t\tthis.lines = lines;\n\t\tthis.tag = tag;\n\t}\n\tstatic mergeLines(lines) {\n\t\tconst result = lines.filter(((l) => isDef(l.fromIndex) && isDef(l.toIndex)));\n\n\t\tconst froms = lines.filter(((l) => isDef(l.fromIndex) && !isDef(l.toIndex)));\n\t\tconst tos = lines.filter(((l) => !isDef(l.fromIndex) && isDef(l.toIndex)));\n\n\t\tfroms.forEach((f) => {\n\t\t\tfor (let i = 0; i < tos.length; i++) {\n\t\t\t\tconst t = tos[i];\n\t\t\t\tif (t.point) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (f.colorIndex === t.colorIndex) {\n\t\t\t\t\tf.toIndex = t.toIndex;\n\t\t\t\t\ttos.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.push(f);\n\t\t});\n\n\t\treturn result.concat(tos);\n\t}\n\tstatic merge(a, b) {\n\t\tif (!a) {\n\t\t\treturn b;\n\t\t}\n\t\treturn new BranchPoint({\n\t\t\tindex: a.index,\n\t\t\tcommit: a.commit || b.commit,\n\t\t\tlines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n\t\t\ttag: a.tag || b.tag\n\t\t});\n\t}\n}\n\nfunction joinLine(timeline, branchIndex) {\n\tconst reverse = [...timeline].reverse();\n\tfor (let i = 0; i < reverse.length; i++) {\n\t\tconst f = reverse[i][branchIndex];\n\t\tif (f) {\n\t\t\tf.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n\t\t\t\ttoIndex: branchIndex,\n\t\t\t\tcolorIndex: branchIndex,\n\t\t\t})]));\n\n\t\t\tfor (let j = 0; j < i; j++) {\n\t\t\t\tconst tl = reverse[j];\n\t\t\t\ttl[branchIndex] = new BranchPoint({\n\t\t\t\t\tindex: branchIndex,\n\t\t\t\t\tlines: [new BranchLine({\n\t\t\t\t\t\tfromIndex: branchIndex,\n\t\t\t\t\t\ttoIndex: branchIndex,\n\t\t\t\t\t\tcolorIndex: branchIndex\n\t\t\t\t\t})]\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction branch({timeline, branches}, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tlet toIndex = branches.indexOf(to);\n\tif (toIndex < 0) {\n\t\ttoIndex = branches.length;\n\t\tbranches.push(to);\n\t}\n\n\tfunction findBranchRootIndex() {\n\t\tfor (let index = timeline.length - 1; index >= 0; index--) {\n\t\t\tconst tl = timeline[index];\n\t\t\tconst from = tl[fromIndex];\n\t\t\tif (from && from.commit) {\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tif (fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t});\n\t} else {\n\t\tconst fromTargetIndex = findBranchRootIndex();\n\t\tif (fromTargetIndex === -1) {\n\t\t\treturn null;\n\t\t}\n\t\tconst branchTargetFromIndex = fromTargetIndex + 1;\n\t\tconst branchPoint = new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})]\n\t\t});\n\t\tlet point;\n\t\tlet result;\n\t\tif (branchTargetFromIndex < timeline.length) {\n\t\t\tconst targetLine = timeline[branchTargetFromIndex];\n\t\t\tpoint = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n\t\t} else {\n\t\t\tpoint = branchPoint;\n\t\t\tresult = branchPoint;\n\t\t}\n\t\tconst from = timeline[fromTargetIndex][fromIndex];\n\t\tfrom.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n\t\t\ttoIndex,\n\t\t\tcolorIndex: toIndex,\n\t\t\tpoint,\n\t\t})]));\n\t\treturn result;\n\t}\n\n}\n\nfunction commit({timeline, branches}, name) {\n\tconst index = branches.indexOf(name);\n\tif (index < 0) {\n\t\treturn null;\n\t}\n\tconst result = new BranchPoint({\n\t\tindex,\n\t\tcommit: true,\n\t});\n\n\tif (joinLine(timeline, index)) {\n\t\tresult.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n\t\t\tfromIndex: index,\n\t\t\tcolorIndex: index\n\t\t})]));\n\t}\n\treturn result;\n}\n\nfunction commitTag({timeline, branches}, name, tag) {\n\tlet index = branches.indexOf(name);\n\tif (index < 0) {\n\t\tindex = branches.length;\n\t\tbranches.push(name);\n\t}\n\treturn new BranchPoint({\n\t\tindex,\n\t\ttag\n\t});\n}\n\nfunction commitMerge({timeline, branches}, from, to) {\n\tconst fromIndex = branches.indexOf(from);\n\tconst toIndex = branches.indexOf(to);\n\tif (toIndex < 0 || fromIndex < 0) {\n\t\treturn new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tcommit: true,\n\t\t});\n\t}\n\tconst result = new BranchPoint({\n\t\tindex: toIndex,\n\t\tcommit: true,\n\t\tlines: [\n\t\t\tnew BranchLine({\n\t\t\t\tfromIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t}),\n\t\t\tnew BranchLine({\n\t\t\t\tfromIndex: toIndex,\n\t\t\t\tcolorIndex: toIndex\n\t\t\t})],\n\t});\n\tconst froms = [...timeline];\n\tconst fromTargetLine = froms.pop();\n\tif (fromTargetLine) {\n\t\tfromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n\t\t\tindex: toIndex,\n\t\t\tlines: [new BranchLine({\n\t\t\t\ttoIndex,\n\t\t\t\tcolorIndex: fromIndex\n\t\t\t})]\n\t\t}));\n\t}\n\n\n\tif (joinLine(froms, fromIndex) && fromTargetLine) {\n\t\tfromTargetLine[fromIndex].lines = BranchPoint.mergeLines(\n\t\t\t\tfromTargetLine[fromIndex].lines.concat([new BranchLine({\n\t\t\t\t\tfromIndex,\n\t\t\t\t\tcolorIndex: fromIndex\n\t\t\t\t})]));\n\t}\n\tjoinLine(timeline, toIndex);\n\n\treturn result;\n}\n\nfunction calcCommand(info, command) {\n\tconst {timeline} = info;\n\tconst timelineData = [];\n\t// const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\tconst commands = Array.isArray(command) ? command : [command];\n\tcommands.forEach((cmd) => {\n\t\tif (!cmd) {\n\t\t\treturn;\n\t\t}\n\t\tlet point;\n\t\tif (cmd.command === 'branch') {\n\t\t\tconst from = isObject(cmd.branch) ? cmd.branch.from : null;\n\t\t\tconst to = isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n\t\t\tpoint = branch(info, from, to);\n\t\t} else if (cmd.command === 'commit') {\n\t\t\tconst {branch} = cmd;\n\t\t\tpoint = commit(info, branch);\n\t\t} else if (cmd.command === 'merge') {\n\t\t\tconst {from, to} = cmd.branch;\n\t\t\tpoint = commitMerge(info, from, to);\n\t\t} else if (cmd.command === 'tag') {\n\t\t\tconst {branch, tag} = cmd;\n\t\t\tpoint = commitTag(info, branch, tag);\n\t\t}\n\t\tif (point && point.index > -1) {\n\t\t\ttimelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n\t\t}\n\t});\n\ttimeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, col) {\n\tconst result = {\n\t\tbranches: [],\n\t\ttimeline: []\n\t};\n\tgetAllColumnData(grid, col, (data) => {\n\t\tif (start !== 'top') {\n\t\t\tdata = [...data].reverse();\n\t\t}\n\t\tdata.forEach((command) => {\n\t\t\tcalcCommand(result, command);\n\t\t});\n\n\t});\n\treturn result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n\tlet w = Math.max(width / branches.length + 1, 5);\n\ttimeline.forEach((tl) => {\n\t\ttl.forEach((p, index) => {\n\t\t\tif (index <= 0) {\n\t\t\t\t// \n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (p.tag) {\n\t\t\t\tconst textWidth = ctx.measureText(p.tag).width;\n\t\t\t\tif (((w * index) + (radius * 2) + 4 + textWidth) > width) {\n\t\t\t\t\tw = Math.max((width - (radius * 2) - 4 - textWidth) / index, 5);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\tconst result = [];\n\tlet x = left;\n\tbranches.forEach(() => {\n\t\tresult.push(Math.ceil(x + radius));\n\t\tx += w;\n\t});\n\treturn result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n\tbranchXPoints, margin, branchColors, branchLineWidth, mergeStyle\n}, {\n\twidth, col, row, branches\n}) {\n\tif (isDef(upLineIndex) || isDef(downLineIndex)) {\n\t\tctx.strokeStyle = getOrApply(branchColors, branches[colorIndex], colorIndex);\n\t\tctx.lineWidth = branchLineWidth;\n\t\tctx.lineCap = 'round';\n\t\tctx.beginPath();\n\n\n\t\tif (isDef(upLineIndex)) {\n\t\t\tconst upX = branchXPoints[upLineIndex];\n\t\t\tconst upRect = grid.getCellRelativeRect(col, row - 1);\n\t\t\tconst upY = upRect.top + upRect.height / 2;\n\t\t\tctx.moveTo(upX, upY);\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tupX, (y + upY) / 2,\n\t\t\t\t\t\tx, (y + upY) / 2,\n\t\t\t\t\t\tx, y\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t} else {\n\t\t\tctx.moveTo(x, y);\n\t\t}\n\n\t\tif (isDef(downLineIndex)) {\n\t\t\tconst downX = branchXPoints[downLineIndex];\n\t\t\tconst downRect = grid.getCellRelativeRect(col, row + 1);\n\t\t\tconst downY = downRect.top + downRect.height / 2;\n\t\t\tif (mergeStyle === 'bezier') {\n\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\tx, (y + downY) / 2,\n\t\t\t\t\t\tdownX, (y + downY) / 2,\n\t\t\t\t\t\tdownX, downY\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tctx.lineTo(downX, downY);\n\t\t\t}\n\t\t}\n\n\t\tctx.stroke();\n\t}\n}\n\n/**\n * BranchGraphColumn<br>\n * <br>\n * # Data command<br>\n * ## mastar branch or orphan branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * </code></pre>\n * ## commit<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * </code></pre>\n * ## branch<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * </code></pre>\n * ## merge<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * </code></pre>\n * ## tag<br>\n * <pre><code class=\"js\">\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * </code></pre>\n *\n *\n * @memberof cheetahGrid.columns.type\n */\nclass BranchGraphColumn extends BaseColumn {\n\tconstructor(option = {}) {\n\t\tsuper(option);\n\t\tthis._start = option.start || 'bottom';\n\t\tthis._cache = isDef(option.cache) ? option.cache : false;\n\t}\n\tget StyleClass() {\n\t\treturn BranchGraphStyle;\n\t}\n\tclearCache(grid) {\n\t\tdelete grid[_];\n\t}\n\tonDrawCell(cellValue, info, context, grid) {\n\t\tif (this._cache) {\n\t\t\tconst state = grid[_] || (grid[_] = {});\n\t\t\tconst {col} = context;\n\t\t\tif (!state[col]) {\n\t\t\t\tstate[col] = calcBranchesInfo(this._start, grid, col);\n\t\t\t}\n\t\t}\n\t\treturn super.onDrawCell(cellValue, info, context, grid);\n\t}\n\tclone() {\n\t\treturn new BranchGraphColumn(this);\n\t}\n\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\tconst {col, row} = context;\n\t\tconst {timeline, branches} = (this._cache && grid[_]) ? grid[_][col] : calcBranchesInfo(this._start, grid, col);\n\n\t\tconst {upLineIndexKey, downLineIndexKey} = this._start !== 'top' ? {upLineIndexKey: 'toIndex', downLineIndexKey: 'fromIndex'} : {upLineIndexKey: 'fromIndex', downLineIndexKey: 'toIndex'};\n\t\tconst data = this._start !== 'top' ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n\n\t\tconst {\n\t\t\tbranchColors,\n\t\t\tbranchLineWidth,\n\t\t\tcircleSize,\n\t\t\tmergeStyle,\n\t\t\tmargin,\n\t\t\tbgColor,\n\t\t} = style;\n\t\tif (bgColor) {\n\t\t\tdrawCellBase({\n\t\t\t\tbgColor,\n\t\t\t});\n\t\t}\n\n\t\tconst rect = context.getRect();\n\t\tconst radius = circleSize / 2;\n\t\tconst width = rect.width - margin * 2;\n\n\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\tctx.textAlign = 'left';\n\t\t\tctx.textBaseline = 'middle';\n\t\t\tconst branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n\n\t\t\tconst y = rect.top + rect.height / 2;\n\n\t\t\t// draw join lines\n\t\t\tdata.\n\t\t\t\tmap((point, index) => point ? point.lines.map((line) => ({\n\t\t\t\t\tcolorIndex: line.colorIndex,\n\t\t\t\t\tupLineIndex: line[upLineIndexKey],\n\t\t\t\t\tdownLineIndex: line[downLineIndexKey],\n\t\t\t\t\tpointIndex: index,\n\t\t\t\t})) : []).\n\t\t\t\treduce((p, c) => p.concat(c), []).// flatMap\n\t\t\t\t// order of overlap\n\t\t\t\tsort((a, b) => b.colorIndex - a.colorIndex).\n\t\t\t\tforEach((line) => {\n\t\t\t\t\tconst x = branchXPoints[line.pointIndex];\n\t\t\t\t\trenderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n\t\t\t\t\t\tmargin,\n\t\t\t\t\t\tbranchXPoints,\n\t\t\t\t\t\tbranchLineWidth,\n\t\t\t\t\t\tbranchColors,\n\t\t\t\t\t\tmergeStyle,\n\t\t\t\t\t}, {\n\t\t\t\t\t\twidth, col, row, branches\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t// draw commit points\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.commit) {\n\t\t\t\t\tconst x = branchXPoints[index];\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(x, y, radius, 0, Math.PI * 2, true);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tctx.closePath();\n\t\t\t\t}\n\t\t\t});\n\t\t\t// draw tags\n\t\t\tdata.forEach((p, index) => {\n\t\t\t\tif (p && p.tag) {\n\t\t\t\t\tctx.fillStyle = getOrApply(branchColors, branches[index], index);\n\t\t\t\t\tctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\nmodule.exports = BranchGraphColumn;","'use strict';\nconst BaseStyle = require('./BaseStyle');\nlet defaultStyle;\nfunction adj(style) {\n\tconst {textAlign = 'center'} = style;\n\tstyle.textAlign = textAlign;\n\treturn style;\n}\nconst DEFAULT_BRANCH_COLORS = (name, index) => {\n\tswitch (index % 3) {\n\tcase 0:\n\t\treturn '#979797';\n\tcase 1:\n\t\treturn '#008fb5';\n\tcase 2:\n\t\treturn '#f1c109';\n\tdefault:\n\t}\n\treturn '#979797';\n};\nclass BranchGraphStyle extends BaseStyle {\n\tstatic get DEFAULT() {\n\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new BranchGraphStyle());\n\t}\n\tconstructor(style = {}) {\n\t\tsuper(adj(style));\n\t\tthis._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n\t\tthis._margin = style.margin || 4;\n\t\tthis._circleSize = style.circleSize || 16;\n\t\tthis._branchLineWidth = style.branchLineWidth || 4;\n\t\tthis._mergeStyle = style.mergeStyle === 'straight' ? 'straight' : 'bezier';\n\t}\n\tget branchColors() {\n\t\treturn this._branchColors;\n\t}\n\tset branchColors(branchColors) {\n\t\tthis._branchColors = branchColors;\n\t\tthis.doChangeStyle();\n\t}\n\tget margin() {\n\t\treturn this._margin;\n\t}\n\tset margin(margin) {\n\t\tthis._margin = margin;\n\t\tthis.doChangeStyle();\n\t}\n\tget circleSize() {\n\t\treturn this._circleSize;\n\t}\n\tset circleSize(circleSize) {\n\t\tthis._circleSize = circleSize;\n\t\tthis.doChangeStyle();\n\t}\n\tget branchLineWidth() {\n\t\treturn this._branchLineWidth;\n\t}\n\tset branchLineWidth(branchLineWidth) {\n\t\tthis._branchLineWidth = branchLineWidth;\n\t\tthis.doChangeStyle();\n\t}\n\tget mergeStyle() {\n\t\treturn this._mergeStyle;\n\t}\n\tset mergeStyle(mergeStyle) {\n\t\tthis._mergeStyle = mergeStyle;\n\t\tthis.doChangeStyle();\n\t}\n\tclone() {\n\t\treturn new BranchGraphStyle(this);\n\t}\n}\nmodule.exports = BranchGraphStyle;","'use strict';\n{\n\tconst {normalize} = require('../../internal/menu-items');\n\tconst {isDef} = require('../../internal/utils');\n\tconst BaseColumn = require('./BaseColumn');\n\tconst Style = require('../style/Style');\n\tconst utils = require('./columnUtils');\n\n\tclass MenuColumn extends BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t\tthis._options = normalize(option.options);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tclone() {\n\t\t\treturn new MenuColumn(this);\n\t\t}\n\t\tget options() {\n\t\t\treturn this._options;\n\t\t}\n\t\twithOptions(options) {\n\t\t\tconst c = this.clone();\n\t\t\tc._options = normalize(options);\n\t\t\treturn c;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding,\n\t\t\t} = style;\n\t\t\tlet {\n\t\t\t\tcolor,\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst text = this._convertInternal(value);\n\t\t\thelper.testFontLoad(font, text, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\tconst basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n\t\t\t\tconst textPadding = basePadding.slice(0);\n\t\t\t\ttextPadding[1] += 26;// icon padding\n\t\t\t\tconst iconPadding = basePadding.slice(0);\n\t\t\t\ticonPadding[1] += 8;\n\t\t\t\tif (!isDef(color) && (!isDef(value) || value === '')) {\n\t\t\t\t\tcolor = 'rgba(0, 0, 0, .38)';\n\t\t\t\t}\n\t\t\t\thelper.text(text, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding: textPadding,\n\t\t\t\t});\n\t\t\t\t// draw icon\n\t\t\t\thelper.text('', context, {\n\t\t\t\t\ttextAlign: 'right',\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons: [{\n\t\t\t\t\t\tpath: 'M0 2 5 7 10 2z',\n\t\t\t\t\t\twidth: 10,\n\t\t\t\t\t\tcolor: 'rgba(0, 0, 0, .54)',\n\t\t\t\t\t}],\n\t\t\t\t\tpadding: iconPadding,\n\t\t\t\t});\n\n\t\t\t});\n\t\t}\n\t\tconvertInternal(value) {\n\t\t\treturn value;\n\t\t}\n\t\t_convertInternal(value) {\n\t\t\tconst options = this._options;\n\t\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\t\tconst option = options[i];\n\t\t\t\tif (option.value === value) {\n\t\t\t\t\tvalue = option.caption;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn super.convertInternal(value);\n\t\t}\n\t}\n\n\tmodule.exports = MenuColumn;\n}","'use strict';\n{\n\tconst MultilineTextStyle = require('../style/MultilineTextStyle');\n\tconst BaseColumn = require('./BaseColumn');\n\tconst utils = require('./columnUtils');\n\tclass MultilineTextColumn extends BaseColumn {\n\t\tconstructor(option = {}) {\n\t\t\tsuper(option);\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn MultilineTextStyle;\n\t\t}\n\t\tclone() {\n\t\t\treturn new MultilineTextColumn(this);\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase, getIcon}) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t\tpadding,\n\t\t\t\tlineHeight,\n\t\t\t} = style;\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst multilines = value.replace(/\\r?\\n/g, '\\n').replace(/\\r/g, '\\n').split('\\n');\n\t\t\thelper.testFontLoad(font, value, context);\n\t\t\tutils.loadIcons(getIcon(), context, helper, (icons, context) => {\n\t\t\t\thelper.multilineText(multilines, context, {\n\t\t\t\t\ttextAlign,\n\t\t\t\t\ttextBaseline,\n\t\t\t\t\tcolor,\n\t\t\t\t\tfont,\n\t\t\t\t\ticons,\n\t\t\t\t\tpadding,\n\t\t\t\t\tlineHeight,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tmodule.exports = MultilineTextColumn;\n}","'use strict';\n{\n\tconst Style = require('./Style');\n\n\tfunction adj(style) {\n\t\tconst {textBaseline = 'top'} = style;\n\t\tstyle.textBaseline = textBaseline;\n\t\treturn style;\n\t}\n\tlet defaultStyle;\n\tclass MultilineTextStyle extends Style {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new MultilineTextStyle());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(adj(style));\n\t\t\tthis._lineHeight = style.lineHeight || '1em';\n\t\t}\n\t\tclone() {\n\t\t\treturn new MultilineTextStyle(this);\n\t\t}\n\t\tget lineHeight() {\n\t\t\treturn this._lineHeight;\n\t\t}\n\t\tset lineHeight(lineHeight) {\n\t\t\tthis._lineHeight = lineHeight;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t}\n\n\n\tmodule.exports = MultilineTextStyle;\n}","/*eslint no-bitwise:0*/\n'use strict';\n{\n\tconst {getChainSafe} = require('../internal/utils');\n\tconst defaultTheme = require('./MATERIAL_DESIGN');\n\n\tfunction getProp(obj, superObj, names, defNames) {\n\t\treturn getChainSafe(obj, ...names) ||\n\t\t(defNames && getChainSafe(obj, ...defNames)) ||\n\t\tgetChainSafe(superObj, ...names);\n\t}\n\tfunction createTheme(obj = {}, superTheme = defaultTheme) {\n\t\treturn {\n\t\t\tget font() {\n\t\t\t\treturn getProp(obj, superTheme, ['font']);\n\t\t\t},\n\t\t\tget underlayBackgroundColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['underlayBackgroundColor']);\n\t\t\t},\n\t\t\t// color\n\t\t\tget color() {\n\t\t\t\treturn getProp(obj, superTheme, ['color']);\n\t\t\t},\n\t\t\tget frozenRowsColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsColor'], ['color']);\n\t\t\t},\n\t\t\t// background\n\t\t\tget defaultBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['defaultBgColor']);\n\t\t\t},\n\t\t\tget frozenRowsBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\tget selectionBgColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['selectionBgColor'], ['defaultBgColor']);\n\t\t\t},\n\t\t\t// border\n\t\t\tget borderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['borderColor']);\n\t\t\t},\n\t\t\tget frozenRowsBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['frozenRowsBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget hiliteBorderColor() {\n\t\t\t\treturn getProp(obj, superTheme, ['hiliteBorderColor'], ['borderColor']);\n\t\t\t},\n\t\t\tget checkbox() {\n\t\t\t\treturn this._checkbox || (this._checkbox = {\n\t\t\t\t\tget uncheckBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'uncheckBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget checkBgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'checkBgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t\tget borderColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['checkbox', 'borderColor'], ['borderColor']);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tget button() {\n\t\t\t\treturn this._button || (this._button = {\n\t\t\t\t\tget color() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'color'], ['color']);\n\t\t\t\t\t},\n\t\t\t\t\tget bgColor() {\n\t\t\t\t\t\treturn getProp(obj, superTheme, ['button', 'bgColor'], ['defaultBgColor']);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t\textends(obj) {\n\t\t\t\treturn createTheme(obj, this);\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * theme object\n\t * @type {Object}\n\t * @namespace cheetahGrid.themes.theme\n\t * @memberof cheetahGrid.themes\n\t */\n\tmodule.exports = {\n\t\tcreate(obj) {\n\t\t\treturn createTheme(obj);\n\t\t}\n\t};\n}","/*eslint no-bitwise:0*/\n'use strict';\nfunction DEFAULT_BG_COLOR(args) {\n\tconst {\n\t\trow,\n\t\tgrid: {frozenRowCount}\n\t} = args;\n\tif (!((row - frozenRowCount) & 1)) {\n\t\treturn '#FFF';\n\t} else {\n\t\treturn '#F6F6F6';\n\t}\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n\tlet stop;\n\tconst stopsKey = [];\n\tfor (stop in colorStops) {\n\t\tstopsKey.push(`${stop}@${colorStops[stop]}`);\n\t}\n\tconst key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(',')}`;\n\tconst ret = cacheLinearGradient[key];\n\tif (ret) {\n\t\treturn ret;\n\t}\n\tconst grad = context.createLinearGradient(left, top, left, bottom);\n\tfor (stop in colorStops) {\n\t\tgrad.addColorStop(stop, colorStops[stop]);\n\t}\n\treturn (cacheLinearGradient[key] = grad);\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n\tconst {\n\t\tcol,\n\t\tgrid,\n\t\tgrid: {frozenRowCount},\n\t\tcontext\n\t} = args;\n\tconst {left, top} = grid.getCellRelativeRect(col, 0);\n\tconst {bottom} = grid.getCellRelativeRect(col, frozenRowCount - 1);\n\n\treturn getLinearGradient(context, left, top, left, bottom, {0: '#FFF', 1: '#D3D3D3'});\n}\n/**\n * basic theme\n * @name BASIC\n * @type {Object}\n * @memberof cheetahGrid.themes.choices\n */\nmodule.exports = {\n\tcolor: '#000',\n\tdefaultBgColor: DEFAULT_BG_COLOR,\n\tfrozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n\thiliteBorderColor: '#5E9ED6',\n\tselectionBgColor: '#CCE0FF',\n\tborderColor: '#000',\n\tcheckbox: {\n\t\tuncheckBgColor: '#FFF',\n\t\tcheckBgColor: 'rgb(76, 73, 72)',\n\t},\n\tbutton: {\n\t\tcolor: '#FFF',\n\t\tbgColor: '#2196F3',\n\t},\n\tunderlayBackgroundColor: '#F6F6F6',\n};","'use strict';\n{\n\tconst {getChainSafe} = require('../internal/utils');\n\tconst DataSource = require('./DataSource');\n\n\tfunction _setFieldCache({_fCache}, index, field, value) {\n\t\tconst recCache = _fCache[index] || (_fCache[index] = {});\n\t\trecCache[field] = value;\n\t}\n\t/**\n\t * grid data source for caching Promise data\n\t *\n\t * @classdesc cheetahGrid.data.CachedDataSource\n\t * @extends cheetahGrid.data.DataSource\n\t * @memberof cheetahGrid.data\n\t */\n\tclass CachedDataSource extends DataSource {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn DataSource.EVENT_TYPE;\n\t\t}\n\t\tstatic ofArray(array) {\n\t\t\treturn new CachedDataSource({\n\t\t\t\tget: (index) => array[index],\n\t\t\t\tlength: array.length\n\t\t\t});\n\t\t}\n\t\tconstructor(opt = {}) {\n\t\t\tsuper(opt);\n\t\t\tthis._rCache = {};\n\t\t\tthis._fCache = {};\n\t\t}\n\t\tgetOriginal(index) {\n\t\t\tif (this._rCache && this._rCache[index]) {\n\t\t\t\treturn this._rCache[index];\n\t\t\t}\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\tgetOriginalField(index, field) {\n\t\t\tconst cache = getChainSafe(this._fCache, index, field);\n\t\t\tif (cache) {\n\t\t\t\treturn cache;\n\t\t\t}\n\t\t\treturn super.getOriginalField(index, field);\n\t\t}\n\t\tsetOriginalField(index, field, value) {\n\t\t\tconst fCache = this._fCache;\n\t\t\tif (fCache && fCache[index]) {\n\t\t\t\tdelete fCache[index]; // clear row cache\n\t\t\t}\n\t\t\treturn super.setOriginalField(index, field, value);\n\t\t}\n\t\tclearCache() {\n\t\t\tif (this._rCache) {\n\t\t\t\tthis._rCache = {};\n\t\t\t}\n\t\t\tif (this._fCache) {\n\t\t\t\tthis._fCache = {};\n\t\t\t}\n\t\t}\n\t\tfieldPromiseCallBackInternal(index, field, val) {\n\t\t\t_setFieldCache(this, index, field, val);\n\t\t}\n\t\trecordPromiseCallBackInternal(index, val) {\n\t\t\tthis._rCache[index] = val;\n\t\t}\n\t\tdispose() {\n\t\t\tsuper.dispose();\n\t\t}\n\t}\n\n\tmodule.exports = CachedDataSource;\n}","'use strict';\nconst {isPromise} = require('../internal/utils');\nconst DataSource = require('./DataSource');\n\nclass DataSourceIterator {\n\tconstructor(dataSource) {\n\t\tthis._dataSource = dataSource;\n\t\tthis._curIndex = -1;\n\t\tthis._data = [];\n\t}\n\thasNext() {\n\t\tconst next = this._curIndex + 1;\n\t\treturn this._dataSource.length > next;\n\t}\n\tnext() {\n\t\tconst next = this._curIndex + 1;\n\t\tconst data = this._getIndexData(next);\n\t\tthis._curIndex = next;\n\t\treturn data;\n\t}\n\tmovePrev() {\n\t\tthis._curIndex--;\n\t}\n\t_getIndexData(index, nest) {\n\t\tconst dataSource = this._dataSource;\n\t\tconst data = this._data;\n\t\tif (index < data.length) {\n\t\t\treturn data[index];\n\t\t}\n\n\t\tif (dataSource.length <= index) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst record = this._dataSource.get(index);\n\t\tdata[index] = record;\n\t\tif (isPromise(record)) {\n\t\t\trecord.then((val) => {\n\t\t\t\tdata[index] = val;\n\t\t\t});\n\t\t\tif (!nest) {\n\t\t\t\tfor (let i = 1; i <= 100; i++) {\n\t\t\t\t\tthis._getIndexData(index + i, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn record;\n\t}\n\n}\nclass FilterData {\n\tconstructor(dc, original, filter) {\n\t\tthis._owner = dc;\n\t\tthis._dataSourceItr = new DataSourceIterator(original);\n\t\tthis._filter = filter;\n\t\tthis._filterdList = [];\n\t\tthis._queues = [];\n\t}\n\tget(index) {\n\t\tif (this._cancel) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst filterdList = this._filterdList;\n\t\tif (index < filterdList.length) {\n\t\t\treturn filterdList[index];\n\t\t}\n\t\tconst queues = this._queues;\n\t\tif (queues[index]) {\n\t\t\treturn queues[index];\n\t\t}\n\t\treturn queues[index] || this._findIndex(index);\n\t}\n\tcancel() {\n\t\tthis._cancel = true;\n\t}\n\t_findIndex(index) {\n\t\tif (window.Promise) {\n\t\t\tconst timeout = Date.now() + 100;\n\t\t\tlet count = 0;\n\t\t\treturn this._findIndexWithTimeout(index, () => {\n\t\t\t\tcount++;\n\t\t\t\tif (count >= 100) {\n\t\t\t\t\tcount = 0;\n\t\t\t\t\treturn timeout < Date.now();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t\treturn this._findIndexWithTimeout(index, () => false);\n\t}\n\t_findIndexWithTimeout(index, testTimeout) {\n\t\tconst filterdList = this._filterdList;\n\t\tconst filter = this._filter;\n\t\tconst dataSourceItr = this._dataSourceItr;\n\n\t\tconst queues = this._queues;\n\n\n\t\twhile (dataSourceItr.hasNext()) {\n\t\t\tif (this._cancel) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst record = dataSourceItr.next();\n\t\t\tif (isPromise(record)) {\n\t\t\t\tdataSourceItr.movePrev();\n\t\t\t\treturn (queues[index] = record.then((value) => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (filter(record)) {\n\t\t\t\tfilterdList.push(record);\n\t\t\t\tif (index < filterdList.length) {\n\t\t\t\t\treturn filterdList[index];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (testTimeout()) {\n\t\t\t\tconst promise = new Promise((resolve) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t}, 300);\n\t\t\t\t});\n\t\t\t\tqueues[index] = promise.then(() => {\n\t\t\t\t\tqueues[index] = null;\n\t\t\t\t\treturn this.get(index);\n\t\t\t\t});\n\t\t\t\treturn queues[index];\n\t\t\t}\n\t\t}\n\t\tconst dc = this._owner;\n\t\tdc.length = filterdList.length;\n\t\treturn undefined;\n\t}\n}\n\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @extends cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\nclass FilterDataSource extends DataSource {\n\tstatic get EVENT_TYPE() {\n\t\treturn DataSource.EVENT_TYPE;\n\t}\n\tconstructor(dataSource, filter) {\n\t\tsuper(dataSource);\n\t\tthis._dataSource = dataSource;\n\t\tthis.filter = filter;\n\t}\n\tget filter() {\n\t\treturn this._filterData && this._filterData._filter || undefined;\n\t}\n\tset filter(filter) {\n\t\tif (this._filterData) {\n\t\t\tthis._filterData.cancel();\n\t\t}\n\t\tthis._filterData = filter ? new FilterData(this, this._dataSource, filter) : undefined;\n\t\tthis.length = this._dataSource.length;\n\t}\n\tgetOriginal(index) {\n\t\tif (!this._filterData) {\n\t\t\treturn super.getOriginal(index);\n\t\t}\n\t\treturn this._filterData.get(index);\n\t}\n}\n\nmodule.exports = FilterDataSource;","'use strict';\n{\n\tconst {isDef, isPromise, then, obj: {isObject}} = require('./internal/utils');\n\tconst GridCanvasHelper = require('./GridCanvasHelper');\n\tconst columns = require('./columns');\n\tconst {BaseStyle} = columns.style;\n\tconst headerType = require('./header/type');\n\tconst {BaseStyle: HeaderBaseStyle} = require('./header/style');\n\tconst DrawGrid = require('./core/DrawGrid');\n\tconst {DataSource, CachedDataSource} = require('./data');\n\tconst themes = require('./themes');\n\tconst icons = require('./internal/icons');\n\tconst MessageHandler = require('./columns/message/MessageHandler');\n\tconst EVENT_TYPE = require('./list-grid/EVENT_TYPE');\n\n\t//protected symbol\n\tconst {PROTECTED_SYMBOL: _} = require('./internal/symbolManager');\n\n\tlet headerId = 0;\n\t//private methods\n\tfunction _getHeaderCellRange(grid, col, row) {\n\t\treturn grid[_].headerMap.getHeaderCellRange(col, row);\n\t}\n\tfunction _updateRect(grid, col, row, context) {\n\t\tconst rect = context.getRect();\n\t\tconst {\n\t\t\tstartCol,\n\t\t\tendCol,\n\t\t\tstartRow,\n\t\t\tendRow,\n\t\t} = _getHeaderCellRange(grid, col, row);\n\t\tfor (let c = col - 1; c >= startCol; c--) {\n\t\t\trect.left -= grid.getColWidth(c);\n\t\t}\n\t\tfor (let c = col + 1; c <= endCol; c++) {\n\t\t\trect.right += grid.getColWidth(c);\n\t\t}\n\t\tfor (let r = row - 1; r >= startRow; r--) {\n\t\t\trect.top -= grid.getRowHeight(r);\n\t\t}\n\t\tfor (let r = row + 1; r <= endRow; r++) {\n\t\t\trect.bottom += grid.getRowHeight(r);\n\t\t}\n\t\tcontext.setRect(rect);\n\t}\n\tfunction _getCellValue(grid, col, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn grid[_].headerMap.getCell(col, row).caption;\n\t\t} else {\n\t\t\tlet {field} = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.get;\n\t\t\t}\n\t\t\treturn _getField(grid, field, row);\n\t\t}\n\t}\n\tfunction _setCellValue(grid, col, row, value) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\t// nop\n\t\t\treturn false;\n\t\t} else {\n\t\t\tlet {field} = grid[_].headerMap.columns[col];\n\t\t\tif (isObject(field) && field.get && field.set) {\n\t\t\t\tfield = field.set;\n\t\t\t}\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\tconst res = grid[_].dataSource.setField(index, field, value);\n\t\t\treturn isPromise(res) ? res : true;\n\t\t}\n\t}\n\tfunction _getCellMessage(grid, col, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst {message} = grid[_].headerMap.columns[col];\n\t\t\tif (!message) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn _getField(grid, message, row);\n\t\t}\n\t}\n\tfunction _getCellIcon0(grid, icon, row) {\n\t\tif (!isDef(icon)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (Array.isArray(icon)) {\n\t\t\treturn icon.map((i) => _getCellIcon0(grid, i, row));\n\t\t}\n\t\tif (!isObject(icon)) {\n\t\t\treturn _getField(grid, icon, row);\n\t\t}\n\t\tconst retIcon = {};\n\t\ticons.iconPropKeys.forEach((k) => {\n\t\t\tif (icon[k]) {\n\t\t\t\tconst f = _getField(grid, icon[k], row);\n\t\t\t\tif (isDef(f)) {\n\t\t\t\t\tretIcon[k] = f;\n\t\t\t\t} else {\n\t\t\t\t\tif (!_hasField(grid, icon[k], row)) {\n\t\t\t\t\t\tretIcon[k] = icon[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn retIcon;\n\t}\n\tfunction _getCellIcon(grid, col, row) {\n\t\tconst {icon} = grid[_].headerMap.columns[col];\n\t\treturn _getCellIcon0(grid, icon, row);\n\t}\n\tfunction _getField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.getField(index, field);\n\t\t}\n\t}\n\tfunction _hasField(grid, field, row) {\n\t\tif (!isDef(field)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\tconst index = _getRowRecordIndex(grid, row);\n\t\t\treturn grid[_].dataSource.hasField(index, field);\n\t\t}\n\t}\n\tfunction _onDrawValue(grid, cellValue, context, {col, row}, style, draw) {\n\t\tconst helper = grid[_].gridCanvasHelper;\n\n\t\tconst drawCellBg = ({bgColor} = {}) => {\n\t\t\tconst fillOpt = {\n\t\t\t\tfillColor: bgColor,\n\t\t\t};\n\t\t\t//cell\n\t\t\thelper.fillCellWithState(context, fillOpt);\n\t\t};\n\t\tconst drawCellBorder = () => {\n\n\t\t\tif (context.col === grid.frozenColCount - 1) {\n\t\t\t\t//\n\t\t\t\tconst rect = context.getRect();\n\t\t\t\thelper.drawWithClip(context, (ctx) => {\n\t\t\t\t\tconst borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor\n\t\t\t\t\t\t: helper.theme.frozenRowsBorderColor;\n\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\t\thelper.getColor(borderColor, context.col, context.row, ctx)\n\t\t\t\t\t);\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.right - 2.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.right - 2.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (context.row < grid[_].headerMap.rowCount) {\n\t\t\t\t_headerBorderWithState(grid, helper, context);\n\t\t\t} else {\n\t\t\t\thelper.borderWithState(context);\n\t\t\t}\n\t\t};\n\n\n\t\tconst drawCellBase = ({bgColor} = {}) => {\n\t\t\tdrawCellBg({bgColor});\n\t\t\tdrawCellBorder();\n\t\t};\n\t\tconst info = {\n\t\t\tgetRecord: () => grid.getRowRecord(row),\n\t\t\tgetIcon: () => _getCellIcon(grid, col, row),\n\t\t\tgetMessage: () => _getCellMessage(grid, col, row),\n\t\t\tmessageHandler: grid[_].messageHandler,\n\t\t\tstyle,\n\t\t\tdrawCellBase,\n\t\t\tdrawCellBg,\n\t\t\tdrawCellBorder,\n\t\t};\n\n\t\treturn draw(cellValue, info, context, grid);\n\t}\n\tfunction _headerBorderWithState(grid, helper, context) {\n\t\tconst {col, row} = context;\n\t\tconst sel = grid.selection.select;\n\t\tif (sel.row >= grid[_].headerMap.rowCount) {\n\t\t\t//\n\t\t\thelper.borderWithState(context);\n\t\t\treturn;\n\t\t}\n\n\t\tconst {id} = grid[_].headerMap.getCell(col, row);\n\n\t\tconst rect = context.getRect();\n\t\tconst option = {};\n\n\t\tconst {id: selId} = grid[_].headerMap.getCell(sel.col, sel.row);\n\t\t//\n\t\tif (selId === id) {\n\t\t\toption.borderColor = helper.theme.hiliteBorderColor;\n\t\t\toption.lineWidth = 2;\n\t\t\thelper.border(context, option);\n\t\t} else {\n\t\t\toption.lineWidth = 1;\n\t\t\t// header color\n\t\t\tconst isFrozenCell = grid.isFrozenCell(col, row);\n\t\t\tif (isFrozenCell && isFrozenCell.row) {\n\t\t\t\toption.borderColor = helper.theme.frozenRowsBorderColor;\n\t\t\t}\n\t\t\thelper.border(context, option);\n\n\t\t\t//\n\t\t\tif (col > 0 && grid[_].headerMap.getCell(col - 1, row).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\t\thelper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx)\n\t\t\t\t\t);\n\t\t\t\t\tif (borderColors[1]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[1];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left - 0.5, rect.top);\n\t\t\t\t\t\tctx.lineTo(rect.left - 0.5, rect.bottom);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (row > 0 &&\n\t\t\t\t\t\tgrid[_].headerMap.getCell(col, row - 1).id === selId) {\n\t\t\t\t//\n\t\t\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\t\t\tconst borderColors = helper.toBoxArray(\n\t\t\t\t\t\t\thelper.getColor(helper.theme.hiliteBorderColor, sel.col, sel.row, ctx)\n\t\t\t\t\t);\n\t\t\t\t\tif (borderColors[0]) {\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = borderColors[0];\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(rect.left, rect.top - 0.5);\n\t\t\t\t\t\tctx.lineTo(rect.right, rect.top - 0.5);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tfunction _refreshHeader(grid) {\n\t\tif (grid[_].headerEvents) {\n\t\t\tgrid[_].headerEvents.forEach((id) => grid.unlisten(id));\n\t\t}\n\t\tgrid[_].headerMap = new HeaderMap(grid[_].header);\n\t\tgrid[_].headerEvents = [];\n\t\tgrid[_].headerMap.headerObjects.forEach((cell) => {\n\t\t\tconst ids = cell.headerType.bindGridEvent(grid);\n\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\tif (cell.style) {\n\t\t\t\tif (cell.style instanceof HeaderBaseStyle) {\n\t\t\t\t\tconst id = cell.style.listen(HeaderBaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid[_].headerMap.columns.forEach((col, index) => {\n\t\t\tif (col.action) {\n\t\t\t\tconst ids = col.action.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.columnType) {\n\t\t\t\tconst ids = col.columnType.bindGridEvent(grid, index, {\n\t\t\t\t\tisTarget(col, row) {\n\t\t\t\t\t\treturn index === col && grid.frozenRowCount <= row;\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tgrid[_].headerEvents.push(...ids);\n\t\t\t}\n\t\t\tif (col.style) {\n\t\t\t\tif (col.style instanceof BaseStyle) {\n\t\t\t\t\tconst id = col.style.listen(columns.style.EVENT_TYPE.CHANGE_STYLE, () => {\n\t\t\t\t\t\tgrid.invalidate();\n\t\t\t\t\t});\n\t\t\t\t\tgrid[_].headerEvents.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tgrid.colCount = grid[_].headerMap.columns.length;\n\t\t_refreshRowCount(grid);\n\t\tgrid.frozenRowCount = grid[_].headerMap.rowCount;\n\t\tfor (let col = 0; col < grid[_].headerMap.columns.length; col++) {\n\t\t\tconst column = grid[_].headerMap.columns[col];\n\t\t\tconst {width, minWidth, maxWidth} = column;\n\t\t\tif (width && (width > 0 || typeof width === 'string')) {\n\t\t\t\tgrid.setColWidth(col, width);\n\t\t\t}\n\t\t\tif (minWidth && (minWidth > 0 || typeof minWidth === 'string')) {\n\t\t\t\tgrid.setMinColWidth(col, minWidth);\n\t\t\t}\n\t\t\tif (maxWidth && (maxWidth > 0 || typeof maxWidth === 'string')) {\n\t\t\t\tgrid.setMaxColWidth(col, maxWidth);\n\t\t\t}\n\t\t}\n\t\tconst isArrayHeaderRowHeight = Array.isArray(grid[_].headerRowHeight);\n\t\tfor (let row = 0; row < grid[_].headerMap.rowCount; row++) {\n\t\t\tconst height = isArrayHeaderRowHeight ? grid[_].headerRowHeight[row] : grid[_].headerRowHeight;\n\t\t\tif (height && height > 0) {\n\t\t\t\tgrid.setRowHeight(row, height);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _refreshRowCount(grid) {\n\t\tgrid.rowCount = grid[_].dataSource.length + grid[_].headerMap.rowCount;\n\t}\n\tfunction _tryWithUpdateDataSource(grid, fn) {\n\t\tif (grid[_].dataSourceEventIds) {\n\t\t\tgrid[_].dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\n\t\t}\n\n\t\tfn(grid);\n\n\t\tgrid[_].dataSourceEventIds = [\n\t\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n\t\t\t\t_refreshRowCount(grid);\n\t\t\t\tgrid.invalidate();\n\t\t\t}),\n\t\t\tgrid[_].handler.on(grid[_].dataSource, DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n\t\t\t\tgrid.invalidate();\n\t\t\t}),\n\t\t];\n\t}\n\tfunction _setRecords(grid, records = []) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tgrid[_].records = records;\n\t\t\tgrid[_].dataSource = CachedDataSource.ofArray(grid[_].records);\n\t\t});\n\t}\n\tfunction _setDataSource(grid, dataSource) {\n\t\t_tryWithUpdateDataSource(grid, () => {\n\t\t\tif (dataSource) {\n\t\t\t\tif (dataSource instanceof DataSource) {\n\t\t\t\t\tgrid[_].dataSource = dataSource;\n\t\t\t\t} else {\n\t\t\t\t\tgrid[_].dataSource = new CachedDataSource(dataSource);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tgrid[_].dataSource = DataSource.EMPTY;\n\t\t\t}\n\t\t\tgrid[_].records = null;\n\t\t});\n\t}\n\n\tfunction _getRowRecordIndex(grid, row) {\n\t\tif (row < grid[_].headerMap.rowCount) {\n\t\t\treturn undefined;\n\t\t} else {\n\t\t\treturn row - grid[_].headerMap.rowCount;\n\t\t}\n\t}\n\t//end private methods\n\t//\n\t//\n\t//\n\n\tclass HeaderMap {\n\t\tconstructor(header) {\n\t\t\tthis._columns = [];\n\t\t\tthis._headerCells = [];\n\t\t\tthis._headerObjects = [];\n\n\t\t\tthis._addHeaders(0, header, []);\n\t\t\tthis._setupHeaderType();\n\t\t}\n\t\tget columns() {\n\t\t\treturn this._columns;\n\t\t}\n\t\tget rowCount() {\n\t\t\treturn this._headerCells.length;\n\t\t}\n\t\tget headerObjects() {\n\t\t\treturn this._headerObjects;\n\t\t}\n\t\tgetCell(col, row) {\n\t\t\treturn this._headerCells[row][col];\n\t\t}\n\t\tgetHeaderCellRangeById(id) {\n\t\t\tfor (let r = 0; r < this.rowCount; r++) {\n\t\t\t\tfor (let c = 0; c < this.columns.length; c++) {\n\t\t\t\t\tif (id === this.getCell(c, r).id) {\n\t\t\t\t\t\treturn this.getHeaderCellRange(c, r);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t\tgetHeaderCellRange(col, row) {\n\t\t\tconst result = {\n\t\t\t\tstartCol: col,\n\t\t\t\tstartRow: row,\n\t\t\t\tendCol: col,\n\t\t\t\tendRow: row,\n\t\t\t\tisCellInRange(col, row) {\n\t\t\t\t\treturn this.startCol <= col && col <= this.endCol &&\n\t\t\t\t\t\t\tthis.startRow <= row && row <= this.endRow;\n\t\t\t\t}\n\t\t\t};\n\t\t\tconst {id} = this.getCell(col, row);\n\t\t\tfor (let c = col - 1; c >= 0; c--) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startCol = c;\n\t\t\t}\n\t\t\tfor (let c = col + 1; c < this.columns.length; c++) {\n\t\t\t\tif (id !== this.getCell(c, row).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endCol = c;\n\t\t\t}\n\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.startRow = r;\n\t\t\t}\n\t\t\tfor (let r = row + 1; r < this.rowCount; r++) {\n\t\t\t\tif (id !== this.getCell(col, r).id) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.endRow = r;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t_addHeaders(row, header, roots) {\n\t\t\tconst rowCells = this._headerCells[row] || this._newRow(row);\n\t\t\theader.forEach((hd) => {\n\t\t\t\tconst col = this._columns.length;\n\t\t\t\tconst cell = {\n\t\t\t\t\tid: headerId++,\n\t\t\t\t\tcaption: hd.caption,\n\t\t\t\t\tstyle: hd.headerStyle,\n\t\t\t\t\tsort: hd.sort,\n\t\t\t\t};\n\t\t\t\tthis._headerObjects.push(cell);\n\t\t\t\trowCells[col] = cell;\n\t\t\t\tfor (let r = row - 1; r >= 0; r--) {\n\t\t\t\t\tthis._headerCells[r][col] = roots[r];\n\t\t\t\t}\n\t\t\t\tif (hd.columns) {\n\t\t\t\t\tthis._addHeaders(row + 1, hd.columns, [...roots, cell]);\n\t\t\t\t} else {\n\t\t\t\t\tthis._columns.push({\n\t\t\t\t\t\twidth: hd.width,\n\t\t\t\t\t\tminWidth: hd.minWidth,\n\t\t\t\t\t\tmaxWidth: hd.maxWidth,\n\t\t\t\t\t\tfield: hd.field,\n\t\t\t\t\t\ticon: hd.icon,\n\t\t\t\t\t\tmessage: hd.message,\n\t\t\t\t\t\tcolumnType: columns.type.of(hd.columnType),\n\t\t\t\t\t\taction: columns.action.of(hd.action),\n\t\t\t\t\t\tstyle: hd.style,\n\t\t\t\t\t\tdefine: hd,\n\t\t\t\t\t});\n\t\t\t\t\tfor (let r = row + 1; r < this._headerCells.length; r++) {\n\t\t\t\t\t\tthis._headerCells[r][col] = cell;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t_setupHeaderType() {\n\t\t\tthis._headerObjects.forEach((cell) => {\n\t\t\t\tcell.range = this.getHeaderCellRangeById(cell.id);\n\t\t\t\tcell.headerType = headerType.create(cell);\n\t\t\t});\n\t\t}\n\t\t_newRow(row) {\n\t\t\tconst newRow = this._headerCells[row] = [];\n\t\t\tif (!this._columns.length) {\n\t\t\t\treturn newRow;\n\t\t\t}\n\t\t\tconst prev = this._headerCells[row - 1];\n\t\t\tfor (let col = 0; col < prev.length; col++) {\n\t\t\t\tnewRow[col] = prev[col];\n\t\t\t}\n\t\t\treturn newRow;\n\t\t}\n\t}\n\n\tfunction adjustListGridOption(options) {\n\t\tif (options) {\n\t\t\tdelete options.frozenRowCount;\n\t\t\tdelete options.colCount;\n\t\t\tdelete options.rowCount;\n\t\t}\n\t\treturn options;\n\t}\n\n\t/**\n\t * ListGrid\n\t * @classdesc cheetahGrid.ListGrid\n\t * @extends cheetahGrid.core.DrawGrid\n\t * @memberof cheetahGrid\n\t */\n\tclass ListGrid extends DrawGrid {\n\t\tstatic get EVENT_TYPE() {\n\t\t\treturn EVENT_TYPE;\n\t\t}\n\t\t/**\n\t\t * constructor\n\t\t *\n\t\t * <pre>\n\t\t * Constructor options\n\t\t * -----\n\t\t * header: see header property\n\t\t * records {array}: records data\n\t\t * dataSource {DataSource}: records data source\n\t\t * frozenColCount {number}: default 0\n\t\t * defaultRowHeight {number}: default grid row height. default 40\n\t\t * defaultColWidth {number}: default grid col width. default 80\n\t\t * borderColor: border color\n\t\t * parentElement {Element}: canvas parentElement\n\t\t * theme {object}: theme\n\t\t * -----\n\t\t * </pre>\n\t\t *\n\t\t * @constructor\n\t\t * @param  {Object} options Constructor options\n\t\t */\n\t\tconstructor(options = {}) {\n\t\t\tsuper(adjustListGridOption(options));\n\t\t\tthis[_].header = options.header || [];\n\t\t\tthis[_].headerRowHeight = options.headerRowHeight || [];\n\t\t\tif (options.dataSource) {\n\t\t\t\t_setDataSource(this, options.dataSource);\n\t\t\t} else {\n\t\t\t\t_setRecords(this, options.records);\n\t\t\t}\n\t\t\t_refreshHeader(this);\n\t\t\tthis[_].sortState = {\n\t\t\t\tcol: -1,\n\t\t\t\torder: undefined,\n\t\t\t};\n\t\t\tthis[_].gridCanvasHelper = new GridCanvasHelper(this);\n\t\t\tthis[_].theme = themes.of(options.theme);\n\t\t\tthis[_].messageHandler = new MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n\t\t\tthis.invalidate();\n\t\t\tthis[_].handler.on(window, 'resize', () => {\n\t\t\t\tthis.updateSize();\n\t\t\t\tthis.updateScroll();\n\t\t\t\tthis.invalidate();\n\t\t\t});\n\t\t}\n\t\tdispose() {\n\t\t\tthis[_].messageHandler.dispose();\n\t\t\tsuper.dispose();\n\t\t}\n\t\t/**\n\t\t * header define\n\t\t * @type {Array}\n\t\t */\n\t\tget header() {\n\t\t\treturn this[_].header;\n\t\t}\n\t\t/**\n\t\t * header define\n\t\t * <pre>\n\t\t * column options\n\t\t * -----\n\t\t * caption: header caption\n\t\t * field: field name\n\t\t * width: column width\n\t\t * minWidth: column min width\n\t\t * maxWidth: column max width\n\t\t * icon: icon name\n\t\t * message: message key name\n\t\t * columnType: ColumnType\n\t\t * action: ColumnAction\n\t\t * style: ColumnStyle\n\t\t * sort: define sort setting\n\t\t * -----\n\t\t *\n\t\t * multiline header\n\t\t * -----\n\t\t * caption: header caption\n\t\t * columns: columns define\n\t\t * -----\n\t\t * </pre>\n\t\t *\n\t\t * @type {Array}\n\t\t */\n\t\tset header(header) {\n\t\t\tthis[_].header = header;\n\t\t\t_refreshHeader(this);\n\t\t}\n\t\tget records() {\n\t\t\treturn this[_].records;\n\t\t}\n\t\tset records(records) {\n\t\t\t_setRecords(this, records);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget dataSource() {\n\t\t\treturn this[_].dataSource;\n\t\t}\n\t\tset dataSource(dataSource) {\n\t\t\t_setDataSource(this, dataSource);\n\t\t\t_refreshRowCount(this);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget theme() {\n\t\t\treturn this[_].theme;\n\t\t}\n\t\tset theme(theme) {\n\t\t\tthis[_].theme = themes.of(theme);\n\t\t\tthis.invalidate();\n\t\t}\n\t\tget font() {\n\t\t\treturn super.font || this[_].gridCanvasHelper.theme.font;\n\t\t}\n\t\tset font(font) {\n\t\t\tsuper.font = font;\n\t\t}\n\t\tget underlayBackgroundColor() {\n\t\t\treturn super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n\t\t}\n\t\tset underlayBackgroundColor(underlayBackgroundColor) {\n\t\t\tsuper.underlayBackgroundColor = underlayBackgroundColor;\n\t\t}\n\t\tget sortState() {\n\t\t\treturn this[_].sortState;\n\t\t}\n\t\tset sortState(sortState) {\n\t\t\tthis[_].sortState = sortState;\n\t\t}\n\t\tgetField(col) {\n\t\t\treturn this[_].headerMap.columns[col].field;\n\t\t}\n\t\tgetRowRecord(row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\treturn undefined;\n\t\t\t} else {\n\t\t\t\treturn this[_].dataSource.get(_getRowRecordIndex(this, row));\n\t\t\t}\n\t\t}\n\t\tgetGridCanvasHelper() {\n\t\t\treturn this[_].gridCanvasHelper;\n\t\t}\n\t\tgetCopyCellValue(col, row) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst {startCol, startRow} = _getHeaderCellRange(this, col, row);\n\t\t\t\tif (startCol !== col || startRow !== row) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _getCellValue(this, col, row);\n\t\t}\n\t\tonDrawCell(col, row, context) {\n\t\t\tconst column = this[_].headerMap.columns[col];\n\n\t\t\tlet draw;\n\t\t\tlet style;\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst hd = this[_].headerMap.getCell(col, row);\n\t\t\t\tdraw = hd.headerType.onDrawCell;\n\t\t\t\t({style} = hd);\n\t\t\t\t_updateRect(this, col, row, context);\n\t\t\t} else {\n\t\t\t\tdraw = column.columnType.onDrawCell;\n\t\t\t\t({style} = column);\n\t\t\t}\n\t\t\tconst cellValue = _getCellValue(this, col, row);\n\t\t\treturn _onDrawValue(this, cellValue, context, {col, row}, style, draw);\n\t\t}\n\t\tdoGetCellValue(col, row, valueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst value = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(value)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvalueCallback(value);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tdoChangeValue(col, row, changeValueCallback) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\t// nop\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tconst before = _getCellValue(this, col, row);\n\t\t\t\tif (isPromise(before)) {\n\t\t\t\t\t//\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst after = changeValueCallback(before);\n\t\t\t\tif (after === undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn then(_setCellValue(this, col, row, after), (ret) => {\n\t\t\t\t\tif (ret) {\n\t\t\t\t\t\tconst {field} = this[_].headerMap.columns[col];\n\t\t\t\t\t\tconst self = this;\n\t\t\t\t\t\tthis.fireListeners(EVENT_TYPE.CHANGED_VALUE, {\n\t\t\t\t\t\t\tcol,\n\t\t\t\t\t\t\trow,\n\t\t\t\t\t\t\tget record() {\n\t\t\t\t\t\t\t\treturn self.getRowRecord(row);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfield,\n\t\t\t\t\t\t\tvalue: after,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tbindEventsInternal() {\n\t\t\tthis.listen(EVENT_TYPE.SELECTED_CELL, (e) => {\n\t\t\t\tif (e.row < this[_].headerMap.rowCount) {\n\t\t\t\t\tconst {startCol, endCol, startRow, endRow} = _getHeaderCellRange(this, e.col, e.row);\n\t\t\t\t\tif (startCol !== endCol || startRow !== endRow) {\n\t\t\t\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tgetMoveLeftColByKeyDownInternal({col, row}) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst {startCol} = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = startCol;\n\t\t\t}\n\t\t\treturn super.getMoveLeftColByKeyDownInternal({col, row});\n\t\t}\n\t\tgetMoveRightColByKeyDownInternal({col, row}) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst {endCol} = _getHeaderCellRange(this, col, row);\n\t\t\t\tcol = endCol;\n\t\t\t}\n\t\t\treturn super.getMoveRightColByKeyDownInternal({col, row});\n\t\t}\n\t\tgetMoveUpRowByKeyDownInternal({col, row}) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst {startRow} = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = startRow;\n\t\t\t}\n\t\t\treturn super.getMoveUpRowByKeyDownInternal({col, row});\n\t\t}\n\t\tgetMoveDownRowByKeyDownInternal({col, row}) {\n\t\t\tif (row < this[_].headerMap.rowCount) {\n\t\t\t\tconst {endRow} = _getHeaderCellRange(this, col, row);\n\t\t\t\trow = endRow;\n\t\t\t}\n\t\t\treturn super.getMoveDownRowByKeyDownInternal({col, row});\n\t\t}\n\t\tgetOffsetInvalidateCells() {\n\t\t\treturn 1;\n\t\t}\n\t\tgetColumnIndexByField(field) {\n\t\t\tfor (const columnIndex in this[_].headerMap.columns) {\n\t\t\t\tif (this[_].headerMap.columns[columnIndex].field === field) {\n\t\t\t\t\treturn columnIndex - 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tfocusGridCell(field, index) {\n\t\t\tconst {\n\t\t\t\tstart: {col: startCol, row: startRow},\n\t\t\t\tend: {col: endCol, row: endRow}\n\t\t\t} = this.selection.range;\n\n\t\t\tconst newCol = this.getColumnIndexByField(field);\n\t\t\tconst newRow = index + this[_].headerMap.rowCount;\n\t\t\tthis.focusCell(newCol, newRow);\n\t\t\tthis.selection.select = {\n\t\t\t\tcol: newCol,\n\t\t\t\trow: newRow\n\t\t\t};\n\t\t\tthis.invalidateGridRect(startCol, startRow, endCol, endRow);\n\t\t\tthis.invalidateCell(newCol, newRow);\n\t\t}\n\t\tmakeVisibleGridCell(field, index) {\n\t\t\tthis.makeVisibleCell(this.getColumnIndexByField(field), index + this[_].headerMap.rowCount);\n\t\t}\n\t}\n\tmodule.exports = ListGrid;\n}","'use strict';\n\n\nconst Inline = require('./Inline');\nconst InlineIcon = require('./InlineIcon');\nconst InlineImage = require('./InlineImage');\nconst InlineSvg = require('./InlineSvg');\nconst InlineDrawer = require('./InlineDrawer');\nconst InlinePath2D = require('./InlinePath2D');\nconst {isDef} = require('../internal/utils');\nconst {calcStartPosition} = require('../internal/canvases');\nconst icons = require('../icons');\nconst path2DManager = require('../internal/path2DManager');\n\nfunction drawRegisteredIcon(ctx, icon,\n\t\tdrawWidth, drawHeight,\n\t\tleft, top, width, height,\n\t\t{\n\t\t\toffset = 2,\n\t\t\tpadding,\n\t\t} = {}) {\n\tconst rect = {\n\t\tleft,\n\t\ttop,\n\t\twidth,\n\t\theight,\n\t\tright: left + width,\n\t\tbottom: top + height,\n\t};\n\tctx.save();\n\ttry {\n\t\tctx.beginPath();\n\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t//clip\n\t\tctx.clip();\n\n\t\t//\n\t\tconst pos = calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n\t\t\toffset,\n\t\t\tpadding\n\t\t});\n\t\tpath2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n\t} finally {\n\t\tctx.restore();\n\t}\n}\n\n\nmodule.exports = {\n\ticonOf(icon) {\n\t\tif (icon instanceof Inline) {\n\t\t\treturn icon;\n\t\t}\n\t\tif (!icon) {\n\t\t\treturn null;\n\t\t}\n\t\tif (icon.font && icon.content) {\n\t\t\treturn new InlineIcon(icon);\n\t\t}\n\t\tif (icon.src) {\n\t\t\treturn new InlineImage({\n\t\t\t\tsrc: icon.src,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t});\n\t\t}\n\t\tif (icon.svg) {\n\t\t\treturn new InlineSvg({\n\t\t\t\tsvg: icon.svg,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t});\n\t\t}\n\t\tif (icon.path) {\n\t\t\treturn new InlinePath2D({\n\t\t\t\tpath: icon.path,\n\t\t\t\twidth: icon.width,\n\t\t\t\theight: icon.width,\n\t\t\t\tcolor: icon.color,\n\t\t\t});\n\t\t}\n\t\tconst regedIcons = icons.get();\n\t\tif (icon.name && regedIcons[icon.name]) {\n\t\t\tconst regedIcon = regedIcons[icon.name];\n\t\t\tconst width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n\t\t\treturn new InlineDrawer({\n\t\t\t\tdraw({\n\t\t\t\t\tctx,\n\t\t\t\t\tcanvashelper,\n\t\t\t\t\trect,\n\t\t\t\t\toffset,\n\t\t\t\t\toffsetLeft,\n\t\t\t\t\toffsetRight,\n\t\t\t\t\toffsetTop,\n\t\t\t\t\toffsetBottom,\n\t\t\t\t}) {\n\t\t\t\t\tdrawRegisteredIcon(ctx, regedIcon,\n\t\t\t\t\t\t\twidth, width,\n\t\t\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\twidth,\n\t\t\t\theight: width,\n\t\t\t\tcolor: icon.color,\n\t\t\t});\n\t\t}\n\t\treturn new InlineIcon(icon);\n\t},\n\tof(content) {\n\t\tif (!isDef(content)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (content instanceof Inline) {\n\t\t\treturn content;\n\t\t}\n\t\treturn new Inline(content);\n\t},\n\tbuildInlines(icons, inline) {\n\t\tconst result = [];\n\t\tif (icons) {\n\t\t\tresult.push(...(icons.map((icon) => this.iconOf(icon)).filter((e) => !!e)));\n\t\t}\n\t\tif (Array.isArray(inline) && inline.filter((il) => il instanceof Inline).length) {\n\t\t\tresult.push(...(inline.map((il) => this.of(il)).filter((e) => !!e)));\n\t\t} else {\n\t\t\tconst il = this.of(inline);\n\t\t\tif (il) {\n\t\t\t\tresult.push(il);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n};","'use strict';\n\n\nconst Inline = require('./Inline');\nconst fonts = require('../internal/fonts');\n\nclass InlineIcon extends Inline {\n\tconstructor(icon) {\n\t\tsuper();\n\t\tthis._icon = icon || {};\n\t}\n\twidth({ctx}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.width) {\n\t\t\treturn icon.width;\n\t\t}\n\t\tif (icon.font && fonts.check(icon.font, icon.content)) {\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.font = icon.font || ctx.font;\n\t\t\t\treturn ctx.measureText(icon.content).width;\n\t\t\t} finally {\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\tfont() {\n\t\treturn this._icon.font;\n\t}\n\tcolor() {\n\t\treturn this._icon.color;\n\t}\n\tcanDraw() {\n\t\tconst icon = this._icon;\n\t\treturn icon.font ? fonts.check(icon.font, icon.content) : true;\n\t}\n\tonReady(callback) {\n\t\tconst icon = this._icon;\n\t\tif (icon.font && !fonts.check(icon.font, icon.content)) {\n\t\t\tfonts.load(icon.font, icon.content, callback);\n\t\t}\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tconst icon = this._icon;\n\t\tif (icon.content) {\n\t\t\tcanvashelper.fillTextRect(ctx, icon.content,\n\t\t\t\t\trect.left, rect.top, rect.width, rect.height,\n\t\t\t\t\t{\n\t\t\t\t\t\toffset: offset + 1,\n\t\t\t\t\t\tpadding: {\n\t\t\t\t\t\t\tleft: offsetLeft,\n\t\t\t\t\t\t\tright: offsetRight,\n\t\t\t\t\t\t\ttop: offsetTop,\n\t\t\t\t\t\t\tbottom: offsetBottom,\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t}\n\t}\n}\n\nmodule.exports = InlineIcon;","'use strict';\n\n//see https://github.com/typekit/webfontloader\n\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\nconst FontRuler = require('./FontRuler');\n\n\nconst LastResortFonts = {\n\tSERIF: 'serif',\n\tSANS_SERIF: 'sans-serif'\n};\n\n\nconst watchRunners = {};\n\nclass FontWatchRunner {\n\tstatic load(font, testStr, activeCallback, inactiveCallback) {\n\t\tconst c = watchRunners[font] || (watchRunners[font] = {});\n\t\ttestStr += '';\n\t\tlet runner;\n\t\tif (c[testStr]) {\n\t\t\trunner = c[testStr];\n\t\t} else {\n\t\t\trunner = (c[testStr] = new FontWatchRunner(font, testStr));\n\t\t}\n\t\trunner.then(activeCallback, inactiveCallback);\n\t}\n\tconstructor(font, testStr) {\n\t\tthis.activeCallbacks = [];\n\t\tthis.inactiveCallbacks = [];\n\t\tthis.status = null;\n\t\tthis.lastResortWidths_ = {};\n\n\t\tthis.fontRulerA_ = new FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n\t\tthis.fontRulerB_ = new FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n\t\tconst lastResortRulerA = new FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n\t\tconst lastResortRulerB = new FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n\n\t\t//start\n\t\tthis.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n\t\tthis.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n\n\t\tlastResortRulerA.remove();\n\t\tlastResortRulerB.remove();\n\n\t\tthis.started_ = Date.now();\n\n\t\tthis.check_();\n\t}\n\tthen(activeCallback, inactiveCallback) {\n\t\tif (this.status) {\n\t\t\tif (this.status !== 'ng') {\n\t\t\t\tactiveCallback();\n\t\t\t} else {\n\t\t\t\tinactiveCallback();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.activeCallbacks.push(activeCallback);\n\t\t\tthis.inactiveCallbacks.push(inactiveCallback);\n\t\t}\n\n\t}\n\tcheck_() {\n\t\tconst widthA = this.fontRulerA_.getWidth();\n\t\tconst widthB = this.fontRulerB_.getWidth();\n\n\t\tif (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n\t\t\tif (Date.now() - this.started_ >= 3000) { // timeout\n\t\t\t\tif (this.isLastResortFont_(widthA, widthB)) {\n\t\t\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\t\t\tthis.status = 'ok';\n\t\t\t\t} else {\n\t\t\t\t\tthis.finish_(this.inactiveCallbacks);\n\t\t\t\t\tthis.status = 'ng';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.check_();\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.finish_(this.activeCallbacks);\n\t\t\tthis.status = 'ok';\n\t\t}\n\t}\n\tisFallbackFont_(a, b) {\n\t\treturn this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n\t}\n\twidthsMatchLastResortWidths_(a, b) {\n\t\tfor (const font in LastResortFonts) {\n\t\t\tif (LastResortFonts.hasOwnProperty(font)) {\n\t\t\t\tif (this.widthMatches_(a, LastResortFonts[font]) &&\n\t\t\t\t\t\tthis.widthMatches_(b, LastResortFonts[font])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\twidthMatches_(width, lastResortFont) {\n\t\treturn width === this.lastResortWidths_[lastResortFont];\n\t}\n\tisLastResortFont_(a, b) {\n\t\treturn hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n\t}\n\tfinish_(callbacks) {\n\t\tsetTimeout(() => {\n\t\t\tthis.fontRulerA_.remove();\n\t\t\tthis.fontRulerB_.remove();\n\t\t\tcallbacks.forEach((cb) => cb());\n\t\t}, 0);\n\t}\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n\tif (HAS_WEBKIT_FALLBACK_BUG === null) {\n\t\tconst match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n\n\t\tHAS_WEBKIT_FALLBACK_BUG = !!match &&\n\t\t\t(parseInt(match[1], 10) < 536 ||\n\t\t\t(parseInt(match[1], 10) === 536 &&\n\t\t\tparseInt(match[2], 10) <= 11));\n\t}\n\treturn HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n","'use strict';\n\n//see https://github.com/typekit/webfontloader\nfunction computeStyle(font) {\n\treturn [{\n\t\t'display': 'block',\n\t\t'position': 'absolute',\n\t\t'top': '-9999px',\n\t\t'left': '-9999px',\n\t\t'width': 'auto',\n\t\t'height': 'auto',\n\t\t'margin': '0',\n\t\t'padding': '0',\n\t\t'white-space': 'nowrap',\n\t\tfont,\n\t}, {\n\t\t'font-variant': 'normal',\n\t\t'font-size': '300px',\n\t\t'font-style': 'normal',\n\t\t'font-weight': '400',\n\t\t'line-height': 'normal',\n\t}];\n}\n\nclass FontRuler {\n\tconstructor(font, testStr) {\n\t\tconst e = document.createElement('span');\n\t\te.setAttribute('aria-hidden', 'true');\n\t\te.textContent = testStr || 'BESbswy';\n\n\t\tcomputeStyle(font).forEach((style) => {\n\t\t\tfor (const key in style) {\n\t\t\t\te.style[key] = style[key];\n\t\t\t}\n\t\t});\n\t\tdocument.body.appendChild(e);\n\t\tthis.el_ = e;\n\t}\n\tgetWidth() {\n\t\treturn this.el_.offsetWidth;\n\t}\n\tremove() {\n\t\tdocument.body.removeChild(this.el_);\n\t}\n}\n\nmodule.exports = FontRuler;\n\n\n","'use strict';\n\nconst InlineImage = require('./InlineImage');\nconst {then} = require('../internal/utils');\n\nfunction buildSvgDataUrl(svg) {\n\tconst data = (typeof svg === 'string') ? svg : new XMLSerializer().serializeToString(svg);\n\tconst url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n\treturn url;\n}\nfunction getSvgElement(svg) {\n\tif (typeof svg === 'string') {\n\t\tconst parser = new DOMParser();\n\t\treturn parser.parseFromString(svg, 'image/svg+xml');\n\t} else {\n\t\treturn svg;\n\t}\n}\n\nclass InlineSvg extends InlineImage {\n\tconstructor(\n\t\t\t{\n\t\t\t\tsvg,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\timageLeft,\n\t\t\t\timageTop,\n\t\t\t\timageWidth,\n\t\t\t\timageHeight,\n\t\t\t}) {\n\t\tconst svgElem = then(svg, getSvgElement);\n\t\tconst elmWidth = svgElem.getAttribute ? svgElem.getAttribute('width') : null;\n\t\tconst elmHeight = svgElem.getAttribute ? svgElem.getAttribute('height') : null;\n\t\tsuper({\n\t\t\tsrc: then(svg, buildSvgDataUrl),\n\t\t\twidth: width || elmWidth,\n\t\t\theight: height || elmHeight,\n\t\t\timageWidth: elmWidth,\n\t\t\timageHeight: elmHeight,\n\t\t});\n\t}\n}\n\nmodule.exports = InlineSvg;","'use strict';\n\n\nconst Inline = require('./Inline');\n\nclass InlineDrawer extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tdraw,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tcolor,\n\t\t\t}) {\n\t\tsuper();\n\n\t\tthis._draw = draw;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ctx}) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {\n\t}\n\tdraw(\n\t\t\t{\n\t\t\t\tctx,\n\t\t\t\tcanvashelper,\n\t\t\t\trect,\n\t\t\t\toffset,\n\t\t\t\toffsetLeft,\n\t\t\t\toffsetRight,\n\t\t\t\toffsetTop,\n\t\t\t\toffsetBottom,\n\t\t\t}) {\n\t\tthis._draw({\n\t\t\tctx,\n\t\t\tcanvashelper,\n\t\t\trect,\n\t\t\toffset,\n\t\t\toffsetLeft,\n\t\t\toffsetRight,\n\t\t\toffsetTop,\n\t\t\toffsetBottom,\n\t\t});\n\t}\n}\n\nmodule.exports = InlineDrawer;","'use strict';\n\nconst Inline = require('./Inline');\nconst {calcStartPosition} = require('../internal/canvases');\nconst path2DManager = require('../internal/path2DManager');\n\nclass InlinePath2D extends Inline {\n\tconstructor(\n\t\t\t{\n\t\t\t\tpath,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tcolor,\n\t\t\t}) {\n\t\tsuper();\n\t\t// IEPath2Dpolyfill\n\t\tthis._path = new path2DManager.Path2D(path);\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._color = color;\n\t}\n\twidth({ctx}) {\n\t\treturn this._width;\n\t}\n\tfont() {\n\t\treturn null;\n\t}\n\tcolor() {\n\t\treturn this._color;\n\t}\n\tcanDraw() {\n\t\treturn true;\n\t}\n\tonReady(callback) {\n\t}\n\tdraw({\n\t\tctx,\n\t\tcanvashelper,\n\t\trect,\n\t\toffset,\n\t\toffsetLeft,\n\t\toffsetRight,\n\t\toffsetTop,\n\t\toffsetBottom,\n\t}) {\n\t\toffset++;\n\t\tconst padding = {\n\t\t\tleft: offsetLeft,\n\t\t\tright: offsetRight,\n\t\t\ttop: offsetTop,\n\t\t\tbottom: offsetBottom,\n\t\t};\n\t\tctx.save();\n\t\ttry {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(rect.left, rect.top, rect.width, rect.height);\n\t\t\t//clip\n\t\t\tctx.clip();\n\n\t\t\t//\n\t\t\tconst pos = calcStartPosition(ctx, rect, this._width, this._height, {\n\t\t\t\toffset,\n\t\t\t\tpadding\n\t\t\t});\n\t\t\tctx.translate(pos.x, pos.y);\n\t\t\tctx.fill(this._path);\n\t\t} finally {\n\t\t\tctx.restore();\n\t\t}\n\t}\n}\n\nmodule.exports = InlinePath2D;","'use strict';\n\nconst PathCommandsParser = require('./PathCommandsParser');\nconst parser = new PathCommandsParser();\n\nclass Path2D {\n\tconstructor(arg) {\n\t\tthis._ops = [];\n\t\t[\n\t\t\t'closePath',\n\t\t\t'moveTo',\n\t\t\t'lineTo',\n\t\t\t'bezierCurveTo',\n\t\t\t'quadraticCurveTo',\n\t\t\t'arc',\n\t\t\t'rect'\n\t\t].forEach((name) => {\n\t\t\tthis[name] = (...args) => {\n\t\t\t\tthis._ops.push({op: name, args});\n\t\t\t};\n\t\t});\n\t\tif (arg === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof arg === 'string') {\n\t\t\ttry {\n\t\t\t\tthis._ops = parser.parse(arg);\n\t\t\t} catch (e) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t} else if (arg.hasOwnProperty('_ops')) {\n\t\t\tthis._ops = [...this._ops];\n\t\t} else {\n\t\t\tthrow new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n\t\t}\n\t}\n}\n\nconst {CanvasRenderingContext2D} = window;\n\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n\nCanvasRenderingContext2D.prototype.fill = function(...args) {\n\tif (args[0] instanceof Path2D) {\n\t\tconst path = args[0];\n\t\tthis.beginPath();\n\t\tpath._ops.forEach((op) => {\n\t\t\tthis[op.op](...op.args);\n\t\t});\n\t\toriginalFill.apply(this, Array.prototype.slice.call(args, 1));\n\t} else {\n\t\toriginalFill.apply(this, args);\n\t}\n};\n\nmodule.exports = Path2D;\n","'use strict';\n\nconst PathCommands = require('./PathCommands');\n\nfunction pathTokens(d) {\n\tlet idx = 0;\n\treturn {\n\t\tnext() {\n\t\t\tlet s = '';\n\t\t\twhile (d.length > idx) {\n\t\t\t\tconst c = d[idx];\n\t\t\t\tidx++;\n\t\t\t\tif (' ,\\n\\r\\t'.indexOf(c) > -1) {\n\t\t\t\t\tif (s) {\n\t\t\t\t\t\treturn s;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst type = '.+-1234567890'.indexOf(c) > -1 ? 'num' : 'str';\n\t\t\t\t\tif (type === 'str') {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn c;\n\t\t\t\t\t}\n\t\t\t\t\tif ('-+'.indexOf(c) > -1) {\n\t\t\t\t\t\tif (s) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (c === '.') {\n\t\t\t\t\t\tif (s.indexOf('.') > -1) {\n\t\t\t\t\t\t\tidx--;\n\t\t\t\t\t\t\treturn s;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ts += c;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s || null;\n\t\t}\n\t};\n}\n\nfunction command(builder, cmd, argsProvider) {\n\tif (cmd.toUpperCase() === 'M' || cmd.toUpperCase() === 'L' || cmd.toUpperCase() === 'T') {\n\t\tbuilder.command(cmd, argsProvider.next(), argsProvider.next());\n\t\treturn cmd === 'M' ? 'L'\n\t\t\t: cmd === 'm' ? 'l'\n\t\t\t: cmd;\n\t} else if (cmd.toUpperCase() === 'H' || cmd.toUpperCase() === 'V') {\n\t\tbuilder.command(cmd, argsProvider.next());\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'Z') {\n\t\tbuilder.command(cmd);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'C') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'S' || cmd.toUpperCase() === 'Q') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else if (cmd.toUpperCase() === 'A') {\n\t\tbuilder.command(cmd,\n\t\t\t\targsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next(), argsProvider.next(),\n\t\t\t\targsProvider.next(), argsProvider.next()\n\t\t);\n\t\treturn cmd;\n\t} else {\n\t\t// https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n\t\tconsole.warn(`unsupported:${cmd}`);\n\t}\n\treturn null;\n}\n\nconst canvasOperations = window.CanvasRenderingContext2D ? Object.keys(window.CanvasRenderingContext2D.prototype) : [\n\t'save',\n\t'restore',\n\t'beginPath',\n\t'closePath',\n\t'moveTo',\n\t'lineTo',\n\t'bezierCurveTo',\n\t'quadraticCurveTo',\n\t'arc',\n\t'arcTo',\n\t'ellipse',\n\t'rect',\n\t'translate',\n\t'rotate',\n\t'scale',\n];\n\nclass PathCommandsParser {\n\tconstructor() {\n\t\tthis._commands = new PathCommands(this);\n\t\tcanvasOperations.forEach((op) => {\n\t\t\tthis[op] = (...args) => {\n\t\t\t\tthis._ops.push({\n\t\t\t\t\top,\n\t\t\t\t\targs,\n\t\t\t\t});\n\t\t\t};\n\t\t});\n\t}\n\tcommand(name, ...args) {\n\t\targs = args || [];\n\t\tfor (let i = 0; i < args.length; i++) {\n\t\t\targs[i] -= 0;\n\t\t}\n\t\tthis._commands[name](...(args));\n\t}\n\tparse(d) {\n\t\tconst ops = this._ops = [];\n\t\tconst tokens = pathTokens(d);\n\t\ttry {\n\t\t\tlet cmd;\n\t\t\tlet subsequentCommand;\n\t\t\twhile ((cmd = tokens.next())) {\n\t\t\t\tif (!isNaN(cmd - 0)) {\n\t\t\t\t\tlet fst = true;\n\t\t\t\t\tconst argsProvider = {\n\t\t\t\t\t\tnext() {\n\t\t\t\t\t\t\tif (fst) {\n\t\t\t\t\t\t\t\tfst = false;\n\t\t\t\t\t\t\t\treturn cmd;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn tokens.next();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tsubsequentCommand = command(this, subsequentCommand, argsProvider);\n\t\t\t\t} else {\n\t\t\t\t\tsubsequentCommand = command(this, cmd, tokens);\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.log(`Error: ${d}`);\n\t\t\tthrow e;\n\t\t}\n\t\treturn ops;\n\t}\n}\n\nmodule.exports = PathCommandsParser;","/*eslint new-cap: \"off\"*/\n'use strict';\n\nfunction mag(v) {\n\treturn Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n\treturn (u[0] * v[0] + u[1] * v[1]);\n}\n\nfunction ratio(u, v) {\n\treturn dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n\tlet sign = 1.0;\n\tif ((u[0] * v[1] - u[1] * v[0]) < 0) {\n\t\tsign = -1.0;\n\t}\n\treturn sign * Math.acos(clamp(ratio(u, v)), -1, 1);\n}\n\nfunction rotClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n\tconst cost = Math.cos(angle);\n\tconst sint = Math.sin(angle);\n\treturn [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n\treturn [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n\treturn [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n\treturn [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n\treturn [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n\treturn [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n\t// Convert from endpoint to center parametrization, as detailed in:\n\t//   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\tif (rx === 0 || ry === 0) {\n\t\tctx.lineTo(x2, x1);\n\t\treturn;\n\t}\n\tphi *= (Math.PI / 180.0);\n\trx = Math.abs(rx);\n\try = Math.abs(ry);\n\tconst xPrime = rotClockwise(midPoint(x1, x2), phi); // F.6.5.1\n\tconst xPrime2 = pointMul(xPrime, xPrime);\n\tlet rx2 = Math.pow(rx, 2);\n\tlet ry2 = Math.pow(ry, 2);\n\n\tconst lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\tif (lambda > 1) {\n\t\trx *= lambda;\n\t\try *= lambda;\n\t\trx2 = Math.pow(rx, 2);\n\t\try2 = Math.pow(ry, 2);\n\t}\n\tlet factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\tif (fA === fS) {\n\t\tfactor *= -1.0;\n\t}\n\tconst cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\tconst c = sum(rotCounterClockwise(cPrime, phi), meanVec(x1, x2)); // F.6.5.3\n\tconst x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n\tconst x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n\tconst theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\tconst deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\tconst start = theta;\n\tconst end = theta + deltaTheta;\n\tctx.save();\n\tctx.translate(c[0], c[1]);\n\tctx.rotate(phi);\n\tctx.scale(rx, ry);\n\tctx.arc(0, 0, 1, start, end, 1 - fS);\n\tctx.restore();\n}\n\nclass PathCommands {\n\tconstructor(ctx) {\n\t\tlet lMx;\n\t\tlet lMy;\n\t\tlet lx = 0;\n\t\tlet ly = 0;\n\t\tlet reflected;\n\t\tlet lastCommand = '';\n\t\tfunction makeReflected() {\n\t\t\tif ('CcSsQqTt'.indexOf(lastCommand) < 0) {\n\t\t\t\treturn {x: lx, y: ly};\n\t\t\t}\n\t\t\treturn reflected;\n\t\t}\n\n\t\tthis.M = (px, py) => {\n\t\t\tctx.moveTo(px, py);\n\t\t\tlMx = px;\n\t\t\tlMy = py;\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'M';\n\t\t\treturn this;\n\t\t};\n\t\tthis.m = (px, py) => this.M(px + lx, py + ly);\n\t\tthis.L = (px, py) => {\n\t\t\tctx.lineTo(px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'L';\n\t\t\treturn this;\n\t\t};\n\t\tthis.l = (px, py) => this.L(px + lx, py + ly);\n\t\tthis.H = (px) => this.L(px, ly);\n\t\tthis.h = (px) => this.H(px + lx);\n\t\tthis.V = (py) => this.L(lx, py);\n\t\tthis.v = (py) => this.V(py + ly);\n\t\tthis.Z = () => {\n\t\t\tctx.closePath();\n\t\t\tlx = lMx;\n\t\t\tly = lMy;\n\t\t\tlastCommand = 'Z';\n\t\t\treturn this;\n\t\t};\n\t\tthis.z = () => this.Z();\n\t\t//C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\t\tthis.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n\t\t\tctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cp2x,\n\t\t\t\ty: 2 * py - cp2y,\n\t\t\t};\n\t\t\tlastCommand = 'C';\n\t\t\treturn this;\n\t\t};\n\t\tthis.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(\n\t\t\t\tcp1x + lx, cp1y + ly,\n\t\t\t\tcp2x + lx, cp2y + ly,\n\t\t\t\tpx + lx, py + ly\n\t\t);\n\t\t//S x2 y2, x y (or s dx2 dy2, dx dy)\n\t\tthis.S = (cpx, cpy, px, py) => {\n\t\t\tconst {x: cp1x, y: cp1y} = makeReflected(lastCommand);\n\t\t\treturn this.C(cp1x, cp1y, cpx, cpy, px, py);\n\t\t};\n\t\tthis.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//Q x1 y1, x y (or q dx1 dy1, dx dy)\n\t\tthis.Q = (cpx, cpy, px, py) => {\n\t\t\tctx.quadraticCurveTo(cpx, cpy, px, py);\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\treflected = {\n\t\t\t\tx: 2 * px - cpx,\n\t\t\t\ty: 2 * py - cpy,\n\t\t\t};\n\t\t\tlastCommand = 'Q';\n\t\t\treturn this;\n\t\t};\n\t\tthis.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n\t\t//T x y (or t dx dy)\n\t\tthis.T = (px, py) => {\n\t\t\tconst {x: cpx, y: cpy} = makeReflected();\n\t\t\treturn this.Q(cpx, cpy, px, py);\n\t\t};\n\t\tthis.t = (px, py) => this.T(px + lx, py + ly);\n\t\t//A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\t\tthis.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n\t\t\tconst x1 = lx;\n\t\t\tconst y1 = ly;\n\n\t\t\tellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n\n\t\t\tlx = px;\n\t\t\tly = py;\n\t\t\tlastCommand = 'A';\n\t\t\treturn this;\n\t\t};\n\t\t//a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\t\tthis.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(\n\t\t\t\trx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n\n\t}\n}\n\nmodule.exports = PathCommands;","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","'use strict';\n{\n\tconst Header = require('./type/Header');\n\tconst SortHeader = require('./type/SortHeader');\n\n\tconst type = {\n\t\tcreate(headerCell) {\n\t\t\tif (headerCell.sort) {\n\t\t\t\treturn new SortHeader(headerCell);\n\t\t\t}\n\t\t\treturn new Header(headerCell);\n\t\t}\n\t};\n\tmodule.exports = type;\n}","'use strict';\n{\n\tconst styleContents = require('../style');\n\tconst {Style} = styleContents;\n\tconst BaseHeader = require('./BaseHeader');\n\n\tclass Header extends BaseHeader {\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\tbgColor,\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t});\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [];\n\t\t}\n\t}\n\tmodule.exports = Header;\n}","'use strict';\n{\n\tconst BaseStyle = require('./BaseStyle');\n\tlet defaultStyle;\n\tclass Style extends BaseStyle {\n\t\tstatic get DEFAULT() {\n\t\t\treturn defaultStyle ? defaultStyle : (defaultStyle = new Style());\n\t\t}\n\t\tconstructor(style = {}) {\n\t\t\tsuper(style);\n\t\t\tthis._color = style.color;\n\t\t}\n\t\tget color() {\n\t\t\treturn this._color;\n\t\t}\n\t\tset color(color) {\n\t\t\tthis._color = color;\n\t\t\tthis.doChangeStyle();\n\t\t}\n\t\tclone() {\n\t\t\treturn new Style(this);\n\t\t}\n\t}\n\tmodule.exports = Style;\n}","'use strict';\n{\n\tconst styleContents = require('../style');\n\tconst {Style} = styleContents;\n\tconst BaseHeader = require('./BaseHeader');\n\tconst {isDef} = require('../../internal/utils');\n\tconst {getFontSize} = require('../../internal/canvases');\n\tconst {EVENT_TYPE: {\n\t\tCLICK_CELL,\n\t\tMOUSEOVER_CELL,\n\t\tMOUSEOUT_CELL,\n\t\tMOUSEMOVE_CELL,\n\t}} = require('../../core/DrawGrid');\n\n\tclass SortHeader extends BaseHeader {\n\t\tconstructor(headerCell) {\n\t\t\tsuper(headerCell);\n\t\t\tthis._sort = headerCell.sort;\n\t\t\tthis._range = headerCell.range;\n\t\t}\n\t\tget StyleClass() {\n\t\t\treturn Style;\n\t\t}\n\t\tdrawInternal(value, context, style, helper, grid, {drawCellBase}) {\n\t\t\tconst {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline = 'middle',\n\t\t\t\tcolor,\n\t\t\t\tbgColor,\n\t\t\t\tfont,\n\t\t\t} = style;\n\n\t\t\tif (bgColor) {\n\t\t\t\tdrawCellBase({\n\t\t\t\t\tbgColor,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconst state = grid.sortState;\n\t\t\tlet order = undefined;\n\t\t\tif (this._range.isCellInRange(state.col, this._range.startRow)) {\n\t\t\t\t({order} = state);\n\t\t\t}\n\n\t\t\tconst ctx = context.getContext();\n\t\t\tconst arrowSize = getFontSize(ctx, font).width * 1.2;\n\n\t\t\thelper.text(value, context, {\n\t\t\t\ttextAlign,\n\t\t\t\ttextBaseline,\n\t\t\t\tcolor,\n\t\t\t\tfont,\n\t\t\t\ticons: [{\n\t\t\t\t\tname: isDef(order) ? (order === 'asc' ? 'arrow_downward' : 'arrow_upward') : null,\n\t\t\t\t\twidth: arrowSize,\n\t\t\t\t\tcolor: 'rgba(0, 0, 0, 0.38)',\n\t\t\t\t}],\n\t\t\t});\n\t\t}\n\t\t_executeSort(newState, grid) {\n\t\t\tif (typeof this._sort === 'function') {\n\t\t\t\tthis._sort(newState.order, newState.col, grid);\n\t\t\t} else {\n\t\t\t\tgrid.dataSource.sort(grid.getField(newState.col), newState.order);\n\t\t\t}\n\t\t}\n\t\tbindGridEvent(grid) {\n\t\t\treturn [\n\t\t\t\tgrid.listen(CLICK_CELL, (e) => {\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst state = grid.sortState;\n\t\t\t\t\tlet newState;\n\t\t\t\t\tif (this._range.isCellInRange(state.col, e.row)) {\n\t\t\t\t\t\tnewState = {\n\t\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\t\torder: state.order === 'asc' ? 'desc' : 'asc'\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewState = {\n\t\t\t\t\t\t\tcol: this._range.startCol,\n\t\t\t\t\t\t\torder: 'asc'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tgrid.sortState = newState;\n\t\t\t\t\tthis._executeSort(newState, grid);\n\t\t\t\t\tgrid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n\t\t\t\t}),\n\t\t\t\t// mouse move\n\t\t\t\tgrid.listen(MOUSEOVER_CELL, (e) => {\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t}),\n\t\t\t\t//MOUSEENTER'col-resize'move\n\t\t\t\tgrid.listen(MOUSEMOVE_CELL, (e) => {\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!grid.getElement().style.cursor) {\n\t\t\t\t\t\tgrid.getElement().style.cursor = 'pointer';\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tgrid.listen(MOUSEOUT_CELL, (e) => {\n\t\t\t\t\tif (!this._range.isCellInRange(e.col, e.row)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tgrid.getElement().style.cursor = '';\n\t\t\t\t}),\n\t\t\t];\n\t\t}\n\t}\n\tmodule.exports = SortHeader;\n}","'use strict';\n\n\nconst {isPromise} = require('../../internal/utils');\nconst {\n\tSELECTED_CELL,\n\tSCROLL,\n\tCHANGED_VALUE\n} = require('../../list-grid/EVENT_TYPE');\nconst ErrorMessage = require('./ErrorMessage');\nconst WarningMessage = require('./WarningMessage');\nconst InfoMessage = require('./InfoMessage');\n\nconst EMPTY_MESSAGE = {\n\ttype: 'error',\n\tmessage: undefined,\n};\n\nconst MESSAGE_INSTANCE_FACTORY = {\n\terror(grid) {\n\t\treturn new ErrorMessage(grid);\n\t},\n\tinfo(grid) {\n\t\treturn new InfoMessage(grid);\n\t},\n\twarning(grid) {\n\t\treturn new WarningMessage(grid);\n\t}\n};\n\nfunction normalizeMessage(message) {\n\tif (!message || isPromise(message)) {\n\t\treturn EMPTY_MESSAGE;\n\t}\n\tif (typeof message === 'string') {\n\t\treturn {\n\t\t\ttype: 'error',\n\t\t\tmessage,\n\t\t\toriginal: message,\n\t\t};\n\t}\n\tconst type = message.type || 'error';\n\tif (type && type in MESSAGE_INSTANCE_FACTORY) {\n\t\treturn {\n\t\t\ttype: type.toLowerCase(),\n\t\t\tmessage: `${message.message}`,\n\t\t\toriginal: message,\n\t\t};\n\t}\n\treturn {\n\t\ttype: 'error',\n\t\tmessage: `${message}`,\n\t\toriginal: message,\n\t};\n\n\n}\nfunction hasMessage(message) {\n\treturn !!normalizeMessage(message).message;\n}\nclass MessageHandler {\n\tconstructor(grid, getMessage) {\n\t\tthis._grid = grid;\n\t\tthis._messageInstances = {};\n\t\tthis._bindGridEvent(grid, getMessage);\n\t}\n\tdispose() {\n\t\tconst messageInstances = this._messageInstances;\n\t\tfor (const k in messageInstances) {\n\t\t\tmessageInstances[k].dispose();\n\t\t}\n\t\tthis._messageInstances = null;\n\t}\n\tdrawCellMessage(message, context, style, helper, info) {\n\n\t\tif (!hasMessage(message)) {\n\t\t\treturn;\n\t\t}\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tinstance.drawCellMessage(message, context, style, helper, info);\n\t}\n\t_attach(col, row, message) {\n\t\tconst info = this._attachInfo;\n\t\tconst instance = this._getMessageInstanceOfMessage(message);\n\t\tif (info && info.instance !== instance) {\n\t\t\tinfo.instance.detachMessageElement();\n\t\t}\n\t\tinstance.attachMessageElement(col, row, normalizeMessage(message));\n\t\tthis._attachInfo = {col, row, instance};\n\t}\n\t_move(col, row) {\n\t\tconst info = this._attachInfo;\n\t\tif (!info || info.col !== col || info.row !== row) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.moveMessageElement(col, row);\n\t}\n\t_detach() {\n\t\tconst info = this._attachInfo;\n\t\tif (!info) {\n\t\t\treturn;\n\t\t}\n\t\tconst {instance} = info;\n\t\tinstance.detachMessageElement();\n\t\tthis._attachInfo = null;\n\t}\n\t_bindGridEvent(grid, getMessage) {\n\t\tconst onSelectMessage = (sel) => {\n\t\t\tconst message = getMessage(sel.col, sel.row);\n\t\t\tif (!hasMessage(message)) {\n\t\t\t\tthis._detach();\n\t\t\t} else {\n\t\t\t\tthis._attach(sel.col, sel.row, message);\n\t\t\t}\n\n\t\t};\n\t\tgrid.listen(SELECTED_CELL, (e) => {\n\t\t\tif (!e.selected) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e.before.col === e.col && e.before.row === e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t\tgrid.listen(SCROLL, () => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tthis._move(sel.col, sel.row);\n\t\t});\n\t\tgrid.listen(CHANGED_VALUE, (e) => {\n\t\t\tconst sel = grid.selection.select;\n\t\t\tif (sel.col !== e.col || sel.row !== e.row) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSelectMessage(e);\n\t\t});\n\t}\n\t_getMessageInstanceOfMessage(message) {\n\t\tconst messageInstances = this._messageInstances;\n\t\tconst {type} = normalizeMessage(message);\n\t\treturn messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n\t}\n}\n\nmodule.exports = MessageHandler;","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst ErrorMessageElement = require('./internal/ErrorMessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst RED_A100 = '#ff8a80';\n\nclass ErrorMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new ErrorMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: RED_A100,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = ErrorMessage;","'use strict';\nconst MessageElement = require('./MessageElement');\n\nconst CLASSNAME = 'cheetah-grid__error-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\n\nclass ErrorMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\trequire('./ErrorMessageElement.css');\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = ErrorMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./MessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;user-select:none}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}.cheetah-grid__message-element{border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./ErrorMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst WarningMessageElement = require('./internal/WarningMessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst DEEP_ORANGE_A100 = '#ff9e80';\n\nclass WarningMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new WarningMessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawExclamationMarkBox(context, {\n\t\t\t\t\tbgColor: DEEP_ORANGE_A100,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = WarningMessage;","'use strict';\nconst MessageElement = require('./MessageElement');\n\nconst CLASSNAME = 'cheetah-grid__warning-message-element';\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\n\nclass WarningMessageElement extends MessageElement {\n\tconstructor() {\n\t\tsuper();\n\t\trequire('./WarningMessageElement.css');\n\t\tthis._rootElement.classList.add(CLASSNAME);\n\t\tthis._messageElement.classList.add(MESSAGE_CLASSNAME);\n\t}\n}\n\nmodule.exports = WarningMessageElement;","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js?minimize!./WarningMessageElement.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n\n// exports\n","'use strict';\n\nconst BaseMessage = require('./BaseMessage');\nconst MessageElement = require('./internal/MessageElement');\nconst messageUtils = require('./messageUtils');\n\nconst GREY_L2 = '#e0e0e0';\n\nclass InfoMessage extends BaseMessage {\n\tcreateMessageElementInternal() {\n\t\treturn new MessageElement();\n\t}\n\tdrawCellMessageInternal(message, context, style, helper, info) {\n\t\tconst {bgColor} = style;\n\t\tconst {selected} = context.getSelectState();\n\n\t\thelper.drawBorderWithClip(context, (ctx) => {\n\t\t\tif (!selected) {\n\t\t\t\tmessageUtils.drawInfomationMarkBox(context, {\n\t\t\t\t\tbgColor: GREY_L2,\n\t\t\t\t\tcolor: bgColor,\n\t\t\t\t}, helper);\n\t\t\t}\n\t\t});\n\t}\n}\n\nmodule.exports = InfoMessage;","'use strict';\n\nconst themePlugins = require('./plugins/themes');\nconst iconPlugins = require('./plugins/icons');\n\nfunction register(obj, name, value) {\n\tif (value) {\n\t\tconst old = obj[name];\n\t\tobj[name] = value;\n\t\treturn old;\n\t} else {\n\t\treturn obj[name];\n\t}\n}\nfunction registers(obj, values) {\n\tfor (const k in values) {\n\t\tobj[k] = values[k];\n\t}\n}\nmodule.exports = {\n\ttheme(name, theme) {\n\t\treturn register(themePlugins, name, theme);\n\t},\n\ticon(name, icon) {\n\t\treturn register(iconPlugins, name, icon);\n\t},\n\ticons(icons) {\n\t\tregisters(iconPlugins, icons);\n\t},\n};"],"sourceRoot":""}